(function(){"use strict";const i={top_bar_height:2,top_bar_margin:.5,top_bar_padding:0,hex_grid_side_border:10,hex_grid_top_border:60,hex_grid_bottom_border:10};function f(t){return Math.round(Math.sqrt(3)*t)}function l(t){return t*2}function g(t){return t/2}function u(t,e,o){const n=f(o),_=(t%2==1?n/2:0)+n/2+n*(e-1)+i.hex_grid_side_border,r=i.hex_grid_top_border+o+o*1.5*(t-1);return[{x:_,y:r-o},{x:_+n/2,y:r-o/2},{x:_+n/2,y:r+o/2},{x:_,y:r+o},{x:_-n/2,y:r+o/2},{x:_-n/2,y:r-o/2}]}function x(t){const e=new Path2D;e.moveTo(t[0].x,t[0].y);for(let o=1;o<t.length;o++)e.lineTo(t[o].x,t[o].y);return e.closePath(),e}function b(t,e){return e*(t*1.5)+i.hex_grid_top_border+t/2+i.hex_grid_bottom_border}function m(t,e){const o=f(t);return i.hex_grid_side_border*2+o/2+o*e}const c={get_short_diagonal_length:f,get_long_diagonal_length:l,get_peak_height:g,get_hexagon_points:u,get_canvas_path_2d:x,get_canvas_height:b,get_canvas_width:m},p={background_color_hexidecimal:{unset:"#FFFFFF",ocean:"#a5c6fa",mountain:"#9d9fa1",bog:"#ffe4fd",forest:"#a1e070",plains:"#ddfec3",desert:"#fae4a7",hills:"#d1d2d3",white:"#ffffff",black:"#000000",road:"#664900",red:"#a83232"}.white,is_top_left_river:!1,is_top_right_river:!1,is_right_river:!1,is_bottom_right_river:!1,is_bottom_left_river:!1,is_left_river:!1,is_top_left_road:!1,is_top_right_road:!1,is_right_road:!1,is_bottom_right_road:!1,is_bottom_left_road:!1,is_left_road:!1,town_size:0};onmessage=t=>{const e=t.data.edge_length,o=t.data.num_rows,n=t.data.num_columns,_=[],r=c.get_canvas_height(e,o),v=c.get_canvas_width(e,n);for(let a=1;a<=o;a++)for(let s=1;s<=o;s++)_.push({row_number:a,column_number:s,points:c.get_hexagon_points(a,s,e),...p});const d=new OffscreenCanvas(v,r),h=d.getContext("2d");h.lineWidth=.1;for(let a=0;a<_.length;a++){const s=_[a];h.stroke(c.get_canvas_path_2d(s.points))}postMessage({bitmap:d.transferToImageBitmap(),hexagon_definitions:_})}})();
