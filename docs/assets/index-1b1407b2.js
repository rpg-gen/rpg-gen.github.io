function NS(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function cx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qo={},FS={get exports(){return qo},set exports(e){qo=e}},sc={},A={},BS={get exports(){return A},set exports(e){A=e}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),zS=Symbol.for("react.portal"),US=Symbol.for("react.fragment"),$S=Symbol.for("react.strict_mode"),jS=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),YS=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),VS=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),Eg=Symbol.iterator;function KS(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fx=Object.assign,dx={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=dx,this.updater=n||hx}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function px(){}px.prototype=Vs.prototype;function cp(e,t,n){this.props=e,this.context=t,this.refs=dx,this.updater=n||hx}var hp=cp.prototype=new px;hp.constructor=cp;fx(hp,Vs.prototype);hp.isPureReactComponent=!0;var Ig=Array.isArray,mx=Object.prototype.hasOwnProperty,fp={current:null},gx={key:!0,ref:!0,__self:!0,__source:!0};function yx(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)mx.call(t,i)&&!gx.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Pa,type:e,key:s,ref:o,props:r,_owner:fp.current}}function QS(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function JS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ag=/\/+/g;function wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JS(""+e.key):t.toString(36)}function $l(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pa:case zS:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+wh(o,0):i,Ig(r)?(n="",e!=null&&(n=e.replace(Ag,"$&/")+"/"),$l(r,t,n,"",function(u){return u})):r!=null&&(dp(r)&&(r=QS(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Ag,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Ig(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+wh(s,a);o+=$l(s,t,n,l,r)}else if(l=KS(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+wh(s,a++),o+=$l(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dl(e,t,n){if(e==null)return e;var i=[],r=0;return $l(e,i,"","",function(s){return t.call(n,s,r++)}),i}function XS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},jl={transition:null},ZS={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:jl,ReactCurrentOwner:fp};ve.Children={map:dl,forEach:function(e,t,n){dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dl(e,function(){t++}),t},toArray:function(e){return dl(e,function(t){return t})||[]},only:function(e){if(!dp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Vs;ve.Fragment=US;ve.Profiler=jS;ve.PureComponent=cp;ve.StrictMode=$S;ve.Suspense=VS;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=fx({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fp.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mx.call(t,l)&&!gx.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Pa,type:e.type,key:r,ref:s,props:i,_owner:o}};ve.createContext=function(e){return e={$$typeof:YS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HS,_context:e},e.Consumer=e};ve.createElement=yx;ve.createFactory=function(e){var t=yx.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:WS,render:e}};ve.isValidElement=dp;ve.lazy=function(e){return{$$typeof:qS,_payload:{_status:-1,_result:e},_init:XS}};ve.memo=function(e,t){return{$$typeof:GS,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(e,t){return jt.current.useCallback(e,t)};ve.useContext=function(e){return jt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return jt.current.useEffect(e,t)};ve.useId=function(){return jt.current.useId()};ve.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return jt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};ve.useRef=function(e){return jt.current.useRef(e)};ve.useState=function(e){return jt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return jt.current.useTransition()};ve.version="18.2.0";(function(e){e.exports=ve})(BS);const li=cx(A),Sf=NS({__proto__:null,default:li},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=A,tC=Symbol.for("react.element"),nC=Symbol.for("react.fragment"),iC=Object.prototype.hasOwnProperty,rC=eC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sC={key:!0,ref:!0,__self:!0,__source:!0};function vx(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)iC.call(t,i)&&!sC.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:tC,type:e,key:s,ref:o,props:r,_owner:rC.current}}sc.Fragment=nC;sc.jsx=vx;sc.jsxs=vx;(function(e){e.exports=sc})(FS);const Pe=qo.Fragment,x=qo.jsx,H=qo.jsxs;var Cf={},Tf={},oC={get exports(){return Tf},set exports(e){Tf=e}},un={},Ef={},aC={get exports(){return Ef},set exports(e){Ef=e}},wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,Q){var w=j.length;j.push(Q);e:for(;0<w;){var le=w-1>>>1,te=j[le];if(0<r(te,Q))j[le]=Q,j[w]=te,w=le;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var Q=j[0],w=j.pop();if(w!==Q){j[0]=w;e:for(var le=0,te=j.length,_=te>>>1;le<_;){var q=2*(le+1)-1,ze=j[q],be=q+1,xt=j[be];if(0>r(ze,w))be<te&&0>r(xt,ze)?(j[le]=xt,j[be]=w,le=be):(j[le]=ze,j[q]=w,le=q);else if(be<te&&0>r(xt,w))j[le]=xt,j[be]=w,le=be;else break e}}return Q}function r(j,Q){var w=j.sortIndex-Q.sortIndex;return w!==0?w:j.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,v=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=j)i(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function C(j){if(g=!1,y(j),!v)if(n(l)!==null)v=!0,Be(E);else{var Q=n(u);Q!==null&&pe(C,Q.startTime-j)}}function E(j,Q){v=!1,g&&(g=!1,p(N),N=-1),d=!0;var w=f;try{for(y(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||j&&!R());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var te=le(h.expirationTime<=Q);Q=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&i(l),y(Q)}else i(l);h=n(l)}if(h!==null)var _=!0;else{var q=n(u);q!==null&&pe(C,q.startTime-Q),_=!1}return _}finally{h=null,f=w,d=!1}}var k=!1,P=null,N=-1,D=5,O=-1;function R(){return!(e.unstable_now()-O<D)}function F(){if(P!==null){var j=e.unstable_now();O=j;var Q=!0;try{Q=P(!0,j)}finally{Q?X():(k=!1,P=null)}}else k=!1}var X;if(typeof m=="function")X=function(){m(F)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,he=ge.port2;ge.port1.onmessage=F,X=function(){he.postMessage(null)}}else X=function(){S(F,0)};function Be(j){P=j,k||(k=!0,X())}function pe(j,Q){N=S(function(){j(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,Be(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var w=f;f=Q;try{return j()}finally{f=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var w=f;f=j;try{return Q()}finally{f=w}},e.unstable_scheduleCallback=function(j,Q,w){var le=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?le+w:le):w=le,j){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=w+te,j={id:c++,callback:Q,priorityLevel:j,startTime:w,expirationTime:te,sortIndex:-1},w>le?(j.sortIndex=w,t(u,j),n(l)===null&&j===n(u)&&(g?(p(N),N=-1):g=!0,pe(C,w-le))):(j.sortIndex=te,t(l,j),v||d||(v=!0,Be(E))),j},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(j){var Q=f;return function(){var w=f;f=Q;try{return j.apply(this,arguments)}finally{f=w}}}})(wx);(function(e){e.exports=wx})(aC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=A,an=Ef;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _x=new Set,Ko={};function Ur(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(Ko[e]=t,e=0;e<t.length;e++)_x.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pg={},Dg={};function uC(e){return If.call(Dg,e)?!0:If.call(Pg,e)?!1:lC.test(e)?Dg[e]=!0:(Pg[e]=!0,!1)}function cC(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hC(e,t,n,i){if(t===null||typeof t>"u"||cC(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function mp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pp,mp);vt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pp,mp);vt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pp,mp);vt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function gp(e,t,n,i){var r=vt.hasOwnProperty(t)?vt[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hC(t,n,r,i)&&(n=null),i||r===null?uC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var _i=xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),Sx=Symbol.for("react.offscreen"),Rg=Symbol.iterator;function so(e){return e===null||typeof e!="object"?null:(e=Rg&&e[Rg]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,xh;function wo(e){if(xh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xh=t&&t[1]||""}return`
`+xh+e}var _h=!1;function bh(e,t){if(!e||_h)return"";_h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{_h=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function fC(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=bh(e.type,!1),e;case 11:return e=bh(e.type.render,!1),e;case 1:return e=bh(e.type,!0),e;default:return""}}function Rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case Af:return"Profiler";case yp:return"StrictMode";case Pf:return"Suspense";case Df:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kx:return(e.displayName||"Context")+".Consumer";case bx:return(e._context.displayName||"Context")+".Provider";case vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wp:return t=e.displayName||null,t!==null?t:Rf(e.type)||"Memo";case Ri:t=e._payload,e=e._init;try{return Rf(e(t))}catch{}}return null}function dC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(t);case 8:return t===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pC(e){var t=Cx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=pC(e))}function Tx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Cx(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mf(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mg(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ex(e,t){t=t.checked,t!=null&&gp(e,"checked",t,!1)}function Of(e,t){Ex(e,t);var n=tr(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lf(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Og(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lf(e,t,n){(t!=="number"||uu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xo=Array.isArray;function ms(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Nf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(xo(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function Ix(e,t){var n=tr(t.value),i=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ng(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ax(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ax(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gl,Px=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mC=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){mC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function Dx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function Rx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Dx(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var gC=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(e,t){if(t){if(gC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function zf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $f=null,gs=null,ys=null;function Fg(e){if(e=Ma(e)){if(typeof $f!="function")throw Error(B(280));var t=e.stateNode;t&&(t=cc(t),$f(e.stateNode,e.type,t))}}function Mx(e){gs?ys?ys.push(e):ys=[e]:gs=e}function Ox(){if(gs){var e=gs,t=ys;if(ys=gs=null,Fg(e),t)for(e=0;e<t.length;e++)Fg(t[e])}}function Lx(e,t){return e(t)}function Nx(){}var kh=!1;function Fx(e,t,n){if(kh)return e(t,n);kh=!0;try{return Lx(e,t,n)}finally{kh=!1,(gs!==null||ys!==null)&&(Nx(),Ox())}}function Jo(e,t){var n=e.stateNode;if(n===null)return null;var i=cc(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var jf=!1;if(fi)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){jf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{jf=!1}function yC(e,t,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Do=!1,cu=null,hu=!1,Hf=null,vC={onError:function(e){Do=!0,cu=e}};function wC(e,t,n,i,r,s,o,a,l){Do=!1,cu=null,yC.apply(vC,arguments)}function xC(e,t,n,i,r,s,o,a,l){if(wC.apply(this,arguments),Do){if(Do){var u=cu;Do=!1,cu=null}else throw Error(B(198));hu||(hu=!0,Hf=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bg(e){if($r(e)!==e)throw Error(B(188))}function _C(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Bg(r),e;if(s===i)return Bg(r),t;s=s.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function zx(e){return e=_C(e),e!==null?Ux(e):null}function Ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ux(e);if(t!==null)return t;e=e.sibling}return null}var $x=an.unstable_scheduleCallback,zg=an.unstable_cancelCallback,bC=an.unstable_shouldYield,kC=an.unstable_requestPaint,Ke=an.unstable_now,SC=an.unstable_getCurrentPriorityLevel,_p=an.unstable_ImmediatePriority,jx=an.unstable_UserBlockingPriority,fu=an.unstable_NormalPriority,CC=an.unstable_LowPriority,Hx=an.unstable_IdlePriority,oc=null,$n=null;function TC(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(oc,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:AC,EC=Math.log,IC=Math.LN2;function AC(e){return e>>>=0,e===0?32:31-(EC(e)/IC|0)|0}var yl=64,vl=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function du(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=_o(a):(s&=o,s!==0&&(i=_o(s)))}else o=n&~r,o!==0?i=_o(o):s!==0&&(i=_o(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-An(t),r=1<<n,i|=e[n],t&=~r;return i}function PC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DC(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=PC(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Yf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yx(){var e=yl;return yl<<=1,!(yl&4194240)&&(yl=64),e}function Sh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-An(t),e[t]=n}function RC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-An(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function bp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-An(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Ee=0;function Wx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,kp,Gx,qx,Kx,Wf=!1,wl=[],ji=null,Hi=null,Yi=null,Xo=new Map,Zo=new Map,Oi=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ug(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function ao(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Ma(t),t!==null&&kp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function OC(e,t,n,i,r){switch(t){case"focusin":return ji=ao(ji,e,t,n,i,r),!0;case"dragenter":return Hi=ao(Hi,e,t,n,i,r),!0;case"mouseover":return Yi=ao(Yi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Xo.set(s,ao(Xo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Zo.set(s,ao(Zo.get(s)||null,e,t,n,i,r)),!0}return!1}function Qx(e){var t=vr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=Bx(n),t!==null){e.blockedOn=t,Kx(e.priority,function(){Gx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Uf=i,n.target.dispatchEvent(i),Uf=null}else return t=Ma(n),t!==null&&kp(t),e.blockedOn=n,!1;t.shift()}return!0}function $g(e,t,n){Hl(e)&&n.delete(t)}function LC(){Wf=!1,ji!==null&&Hl(ji)&&(ji=null),Hi!==null&&Hl(Hi)&&(Hi=null),Yi!==null&&Hl(Yi)&&(Yi=null),Xo.forEach($g),Zo.forEach($g)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,LC)))}function ea(e){function t(r){return lo(r,e)}if(0<wl.length){lo(wl[0],e);for(var n=1;n<wl.length;n++){var i=wl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(ji!==null&&lo(ji,e),Hi!==null&&lo(Hi,e),Yi!==null&&lo(Yi,e),Xo.forEach(t),Zo.forEach(t),n=0;n<Oi.length;n++)i=Oi[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)Qx(n),n.blockedOn===null&&Oi.shift()}var vs=_i.ReactCurrentBatchConfig,pu=!0;function NC(e,t,n,i){var r=Ee,s=vs.transition;vs.transition=null;try{Ee=1,Sp(e,t,n,i)}finally{Ee=r,vs.transition=s}}function FC(e,t,n,i){var r=Ee,s=vs.transition;vs.transition=null;try{Ee=4,Sp(e,t,n,i)}finally{Ee=r,vs.transition=s}}function Sp(e,t,n,i){if(pu){var r=Vf(e,t,n,i);if(r===null)Oh(e,t,i,mu,n),Ug(e,i);else if(OC(r,e,t,n,i))i.stopPropagation();else if(Ug(e,i),t&4&&-1<MC.indexOf(e)){for(;r!==null;){var s=Ma(r);if(s!==null&&Vx(s),s=Vf(e,t,n,i),s===null&&Oh(e,t,i,mu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Oh(e,t,i,null,n)}}var mu=null;function Vf(e,t,n,i){if(mu=null,e=xp(i),e=vr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mu=e,null}function Jx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SC()){case _p:return 1;case jx:return 4;case fu:case CC:return 16;case Hx:return 536870912;default:return 16}default:return 16}}var Ui=null,Cp=null,Yl=null;function Xx(){if(Yl)return Yl;var e,t=Cp,n=t.length,i,r="value"in Ui?Ui.value:Ui.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Yl=r.slice(e,1<i?1-i:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function jg(){return!1}function cn(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xl:jg,this.isPropagationStopped=jg,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=cn(Gs),Ra=Ve({},Gs,{view:0,detail:0}),BC=cn(Ra),Ch,Th,uo,ac=Ve({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Ch=e.screenX-uo.screenX,Th=e.screenY-uo.screenY):Th=Ch=0,uo=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:Th}}),Hg=cn(ac),zC=Ve({},ac,{dataTransfer:0}),UC=cn(zC),$C=Ve({},Ra,{relatedTarget:0}),Eh=cn($C),jC=Ve({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),HC=cn(jC),YC=Ve({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WC=cn(YC),VC=Ve({},Gs,{data:0}),Yg=cn(VC),GC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KC[e])?!!t[e]:!1}function Ep(){return QC}var JC=Ve({},Ra,{key:function(e){if(e.key){var t=GC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ep,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XC=cn(JC),ZC=Ve({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=cn(ZC),eT=Ve({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ep}),tT=cn(eT),nT=Ve({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),iT=cn(nT),rT=Ve({},ac,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sT=cn(rT),oT=[9,13,27,32],Ip=fi&&"CompositionEvent"in window,Ro=null;fi&&"documentMode"in document&&(Ro=document.documentMode);var aT=fi&&"TextEvent"in window&&!Ro,Zx=fi&&(!Ip||Ro&&8<Ro&&11>=Ro),Vg=String.fromCharCode(32),Gg=!1;function e_(e,t){switch(e){case"keyup":return oT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function lT(e,t){switch(e){case"compositionend":return t_(t);case"keypress":return t.which!==32?null:(Gg=!0,Vg);case"textInput":return e=t.data,e===Vg&&Gg?null:e;default:return null}}function uT(e,t){if(ns)return e==="compositionend"||!Ip&&e_(e,t)?(e=Xx(),Yl=Cp=Ui=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zx&&t.locale!=="ko"?null:t.data;default:return null}}var cT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cT[e.type]:t==="textarea"}function n_(e,t,n,i){Mx(i),t=gu(t,"onChange"),0<t.length&&(n=new Tp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mo=null,ta=null;function hT(e){d_(e,0)}function lc(e){var t=ss(e);if(Tx(t))return e}function fT(e,t){if(e==="change")return t}var i_=!1;if(fi){var Ih;if(fi){var Ah="oninput"in document;if(!Ah){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Ah=typeof Kg.oninput=="function"}Ih=Ah}else Ih=!1;i_=Ih&&(!document.documentMode||9<document.documentMode)}function Qg(){Mo&&(Mo.detachEvent("onpropertychange",r_),ta=Mo=null)}function r_(e){if(e.propertyName==="value"&&lc(ta)){var t=[];n_(t,ta,e,xp(e)),Fx(hT,t)}}function dT(e,t,n){e==="focusin"?(Qg(),Mo=t,ta=n,Mo.attachEvent("onpropertychange",r_)):e==="focusout"&&Qg()}function pT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(ta)}function mT(e,t){if(e==="click")return lc(t)}function gT(e,t){if(e==="input"||e==="change")return lc(t)}function yT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:yT;function na(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!If.call(t,r)||!Dn(e[r],t[r]))return!1}return!0}function Jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xg(e,t){var n=Jg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jg(n)}}function s_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o_(){for(var e=window,t=uu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uu(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vT(e){var t=o_(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(i!==null&&Ap(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Xg(n,s);var o=Xg(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wT=fi&&"documentMode"in document&&11>=document.documentMode,is=null,Gf=null,Oo=null,qf=!1;function Zg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||is==null||is!==uu(i)||(i=is,"selectionStart"in i&&Ap(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oo&&na(Oo,i)||(Oo=i,i=gu(Gf,"onSelect"),0<i.length&&(t=new Tp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=is)))}function _l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Ph={},a_={};fi&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function uc(e){if(Ph[e])return Ph[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in a_)return Ph[e]=t[n];return e}var l_=uc("animationend"),u_=uc("animationiteration"),c_=uc("animationstart"),h_=uc("transitionend"),f_=new Map,ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){f_.set(e,t),Ur(t,[e])}for(var Dh=0;Dh<ey.length;Dh++){var Rh=ey[Dh],xT=Rh.toLowerCase(),_T=Rh[0].toUpperCase()+Rh.slice(1);or(xT,"on"+_T)}or(l_,"onAnimationEnd");or(u_,"onAnimationIteration");or(c_,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(h_,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function ty(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,xC(i,t,void 0,e),e.currentTarget=null}function d_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ty(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ty(r,a,u),s=l}}}if(hu)throw e=Hf,hu=!1,Hf=null,e}function Le(e,t){var n=t[Zf];n===void 0&&(n=t[Zf]=new Set);var i=e+"__bubble";n.has(i)||(p_(t,e,2,!1),n.add(i))}function Mh(e,t,n){var i=0;t&&(i|=4),p_(n,e,i,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[bl]){e[bl]=!0,_x.forEach(function(n){n!=="selectionchange"&&(bT.has(n)||Mh(n,!1,e),Mh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,Mh("selectionchange",!1,t))}}function p_(e,t,n,i){switch(Jx(t)){case 1:var r=NC;break;case 4:r=FC;break;default:r=Sp}n=r.bind(null,t,n,e),r=void 0,!jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=vr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Fx(function(){var u=s,c=xp(n),h=[];e:{var f=f_.get(e);if(f!==void 0){var d=Tp,v=e;switch(e){case"keypress":if(Wl(n)===0)break e;case"keydown":case"keyup":d=XC;break;case"focusin":v="focus",d=Eh;break;case"focusout":v="blur",d=Eh;break;case"beforeblur":case"afterblur":d=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=tT;break;case l_:case u_:case c_:d=HC;break;case h_:d=iT;break;case"scroll":d=BC;break;case"wheel":d=sT;break;case"copy":case"cut":case"paste":d=WC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Wg}var g=(t&4)!==0,S=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var m=u,y;m!==null;){y=m;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,p!==null&&(C=Jo(m,p),C!=null&&g.push(ra(m,C,y)))),S)break;m=m.return}0<g.length&&(f=new d(f,v,null,n,c),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==Uf&&(v=n.relatedTarget||n.fromElement)&&(vr(v)||v[di]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=u,v=v?vr(v):null,v!==null&&(S=$r(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(g=Hg,C="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Wg,C="onPointerLeave",p="onPointerEnter",m="pointer"),S=d==null?f:ss(d),y=v==null?f:ss(v),f=new g(C,m+"leave",d,n,c),f.target=S,f.relatedTarget=y,C=null,vr(c)===u&&(g=new g(p,m+"enter",v,n,c),g.target=y,g.relatedTarget=S,C=g),S=C,d&&v)t:{for(g=d,p=v,m=0,y=g;y;y=Kr(y))m++;for(y=0,C=p;C;C=Kr(C))y++;for(;0<m-y;)g=Kr(g),m--;for(;0<y-m;)p=Kr(p),y--;for(;m--;){if(g===p||p!==null&&g===p.alternate)break t;g=Kr(g),p=Kr(p)}g=null}else g=null;d!==null&&ny(h,f,d,g,!1),v!==null&&S!==null&&ny(h,S,v,g,!0)}}e:{if(f=u?ss(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=fT;else if(qg(f))if(i_)E=gT;else{E=pT;var k=dT}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=mT);if(E&&(E=E(e,u))){n_(h,E,n,c);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Lf(f,"number",f.value)}switch(k=u?ss(u):window,e){case"focusin":(qg(k)||k.contentEditable==="true")&&(is=k,Gf=u,Oo=null);break;case"focusout":Oo=Gf=is=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Zg(h,n,c);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Zg(h,n,c)}var P;if(Ip)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ns?e_(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Zx&&n.locale!=="ko"&&(ns||N!=="onCompositionStart"?N==="onCompositionEnd"&&ns&&(P=Xx()):(Ui=c,Cp="value"in Ui?Ui.value:Ui.textContent,ns=!0)),k=gu(u,N),0<k.length&&(N=new Yg(N,e,null,n,c),h.push({event:N,listeners:k}),P?N.data=P:(P=t_(n),P!==null&&(N.data=P)))),(P=aT?lT(e,n):uT(e,n))&&(u=gu(u,"onBeforeInput"),0<u.length&&(c=new Yg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=P))}d_(h,t)})}function ra(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Jo(e,n),s!=null&&i.unshift(ra(e,s,r)),s=Jo(e,t),s!=null&&i.push(ra(e,s,r))),e=e.return}return i}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ny(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Jo(n,s),l!=null&&o.unshift(ra(n,l,a))):r||(l=Jo(n,s),l!=null&&o.push(ra(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace(kT,`
`).replace(ST,"")}function kl(e,t,n){if(t=iy(t),iy(e)!==t&&n)throw Error(B(425))}function yu(){}var Kf=null,Qf=null;function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,TT=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(e){return ry.resolve(null).then(e).catch(ET)}:Xf;function ET(e){setTimeout(function(){throw e})}function Lh(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),ea(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ea(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+qs,sa="__reactProps$"+qs,di="__reactContainer$"+qs,Zf="__reactEvents$"+qs,IT="__reactListeners$"+qs,AT="__reactHandles$"+qs;function vr(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[Bn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sy(e);e!==null;){if(n=e[Bn])return n;e=sy(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[Bn]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function cc(e){return e[sa]||null}var ed=[],os=-1;function ar(e){return{current:e}}function Fe(e){0>os||(e.current=ed[os],ed[os]=null,os--)}function De(e,t){os++,ed[os]=e.current,e.current=t}var nr={},Rt=ar(nr),qt=ar(!1),Pr=nr;function As(e,t){var n=e.type.contextTypes;if(!n)return nr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Kt(e){return e=e.childContextTypes,e!=null}function vu(){Fe(qt),Fe(Rt)}function oy(e,t,n){if(Rt.current!==nr)throw Error(B(168));De(Rt,t),De(qt,n)}function m_(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(B(108,dC(e)||"Unknown",r));return Ve({},n,i)}function wu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Pr=Rt.current,De(Rt,e),De(qt,qt.current),!0}function ay(e,t,n){var i=e.stateNode;if(!i)throw Error(B(169));n?(e=m_(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Fe(qt),Fe(Rt),De(Rt,e)):Fe(qt),De(qt,n)}var ni=null,hc=!1,Nh=!1;function g_(e){ni===null?ni=[e]:ni.push(e)}function PT(e){hc=!0,g_(e)}function lr(){if(!Nh&&ni!==null){Nh=!0;var e=0,t=Ee;try{var n=ni;for(Ee=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ni=null,hc=!1}catch(r){throw ni!==null&&(ni=ni.slice(e+1)),$x(_p,lr),r}finally{Ee=t,Nh=!1}}return null}var as=[],ls=0,xu=null,_u=0,fn=[],dn=0,Dr=null,ii=1,ri="";function pr(e,t){as[ls++]=_u,as[ls++]=xu,xu=e,_u=t}function y_(e,t,n){fn[dn++]=ii,fn[dn++]=ri,fn[dn++]=Dr,Dr=e;var i=ii;e=ri;var r=32-An(i)-1;i&=~(1<<r),n+=1;var s=32-An(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ii=1<<32-An(t)+r|n<<r|i,ri=s+e}else ii=1<<s|n<<r|i,ri=e}function Pp(e){e.return!==null&&(pr(e,1),y_(e,1,0))}function Dp(e){for(;e===xu;)xu=as[--ls],as[ls]=null,_u=as[--ls],as[ls]=null;for(;e===Dr;)Dr=fn[--dn],fn[dn]=null,ri=fn[--dn],fn[dn]=null,ii=fn[--dn],fn[dn]=null}var sn=null,nn=null,Ue=!1,En=null;function v_(e,t){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ly(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,nn=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:ii,overflow:ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,nn=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(Ue){var t=nn;if(t){var n=t;if(!ly(e,t)){if(td(e))throw Error(B(418));t=Wi(n.nextSibling);var i=sn;t&&ly(e,t)?v_(i,n):(e.flags=e.flags&-4097|2,Ue=!1,sn=e)}}else{if(td(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ue=!1,sn=e}}}function uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Sl(e){if(e!==sn)return!1;if(!Ue)return uy(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jf(e.type,e.memoizedProps)),t&&(t=nn)){if(td(e))throw w_(),Error(B(418));for(;t;)v_(e,t),t=Wi(t.nextSibling)}if(uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nn=Wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=sn?Wi(e.stateNode.nextSibling):null;return!0}function w_(){for(var e=nn;e;)e=Wi(e.nextSibling)}function Ps(){nn=sn=null,Ue=!1}function Rp(e){En===null?En=[e]:En.push(e)}var DT=_i.ReactCurrentBatchConfig;function Cn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var bu=ar(null),ku=null,us=null,Mp=null;function Op(){Mp=us=ku=null}function Lp(e){var t=bu.current;Fe(bu),e._currentValue=t}function id(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){ku=e,Mp=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Mp!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(ku===null)throw Error(B(308));us=e,ku.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var wr=null;function Np(e){wr===null?wr=[e]:wr.push(e)}function x_(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Np(t)):(n.next=r.next,r.next=n),t.interleaved=n,pi(e,i)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mi=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function __(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_e&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,pi(e,n)}return r=i.interleaved,r===null?(t.next=t,Np(i)):(t.next=r.next,r.next=t),i.interleaved=t,pi(e,n)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,bp(e,n)}}function cy(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Su(e,t,n,i){var r=e.updateQueue;Mi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(f=t,d=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(d,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(d,h,f):v,f==null)break e;h=Ve({},h,f);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Mr|=o,e.lanes=o,e.memoizedState=h}}function hy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(B(191,r));r.call(i)}}}var b_=new xx.Component().refs;function rd(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fc={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ut(),r=qi(e),s=ui(i,r);s.payload=t,n!=null&&(s.callback=n),t=Vi(e,s,r),t!==null&&(Pn(t,e,r,i),Vl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ut(),r=qi(e),s=ui(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vi(e,s,r),t!==null&&(Pn(t,e,r,i),Vl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),i=qi(e),r=ui(n,i);r.tag=2,t!=null&&(r.callback=t),t=Vi(e,r,i),t!==null&&(Pn(t,e,i,n),Vl(t,e,i))}};function fy(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!na(n,i)||!na(r,s):!0}function k_(e,t,n){var i=!1,r=nr,s=t.contextType;return typeof s=="object"&&s!==null?s=wn(s):(r=Kt(t)?Pr:Rt.current,i=t.contextTypes,s=(i=i!=null)?As(e,r):nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function dy(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fc.enqueueReplaceState(t,t.state,null)}function sd(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=b_,Fp(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=wn(s):(s=Kt(t)?Pr:Rt.current,r.context=As(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rd(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&fc.enqueueReplaceState(r,r.state,null),Su(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;a===b_&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function py(e){var t=e._init;return t(e._payload)}function S_(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function i(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function r(p,m){return p=Ki(p,m),p.index=0,p.sibling=null,p}function s(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,C){return m===null||m.tag!==6?(m=Hh(y,p.mode,C),m.return=p,m):(m=r(m,y),m.return=p,m)}function l(p,m,y,C){var E=y.type;return E===ts?c(p,m,y.props.children,C,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ri&&py(E)===m.type)?(C=r(m,y.props),C.ref=co(p,m,y),C.return=p,C):(C=Xl(y.type,y.key,y.props,null,p.mode,C),C.ref=co(p,m,y),C.return=p,C)}function u(p,m,y,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Yh(y,p.mode,C),m.return=p,m):(m=r(m,y.children||[]),m.return=p,m)}function c(p,m,y,C,E){return m===null||m.tag!==7?(m=Tr(y,p.mode,C,E),m.return=p,m):(m=r(m,y),m.return=p,m)}function h(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Hh(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pl:return y=Xl(m.type,m.key,m.props,null,p.mode,y),y.ref=co(p,null,m),y.return=p,y;case es:return m=Yh(m,p.mode,y),m.return=p,m;case Ri:var C=m._init;return h(p,C(m._payload),y)}if(xo(m)||so(m))return m=Tr(m,p.mode,y,null),m.return=p,m;Cl(p,m)}return null}function f(p,m,y,C){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(p,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pl:return y.key===E?l(p,m,y,C):null;case es:return y.key===E?u(p,m,y,C):null;case Ri:return E=y._init,f(p,m,E(y._payload),C)}if(xo(y)||so(y))return E!==null?null:c(p,m,y,C,null);Cl(p,y)}return null}function d(p,m,y,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(y)||null,a(m,p,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pl:return p=p.get(C.key===null?y:C.key)||null,l(m,p,C,E);case es:return p=p.get(C.key===null?y:C.key)||null,u(m,p,C,E);case Ri:var k=C._init;return d(p,m,y,k(C._payload),E)}if(xo(C)||so(C))return p=p.get(y)||null,c(m,p,C,E,null);Cl(m,C)}return null}function v(p,m,y,C){for(var E=null,k=null,P=m,N=m=0,D=null;P!==null&&N<y.length;N++){P.index>N?(D=P,P=null):D=P.sibling;var O=f(p,P,y[N],C);if(O===null){P===null&&(P=D);break}e&&P&&O.alternate===null&&t(p,P),m=s(O,m,N),k===null?E=O:k.sibling=O,k=O,P=D}if(N===y.length)return n(p,P),Ue&&pr(p,N),E;if(P===null){for(;N<y.length;N++)P=h(p,y[N],C),P!==null&&(m=s(P,m,N),k===null?E=P:k.sibling=P,k=P);return Ue&&pr(p,N),E}for(P=i(p,P);N<y.length;N++)D=d(P,p,N,y[N],C),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?N:D.key),m=s(D,m,N),k===null?E=D:k.sibling=D,k=D);return e&&P.forEach(function(R){return t(p,R)}),Ue&&pr(p,N),E}function g(p,m,y,C){var E=so(y);if(typeof E!="function")throw Error(B(150));if(y=E.call(y),y==null)throw Error(B(151));for(var k=E=null,P=m,N=m=0,D=null,O=y.next();P!==null&&!O.done;N++,O=y.next()){P.index>N?(D=P,P=null):D=P.sibling;var R=f(p,P,O.value,C);if(R===null){P===null&&(P=D);break}e&&P&&R.alternate===null&&t(p,P),m=s(R,m,N),k===null?E=R:k.sibling=R,k=R,P=D}if(O.done)return n(p,P),Ue&&pr(p,N),E;if(P===null){for(;!O.done;N++,O=y.next())O=h(p,O.value,C),O!==null&&(m=s(O,m,N),k===null?E=O:k.sibling=O,k=O);return Ue&&pr(p,N),E}for(P=i(p,P);!O.done;N++,O=y.next())O=d(P,p,N,O.value,C),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?N:O.key),m=s(O,m,N),k===null?E=O:k.sibling=O,k=O);return e&&P.forEach(function(F){return t(p,F)}),Ue&&pr(p,N),E}function S(p,m,y,C){if(typeof y=="object"&&y!==null&&y.type===ts&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case pl:e:{for(var E=y.key,k=m;k!==null;){if(k.key===E){if(E=y.type,E===ts){if(k.tag===7){n(p,k.sibling),m=r(k,y.props.children),m.return=p,p=m;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ri&&py(E)===k.type){n(p,k.sibling),m=r(k,y.props),m.ref=co(p,k,y),m.return=p,p=m;break e}n(p,k);break}else t(p,k);k=k.sibling}y.type===ts?(m=Tr(y.props.children,p.mode,C,y.key),m.return=p,p=m):(C=Xl(y.type,y.key,y.props,null,p.mode,C),C.ref=co(p,m,y),C.return=p,p=C)}return o(p);case es:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=r(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Yh(y,p.mode,C),m.return=p,p=m}return o(p);case Ri:return k=y._init,S(p,m,k(y._payload),C)}if(xo(y))return v(p,m,y,C);if(so(y))return g(p,m,y,C);Cl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=r(m,y),m.return=p,p=m):(n(p,m),m=Hh(y,p.mode,C),m.return=p,p=m),o(p)):n(p,m)}return S}var Ds=S_(!0),C_=S_(!1),Oa={},jn=ar(Oa),oa=ar(Oa),aa=ar(Oa);function xr(e){if(e===Oa)throw Error(B(174));return e}function Bp(e,t){switch(De(aa,t),De(oa,e),De(jn,Oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ff(t,e)}Fe(jn),De(jn,t)}function Rs(){Fe(jn),Fe(oa),Fe(aa)}function T_(e){xr(aa.current);var t=xr(jn.current),n=Ff(t,e.type);t!==n&&(De(oa,e),De(jn,n))}function zp(e){oa.current===e&&(Fe(jn),Fe(oa))}var He=ar(0);function Cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Up(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var Gl=_i.ReactCurrentDispatcher,Bh=_i.ReactCurrentBatchConfig,Rr=0,We=null,it=null,ct=null,Tu=!1,Lo=!1,la=0,RT=0;function St(){throw Error(B(321))}function $p(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function jp(e,t,n,i,r,s){if(Rr=s,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gl.current=e===null||e.memoizedState===null?NT:FT,e=n(i,r),Lo){s=0;do{if(Lo=!1,la=0,25<=s)throw Error(B(301));s+=1,ct=it=null,t.updateQueue=null,Gl.current=BT,e=n(i,r)}while(Lo)}if(Gl.current=Eu,t=it!==null&&it.next!==null,Rr=0,ct=it=We=null,Tu=!1,t)throw Error(B(300));return e}function Hp(){var e=la!==0;return la=0,e}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?We.memoizedState=ct=e:ct=ct.next=e,ct}function xn(){if(it===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ct===null?We.memoizedState:ct.next;if(t!==null)ct=t,it=e;else{if(e===null)throw Error(B(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?We.memoizedState=ct=e:ct=ct.next=e}return ct}function ua(e,t){return typeof t=="function"?t(e):t}function zh(e){var t=xn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=it,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Rr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,We.lanes|=c,Mr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Dn(i,t.memoizedState)||(Gt=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,We.lanes|=s,Mr|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uh(e){var t=xn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);Dn(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function E_(){}function I_(e,t){var n=We,i=xn(),r=t(),s=!Dn(i.memoizedState,r);if(s&&(i.memoizedState=r,Gt=!0),i=i.queue,Yp(D_.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,ca(9,P_.bind(null,n,i,r,t),void 0,null),ht===null)throw Error(B(349));Rr&30||A_(n,t,r)}return r}function A_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P_(e,t,n,i){t.value=n,t.getSnapshot=i,R_(t)&&M_(e)}function D_(e,t,n){return n(function(){R_(t)&&M_(e)})}function R_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function M_(e){var t=pi(e,1);t!==null&&Pn(t,e,1,-1)}function my(e){var t=Nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t.queue=e,e=e.dispatch=LT.bind(null,We,e),[t.memoizedState,e]}function ca(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function O_(){return xn().memoizedState}function ql(e,t,n,i){var r=Nn();We.flags|=e,r.memoizedState=ca(1|t,n,void 0,i===void 0?null:i)}function dc(e,t,n,i){var r=xn();i=i===void 0?null:i;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,i!==null&&$p(i,o.deps)){r.memoizedState=ca(t,n,s,i);return}}We.flags|=e,r.memoizedState=ca(1|t,n,s,i)}function gy(e,t){return ql(8390656,8,e,t)}function Yp(e,t){return dc(2048,8,e,t)}function L_(e,t){return dc(4,2,e,t)}function N_(e,t){return dc(4,4,e,t)}function F_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B_(e,t,n){return n=n!=null?n.concat([e]):null,dc(4,4,F_.bind(null,t,e),n)}function Wp(){}function z_(e,t){var n=xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&$p(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function U_(e,t){var n=xn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&$p(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function $_(e,t,n){return Rr&21?(Dn(n,t)||(n=Yx(),We.lanes|=n,Mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function MT(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var i=Bh.transition;Bh.transition={};try{e(!1),t()}finally{Ee=n,Bh.transition=i}}function j_(){return xn().memoizedState}function OT(e,t,n){var i=qi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},H_(e))Y_(t,n);else if(n=x_(e,t,n,i),n!==null){var r=Ut();Pn(n,e,i,r),W_(n,t,i)}}function LT(e,t,n){var i=qi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(H_(e))Y_(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Dn(a,o)){var l=t.interleaved;l===null?(r.next=r,Np(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=x_(e,t,r,i),n!==null&&(r=Ut(),Pn(n,e,i,r),W_(n,t,i))}}function H_(e){var t=e.alternate;return e===We||t!==null&&t===We}function Y_(e,t){Lo=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W_(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,bp(e,n)}}var Eu={readContext:wn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},NT={readContext:wn,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:gy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,F_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=Nn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Nn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=OT.bind(null,We,e),[i.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:my,useDebugValue:Wp,useDeferredValue:function(e){return Nn().memoizedState=e},useTransition:function(){var e=my(!1),t=e[0];return e=MT.bind(null,e[1]),Nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=We,r=Nn();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ht===null)throw Error(B(349));Rr&30||A_(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,gy(D_.bind(null,i,s,e),[e]),i.flags|=2048,ca(9,P_.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Nn(),t=ht.identifierPrefix;if(Ue){var n=ri,i=ii;n=(i&~(1<<32-An(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=la++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FT={readContext:wn,useCallback:z_,useContext:wn,useEffect:Yp,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:N_,useMemo:U_,useReducer:zh,useRef:O_,useState:function(){return zh(ua)},useDebugValue:Wp,useDeferredValue:function(e){var t=xn();return $_(t,it.memoizedState,e)},useTransition:function(){var e=zh(ua)[0],t=xn().memoizedState;return[e,t]},useMutableSource:E_,useSyncExternalStore:I_,useId:j_,unstable_isNewReconciler:!1},BT={readContext:wn,useCallback:z_,useContext:wn,useEffect:Yp,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:N_,useMemo:U_,useReducer:Uh,useRef:O_,useState:function(){return Uh(ua)},useDebugValue:Wp,useDeferredValue:function(e){var t=xn();return it===null?t.memoizedState=e:$_(t,it.memoizedState,e)},useTransition:function(){var e=Uh(ua)[0],t=xn().memoizedState;return[e,t]},useMutableSource:E_,useSyncExternalStore:I_,useId:j_,unstable_isNewReconciler:!1};function Ms(e,t){try{var n="",i=t;do n+=fC(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function $h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function V_(e,t,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Au||(Au=!0,gd=i),od(e,t)},n}function G_(e,t,n){n=ui(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){od(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){od(e,t),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function yy(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new zT;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=ZT.bind(null,e,t,n),t.then(e,e))}function vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wy(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ui(-1,1),t.tag=2,Vi(n,t,1))),n.lanes|=1),e)}var UT=_i.ReactCurrentOwner,Gt=!1;function Bt(e,t,n,i){t.child=e===null?C_(t,null,n,i):Ds(t,e.child,n,i)}function xy(e,t,n,i,r){n=n.render;var s=t.ref;return ws(t,r),i=jp(e,t,n,i,s,r),n=Hp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,mi(e,t,r)):(Ue&&n&&Pp(t),t.flags|=1,Bt(e,t,i,r),t.child)}function _y(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,q_(e,t,s,i,r)):(e=Xl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(o,i)&&e.ref===t.ref)return mi(e,t,r)}return t.flags|=1,e=Ki(s,i),e.ref=t.ref,e.return=t,t.child=e}function q_(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(na(s,i)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,mi(e,t,r)}return ad(e,t,n,i,r)}function K_(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(hs,en),en|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(hs,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,De(hs,en),en|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,De(hs,en),en|=i;return Bt(e,t,r,n),t.child}function Q_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ad(e,t,n,i,r){var s=Kt(n)?Pr:Rt.current;return s=As(t,s),ws(t,r),n=jp(e,t,n,i,s,r),i=Hp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,mi(e,t,r)):(Ue&&i&&Pp(t),t.flags|=1,Bt(e,t,n,r),t.child)}function by(e,t,n,i,r){if(Kt(n)){var s=!0;wu(t)}else s=!1;if(ws(t,r),t.stateNode===null)Kl(e,t),k_(t,n,i),sd(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Kt(n)?Pr:Rt.current,u=As(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&dy(t,o,i,u),Mi=!1;var f=t.memoizedState;o.state=f,Su(t,i,o,r),l=t.memoizedState,a!==i||f!==l||qt.current||Mi?(typeof c=="function"&&(rd(t,n,c,i),l=t.memoizedState),(a=Mi||fy(t,n,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,__(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Cn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Kt(n)?Pr:Rt.current,l=As(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dy(t,o,i,l),Mi=!1,f=t.memoizedState,o.state=f,Su(t,i,o,r);var v=t.memoizedState;a!==h||f!==v||qt.current||Mi?(typeof d=="function"&&(rd(t,n,d,i),v=t.memoizedState),(u=Mi||fy(t,n,u,i,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),o.props=i,o.state=v,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return ld(e,t,n,i,s,r)}function ld(e,t,n,i,r,s){Q_(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&ay(t,n,!1),mi(e,t,s);i=t.stateNode,UT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Ds(t,e.child,null,s),t.child=Ds(t,null,a,s)):Bt(e,t,a,s),t.memoizedState=i.state,r&&ay(t,n,!0),t.child}function J_(e){var t=e.stateNode;t.pendingContext?oy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oy(e,t.context,!1),Bp(e,t.containerInfo)}function ky(e,t,n,i,r){return Ps(),Rp(r),t.flags|=256,Bt(e,t,n,i),t.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function cd(e){return{baseLanes:e,cachePool:null,transitions:null}}function X_(e,t,n){var i=t.pendingProps,r=He.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),De(He,r&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gc(o,i,0,null),e=Tr(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cd(n),t.memoizedState=ud,e):Vp(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $T(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ki(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ki(a,s):(s=Tr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?cd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ud,i}return s=e.child,e=s.sibling,i=Ki(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vp(e,t){return t=gc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,n,i){return i!==null&&Rp(i),Ds(t,e.child,null,n),e=Vp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $T(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=$h(Error(B(422))),Tl(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=gc({mode:"visible",children:i.children},r,0,null),s=Tr(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Ds(t,e.child,null,o),t.child.memoizedState=cd(o),t.memoizedState=ud,s);if(!(t.mode&1))return Tl(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(B(419)),i=$h(s,i,void 0),Tl(e,t,o,i)}if(a=(o&e.childLanes)!==0,Gt||a){if(i=ht,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,pi(e,r),Pn(i,e,r,-1))}return Xp(),i=$h(Error(B(421))),Tl(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=eE.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,nn=Wi(r.nextSibling),sn=t,Ue=!0,En=null,e!==null&&(fn[dn++]=ii,fn[dn++]=ri,fn[dn++]=Dr,ii=e.id,ri=e.overflow,Dr=t),t=Vp(t,i.children),t.flags|=4096,t)}function Sy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),id(e.return,t,n)}function jh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Z_(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Bt(e,t,i.children,n),i=He.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,n,t);else if(e.tag===19)Sy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(De(He,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Cu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),jh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Cu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}jh(t,!0,n,null,s);break;case"together":jh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jT(e,t,n){switch(t.tag){case 3:J_(t),Ps();break;case 5:T_(t);break;case 1:Kt(t.type)&&wu(t);break;case 4:Bp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;De(bu,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(De(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?X_(e,t,n):(De(He,He.current&1),e=mi(e,t,n),e!==null?e.sibling:null);De(He,He.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Z_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),De(He,He.current),i)break;return null;case 22:case 23:return t.lanes=0,K_(e,t,n)}return mi(e,t,n)}var eb,hd,tb,nb;eb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hd=function(){};tb=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,xr(jn.current);var s=null;switch(n){case"input":r=Mf(e,r),i=Mf(e,i),s=[];break;case"select":r=Ve({},r,{value:void 0}),i=Ve({},i,{value:void 0}),s=[];break;case"textarea":r=Nf(e,r),i=Nf(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=yu)}Bf(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ko.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nb=function(e,t,n,i){n!==i&&(t.flags|=4)};function ho(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function HT(e,t,n){var i=t.pendingProps;switch(Dp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Kt(t.type)&&vu(),Ct(t),null;case 3:return i=t.stateNode,Rs(),Fe(qt),Fe(Rt),Up(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(wd(En),En=null))),hd(e,t),Ct(t),null;case 5:zp(t);var r=xr(aa.current);if(n=t.type,e!==null&&t.stateNode!=null)tb(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(B(166));return Ct(t),null}if(e=xr(jn.current),Sl(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Bn]=t,i[sa]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(r=0;r<bo.length;r++)Le(bo[r],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Mg(i,s),Le("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Le("invalid",i);break;case"textarea":Lg(i,s),Le("invalid",i)}Bf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&kl(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kl(i.textContent,a,e),r=["children",""+a]):Ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",i)}switch(n){case"input":ml(i),Og(i,s,!0);break;case"textarea":ml(i),Ng(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=yu)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ax(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Bn]=t,e[sa]=i,eb(e,t,!1,!1),t.stateNode=e;e:{switch(o=zf(n,i),n){case"dialog":Le("cancel",e),Le("close",e),r=i;break;case"iframe":case"object":case"embed":Le("load",e),r=i;break;case"video":case"audio":for(r=0;r<bo.length;r++)Le(bo[r],e);r=i;break;case"source":Le("error",e),r=i;break;case"img":case"image":case"link":Le("error",e),Le("load",e),r=i;break;case"details":Le("toggle",e),r=i;break;case"input":Mg(e,i),r=Mf(e,i),Le("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Ve({},i,{value:void 0}),Le("invalid",e);break;case"textarea":Lg(e,i),r=Nf(e,i),Le("invalid",e);break;default:r=i}Bf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Rx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Px(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qo(e,l):typeof l=="number"&&Qo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ko.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&gp(e,s,l,o))}switch(n){case"input":ml(e),Og(e,i,!1);break;case"textarea":ml(e),Ng(e);break;case"option":i.value!=null&&e.setAttribute("value",""+tr(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?ms(e,!!i.multiple,s,!1):i.defaultValue!=null&&ms(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)nb(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(B(166));if(n=xr(aa.current),xr(jn.current),Sl(t)){if(i=t.stateNode,n=t.memoizedProps,i[Bn]=t,(s=i.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:kl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kl(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bn]=t,t.stateNode=i}return Ct(t),null;case 13:if(Fe(He),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&nn!==null&&t.mode&1&&!(t.flags&128))w_(),Ps(),t.flags|=98560,s=!1;else if(s=Sl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Bn]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else En!==null&&(wd(En),En=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?st===0&&(st=3):Xp())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Rs(),hd(e,t),e===null&&ia(t.stateNode.containerInfo),Ct(t),null;case 10:return Lp(t.type._context),Ct(t),null;case 17:return Kt(t.type)&&vu(),Ct(t),null;case 19:if(Fe(He),s=t.memoizedState,s===null)return Ct(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)ho(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cu(e),o!==null){for(t.flags|=128,ho(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(He,He.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ke()>Os&&(t.flags|=128,i=!0,ho(s,!1),t.lanes=4194304)}else{if(!i)if(e=Cu(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Ct(t),null}else 2*Ke()-s.renderingStartTime>Os&&n!==1073741824&&(t.flags|=128,i=!0,ho(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=He.current,De(He,i?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return Jp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?en&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function YT(e,t){switch(Dp(t),t.tag){case 1:return Kt(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rs(),Fe(qt),Fe(Rt),Up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zp(t),null;case 13:if(Fe(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(He),null;case 4:return Rs(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return Jp(),null;case 24:return null;default:return null}}var El=!1,Et=!1,WT=typeof WeakSet=="function"?WeakSet:Set,V=null;function cs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ge(e,t,i)}else n.current=null}function fd(e,t,n){try{n()}catch(i){Ge(e,t,i)}}var Cy=!1;function VT(e,t){if(Kf=pu,e=o_(),Ap(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:e,selectionRange:n},pu=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,S=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Cn(t.type,g),S);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ge(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return v=Cy,Cy=!1,v}function No(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&fd(t,n,s)}r=r.next}while(r!==i)}}function pc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function dd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ib(e){var t=e.alternate;t!==null&&(e.alternate=null,ib(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[sa],delete t[Zf],delete t[IT],delete t[AT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rb(e){return e.tag===5||e.tag===3||e.tag===4}function Ty(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yu));else if(i!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function md(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}var dt=null,Tn=!1;function Ei(e,t,n){for(n=n.child;n!==null;)sb(e,t,n),n=n.sibling}function sb(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(oc,n)}catch{}switch(n.tag){case 5:Et||cs(n,t);case 6:var i=dt,r=Tn;dt=null,Ei(e,t,n),dt=i,Tn=r,dt!==null&&(Tn?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Tn?(e=dt,n=n.stateNode,e.nodeType===8?Lh(e.parentNode,n):e.nodeType===1&&Lh(e,n),ea(e)):Lh(dt,n.stateNode));break;case 4:i=dt,r=Tn,dt=n.stateNode.containerInfo,Tn=!0,Ei(e,t,n),dt=i,Tn=r;break;case 0:case 11:case 14:case 15:if(!Et&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fd(n,t,o),r=r.next}while(r!==i)}Ei(e,t,n);break;case 1:if(!Et&&(cs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ge(n,t,a)}Ei(e,t,n);break;case 21:Ei(e,t,n);break;case 22:n.mode&1?(Et=(i=Et)||n.memoizedState!==null,Ei(e,t,n),Et=i):Ei(e,t,n);break;default:Ei(e,t,n)}}function Ey(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new WT),t.forEach(function(i){var r=tE.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Tn=!1;break e;case 3:dt=a.stateNode.containerInfo,Tn=!0;break e;case 4:dt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(dt===null)throw Error(B(160));sb(s,o,r),dt=null,Tn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ge(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ob(t,e),t=t.sibling}function ob(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Ln(e),i&4){try{No(3,e,e.return),pc(3,e)}catch(g){Ge(e,e.return,g)}try{No(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:Sn(t,e),Ln(e),i&512&&n!==null&&cs(n,n.return);break;case 5:if(Sn(t,e),Ln(e),i&512&&n!==null&&cs(n,n.return),e.flags&32){var r=e.stateNode;try{Qo(r,"")}catch(g){Ge(e,e.return,g)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ex(r,s),zf(a,o);var u=zf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Rx(r,h):c==="dangerouslySetInnerHTML"?Px(r,h):c==="children"?Qo(r,h):gp(r,c,h,u)}switch(a){case"input":Of(r,s);break;case"textarea":Ix(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?ms(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?ms(r,!!s.multiple,s.defaultValue,!0):ms(r,!!s.multiple,s.multiple?[]:"",!1))}r[sa]=s}catch(g){Ge(e,e.return,g)}}break;case 6:if(Sn(t,e),Ln(e),i&4){if(e.stateNode===null)throw Error(B(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Ge(e,e.return,g)}}break;case 3:if(Sn(t,e),Ln(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:Sn(t,e),Ln(e);break;case 13:Sn(t,e),Ln(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Kp=Ke())),i&4&&Ey(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(u=Et)||c,Sn(t,e),Et=u):Sn(t,e),Ln(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(V=e,c=e.child;c!==null;){for(h=V=c;V!==null;){switch(f=V,d=f.child,f.tag){case 0:case 11:case 14:case 15:No(4,f,f.return);break;case 1:cs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ge(i,n,g)}}break;case 5:cs(f,f.return);break;case 22:if(f.memoizedState!==null){Ay(h);continue}}d!==null?(d.return=f,V=d):Ay(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dx("display",o))}catch(g){Ge(e,e.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(t,e),Ln(e),i&4&&Ey(e);break;case 21:break;default:Sn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rb(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Qo(r,""),i.flags&=-33);var s=Ty(e);md(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Ty(e);pd(e,a,o);break;default:throw Error(B(161))}}catch(l){Ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GT(e,t,n){V=e,ab(e)}function ab(e,t,n){for(var i=(e.mode&1)!==0;V!==null;){var r=V,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||El;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Et;a=El;var u=Et;if(El=o,(Et=l)&&!u)for(V=r;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?Py(r):l!==null?(l.return=o,V=l):Py(r);for(;s!==null;)V=s,ab(s),s=s.sibling;V=r,El=a,Et=u}Iy(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,V=s):Iy(e)}}function Iy(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||pc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Et)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hy(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hy(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ea(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Et||t.flags&512&&dd(t)}catch(f){Ge(t,t.return,f)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Ay(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Py(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pc(4,t)}catch(l){Ge(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Ge(t,r,l)}}var s=t.return;try{dd(t)}catch(l){Ge(t,s,l)}break;case 5:var o=t.return;try{dd(t)}catch(l){Ge(t,o,l)}}}catch(l){Ge(t,t.return,l)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var qT=Math.ceil,Iu=_i.ReactCurrentDispatcher,Gp=_i.ReactCurrentOwner,yn=_i.ReactCurrentBatchConfig,_e=0,ht=null,tt=null,gt=0,en=0,hs=ar(0),st=0,ha=null,Mr=0,mc=0,qp=0,Fo=null,Vt=null,Kp=0,Os=1/0,ei=null,Au=!1,gd=null,Gi=null,Il=!1,$i=null,Pu=0,Bo=0,yd=null,Ql=-1,Jl=0;function Ut(){return _e&6?Ke():Ql!==-1?Ql:Ql=Ke()}function qi(e){return e.mode&1?_e&2&&gt!==0?gt&-gt:DT.transition!==null?(Jl===0&&(Jl=Yx()),Jl):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Jx(e.type)),e):1}function Pn(e,t,n,i){if(50<Bo)throw Bo=0,yd=null,Error(B(185));Da(e,n,i),(!(_e&2)||e!==ht)&&(e===ht&&(!(_e&2)&&(mc|=n),st===4&&Li(e,gt)),Qt(e,i),n===1&&_e===0&&!(t.mode&1)&&(Os=Ke()+500,hc&&lr()))}function Qt(e,t){var n=e.callbackNode;DC(e,t);var i=du(e,e===ht?gt:0);if(i===0)n!==null&&zg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&zg(n),t===1)e.tag===0?PT(Dy.bind(null,e)):g_(Dy.bind(null,e)),TT(function(){!(_e&6)&&lr()}),n=null;else{switch(Wx(i)){case 1:n=_p;break;case 4:n=jx;break;case 16:n=fu;break;case 536870912:n=Hx;break;default:n=fu}n=mb(n,lb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lb(e,t){if(Ql=-1,Jl=0,_e&6)throw Error(B(327));var n=e.callbackNode;if(xs()&&e.callbackNode!==n)return null;var i=du(e,e===ht?gt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Du(e,i);else{t=i;var r=_e;_e|=2;var s=cb();(ht!==e||gt!==t)&&(ei=null,Os=Ke()+500,Cr(e,t));do try{JT();break}catch(a){ub(e,a)}while(1);Op(),Iu.current=s,_e=r,tt!==null?t=0:(ht=null,gt=0,t=st)}if(t!==0){if(t===2&&(r=Yf(e),r!==0&&(i=r,t=vd(e,r))),t===1)throw n=ha,Cr(e,0),Li(e,i),Qt(e,Ke()),n;if(t===6)Li(e,i);else{if(r=e.current.alternate,!(i&30)&&!KT(r)&&(t=Du(e,i),t===2&&(s=Yf(e),s!==0&&(i=s,t=vd(e,s))),t===1))throw n=ha,Cr(e,0),Li(e,i),Qt(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(B(345));case 2:mr(e,Vt,ei);break;case 3:if(Li(e,i),(i&130023424)===i&&(t=Kp+500-Ke(),10<t)){if(du(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Ut(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Xf(mr.bind(null,e,Vt,ei),t);break}mr(e,Vt,ei);break;case 4:if(Li(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-An(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=Ke()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qT(i/1960))-i,10<i){e.timeoutHandle=Xf(mr.bind(null,e,Vt,ei),i);break}mr(e,Vt,ei);break;case 5:mr(e,Vt,ei);break;default:throw Error(B(329))}}}return Qt(e,Ke()),e.callbackNode===n?lb.bind(null,e):null}function vd(e,t){var n=Fo;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=Du(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&wd(t)),e}function wd(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function KT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Dn(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Li(e,t){for(t&=~qp,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-An(t),i=1<<n;e[n]=-1,t&=~i}}function Dy(e){if(_e&6)throw Error(B(327));xs();var t=du(e,0);if(!(t&1))return Qt(e,Ke()),null;var n=Du(e,t);if(e.tag!==0&&n===2){var i=Yf(e);i!==0&&(t=i,n=vd(e,i))}if(n===1)throw n=ha,Cr(e,0),Li(e,t),Qt(e,Ke()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,Vt,ei),Qt(e,Ke()),null}function Qp(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(Os=Ke()+500,hc&&lr())}}function Or(e){$i!==null&&$i.tag===0&&!(_e&6)&&xs();var t=_e;_e|=1;var n=yn.transition,i=Ee;try{if(yn.transition=null,Ee=1,e)return e()}finally{Ee=i,yn.transition=n,_e=t,!(_e&6)&&lr()}}function Jp(){en=hs.current,Fe(hs)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CT(n)),tt!==null)for(n=tt.return;n!==null;){var i=n;switch(Dp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vu();break;case 3:Rs(),Fe(qt),Fe(Rt),Up();break;case 5:zp(i);break;case 4:Rs();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Lp(i.type._context);break;case 22:case 23:Jp()}n=n.return}if(ht=e,tt=e=Ki(e.current,null),gt=en=t,st=0,ha=null,qp=mc=Mr=0,Vt=Fo=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}wr=null}return e}function ub(e,t){do{var n=tt;try{if(Op(),Gl.current=Eu,Tu){for(var i=We.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Tu=!1}if(Rr=0,ct=it=We=null,Lo=!1,la=0,Gp.current=null,n===null||n.return===null){st=1,ha=t,tt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=vy(o);if(d!==null){d.flags&=-257,wy(d,o,a,s,t),d.mode&1&&yy(s,u,t),t=d,l=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){yy(s,u,t),Xp();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var S=vy(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),wy(S,o,a,s,t),Rp(Ms(l,a));break e}}s=l=Ms(l,a),st!==4&&(st=2),Fo===null?Fo=[s]:Fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=V_(s,l,t);cy(s,p);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=G_(s,a,t);cy(s,C);break e}}s=s.return}while(s!==null)}fb(n)}catch(E){t=E,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function cb(){var e=Iu.current;return Iu.current=Eu,e===null?Eu:e}function Xp(){(st===0||st===3||st===2)&&(st=4),ht===null||!(Mr&268435455)&&!(mc&268435455)||Li(ht,gt)}function Du(e,t){var n=_e;_e|=2;var i=cb();(ht!==e||gt!==t)&&(ei=null,Cr(e,t));do try{QT();break}catch(r){ub(e,r)}while(1);if(Op(),_e=n,Iu.current=i,tt!==null)throw Error(B(261));return ht=null,gt=0,st}function QT(){for(;tt!==null;)hb(tt)}function JT(){for(;tt!==null&&!bC();)hb(tt)}function hb(e){var t=pb(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?fb(e):tt=t,Gp.current=null}function fb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=YT(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,tt=null;return}}else if(n=HT(n,t,en),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);st===0&&(st=5)}function mr(e,t,n){var i=Ee,r=yn.transition;try{yn.transition=null,Ee=1,XT(e,t,n,i)}finally{yn.transition=r,Ee=i}return null}function XT(e,t,n,i){do xs();while($i!==null);if(_e&6)throw Error(B(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(RC(e,s),e===ht&&(tt=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,mb(fu,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Ee;Ee=1;var a=_e;_e|=4,Gp.current=null,VT(e,n),ob(n,e),vT(Qf),pu=!!Kf,Qf=Kf=null,e.current=n,GT(n),kC(),_e=a,Ee=o,yn.transition=s}else e.current=n;if(Il&&(Il=!1,$i=e,Pu=r),s=e.pendingLanes,s===0&&(Gi=null),TC(n.stateNode),Qt(e,Ke()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Au)throw Au=!1,e=gd,gd=null,e;return Pu&1&&e.tag!==0&&xs(),s=e.pendingLanes,s&1?e===yd?Bo++:(Bo=0,yd=e):Bo=0,lr(),null}function xs(){if($i!==null){var e=Wx(Pu),t=yn.transition,n=Ee;try{if(yn.transition=null,Ee=16>e?16:e,$i===null)var i=!1;else{if(e=$i,$i=null,Pu=0,_e&6)throw Error(B(331));var r=_e;for(_e|=4,V=e.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:No(8,c,s)}var h=c.child;if(h!==null)h.return=c,V=h;else for(;V!==null;){c=V;var f=c.sibling,d=c.return;if(ib(c),c===u){V=null;break}if(f!==null){f.return=d,V=f;break}V=d}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:No(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,V=p;break e}V=s.return}}var m=e.current;for(V=m;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pc(9,a)}}catch(E){Ge(a,a.return,E)}if(a===o){V=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,V=C;break e}V=a.return}}if(_e=r,lr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(oc,e)}catch{}i=!0}return i}finally{Ee=n,yn.transition=t}}return!1}function Ry(e,t,n){t=Ms(n,t),t=V_(e,t,1),e=Vi(e,t,1),t=Ut(),e!==null&&(Da(e,1,t),Qt(e,t))}function Ge(e,t,n){if(e.tag===3)Ry(e,e,n);else for(;t!==null;){if(t.tag===3){Ry(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){e=Ms(n,e),e=G_(t,e,1),t=Vi(t,e,1),e=Ut(),t!==null&&(Da(t,1,e),Qt(t,e));break}}t=t.return}}function ZT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(gt&n)===n&&(st===4||st===3&&(gt&130023424)===gt&&500>Ke()-Kp?Cr(e,0):qp|=n),Qt(e,t)}function db(e,t){t===0&&(e.mode&1?(t=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):t=1);var n=Ut();e=pi(e,t),e!==null&&(Da(e,t,n),Qt(e,n))}function eE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),db(e,n)}function tE(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(t),db(e,n)}var pb;pb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,jT(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Ue&&t.flags&1048576&&y_(t,_u,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Kl(e,t),e=t.pendingProps;var r=As(t,Rt.current);ws(t,n),r=jp(null,t,i,e,r,n);var s=Hp();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(i)?(s=!0,wu(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fp(t),r.updater=fc,t.stateNode=r,r._reactInternals=t,sd(t,i,e,n),t=ld(null,t,i,!0,s,n)):(t.tag=0,Ue&&s&&Pp(t),Bt(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Kl(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=iE(i),e=Cn(i,e),r){case 0:t=ad(null,t,i,e,n);break e;case 1:t=by(null,t,i,e,n);break e;case 11:t=xy(null,t,i,e,n);break e;case 14:t=_y(null,t,i,Cn(i.type,e),n);break e}throw Error(B(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Cn(i,r),ad(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Cn(i,r),by(e,t,i,r,n);case 3:e:{if(J_(t),e===null)throw Error(B(387));i=t.pendingProps,s=t.memoizedState,r=s.element,__(e,t),Su(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Ms(Error(B(423)),t),t=ky(e,t,i,n,r);break e}else if(i!==r){r=Ms(Error(B(424)),t),t=ky(e,t,i,n,r);break e}else for(nn=Wi(t.stateNode.containerInfo.firstChild),sn=t,Ue=!0,En=null,n=C_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),i===r){t=mi(e,t,n);break e}Bt(e,t,i,n)}t=t.child}return t;case 5:return T_(t),e===null&&nd(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Jf(i,r)?o=null:s!==null&&Jf(i,s)&&(t.flags|=32),Q_(e,t),Bt(e,t,o,n),t.child;case 6:return e===null&&nd(t),null;case 13:return X_(e,t,n);case 4:return Bp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ds(t,null,i,n):Bt(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Cn(i,r),xy(e,t,i,r,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,De(bu,i._currentValue),i._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===r.children&&!qt.current){t=mi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),id(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),id(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ws(t,n),r=wn(r),i=i(r),t.flags|=1,Bt(e,t,i,n),t.child;case 14:return i=t.type,r=Cn(i,t.pendingProps),r=Cn(i.type,r),_y(e,t,i,r,n);case 15:return q_(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Cn(i,r),Kl(e,t),t.tag=1,Kt(i)?(e=!0,wu(t)):e=!1,ws(t,n),k_(t,i,r),sd(t,i,r,n),ld(null,t,i,!0,e,n);case 19:return Z_(e,t,n);case 22:return K_(e,t,n)}throw Error(B(156,t.tag))};function mb(e,t){return $x(e,t)}function nE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,i){return new nE(e,t,n,i)}function Zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iE(e){if(typeof e=="function")return Zp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vp)return 11;if(e===wp)return 14}return 2}function Ki(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xl(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Zp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ts:return Tr(n.children,r,s,t);case yp:o=8,r|=8;break;case Af:return e=gn(12,n,t,r|2),e.elementType=Af,e.lanes=s,e;case Pf:return e=gn(13,n,t,r),e.elementType=Pf,e.lanes=s,e;case Df:return e=gn(19,n,t,r),e.elementType=Df,e.lanes=s,e;case Sx:return gc(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bx:o=10;break e;case kx:o=9;break e;case vp:o=11;break e;case wp:o=14;break e;case Ri:o=16,i=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=gn(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Tr(e,t,n,i){return e=gn(7,e,i,t),e.lanes=n,e}function gc(e,t,n,i){return e=gn(22,e,i,t),e.elementType=Sx,e.lanes=n,e.stateNode={isHidden:!1},e}function Hh(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Yh(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rE(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function em(e,t,n,i,r,s,o,a,l){return e=new rE(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=gn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(s),e}function sE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function gb(e){if(!e)return nr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Kt(n))return m_(e,n,t)}return t}function yb(e,t,n,i,r,s,o,a,l){return e=em(n,i,!0,e,r,s,o,a,l),e.context=gb(null),n=e.current,i=Ut(),r=qi(n),s=ui(i,r),s.callback=t??null,Vi(n,s,r),e.current.lanes=r,Da(e,r,i),Qt(e,i),e}function yc(e,t,n,i){var r=t.current,s=Ut(),o=qi(r);return n=gb(n),t.context===null?t.context=n:t.pendingContext=n,t=ui(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Vi(r,t,o),e!==null&&(Pn(e,r,o,s),Vl(e,r,o)),o}function Ru(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function My(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tm(e,t){My(e,t),(e=e.alternate)&&My(e,t)}function oE(){return null}var vb=typeof reportError=="function"?reportError:function(e){console.error(e)};function nm(e){this._internalRoot=e}vc.prototype.render=nm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));yc(e,t,null,null)};vc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){yc(null,e,null,null)}),t[di]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=qx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oi.length&&t!==0&&t<Oi[n].priority;n++);Oi.splice(n,0,e),n===0&&Qx(e)}};function im(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function aE(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Ru(o);s.call(u)}}var o=yb(t,i,e,0,null,!1,!1,"",Oy);return e._reactRootContainer=o,e[di]=o.current,ia(e.nodeType===8?e.parentNode:e),Or(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Ru(l);a.call(u)}}var l=em(e,0,!1,null,null,!1,!1,"",Oy);return e._reactRootContainer=l,e[di]=l.current,ia(e.nodeType===8?e.parentNode:e),Or(function(){yc(t,l,n,i)}),l}function xc(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Ru(o);a.call(l)}}yc(t,o,e,r)}else o=aE(n,t,e,r,i);return Ru(o)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_o(t.pendingLanes);n!==0&&(bp(t,n|1),Qt(t,Ke()),!(_e&6)&&(Os=Ke()+500,lr()))}break;case 13:Or(function(){var i=pi(e,1);if(i!==null){var r=Ut();Pn(i,e,1,r)}}),tm(e,1)}};kp=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=Ut();Pn(t,e,134217728,n)}tm(e,134217728)}};Gx=function(e){if(e.tag===13){var t=qi(e),n=pi(e,t);if(n!==null){var i=Ut();Pn(n,e,t,i)}tm(e,t)}};qx=function(){return Ee};Kx=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};$f=function(e,t,n){switch(t){case"input":if(Of(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=cc(i);if(!r)throw Error(B(90));Tx(i),Of(i,r)}}}break;case"textarea":Ix(e,n);break;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}};Lx=Qp;Nx=Or;var lE={usingClientEntryPoint:!1,Events:[Ma,ss,cc,Mx,Ox,Qp]},fo={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uE={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zx(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||oE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{oc=Al.inject(uE),$n=Al}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(t))throw Error(B(200));return sE(e,t,null,n)};un.createRoot=function(e,t){if(!im(e))throw Error(B(299));var n=!1,i="",r=vb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=em(e,1,!1,null,null,n,!1,i,r),e[di]=t.current,ia(e.nodeType===8?e.parentNode:e),new nm(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=zx(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return Or(e)};un.hydrate=function(e,t,n){if(!wc(t))throw Error(B(200));return xc(null,e,t,!0,n)};un.hydrateRoot=function(e,t,n){if(!im(e))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=vb;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yb(t,null,e,1,n??null,r,!1,s,o),e[di]=t.current,ia(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new vc(t)};un.render=function(e,t,n){if(!wc(t))throw Error(B(200));return xc(null,e,t,!1,n)};un.unmountComponentAtNode=function(e){if(!wc(e))throw Error(B(40));return e._reactRootContainer?(Or(function(){xc(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};un.unstable_batchedUpdates=Qp;un.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!wc(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return xc(e,t,n,!1,i)};un.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=un})(oC);var Ly=Tf;Cf.createRoot=Ly.createRoot,Cf.hydrateRoot=Ly.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ke.apply(this,arguments)}var Ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ze||(Ze={}));const Ny="popstate";function cE(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return fa("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Gn(r)}return fE(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hE(){return Math.random().toString(36).substr(2,8)}function Fy(e,t){return{usr:e.state,key:e.key,idx:t}}function fa(e,t,n,i){return n===void 0&&(n=null),ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bi(t):t,{state:n,key:t&&t.key||i||hE()})}function Gn(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function bi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function fE(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ze.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ke({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Ze.Pop;let S=c(),p=S==null?null:S-u;u=S,l&&l({action:a,location:g.location,delta:p})}function f(S,p){a=Ze.Push;let m=fa(g.location,S,p);n&&n(m,S),u=c()+1;let y=Fy(m,u),C=g.createHref(m);try{o.pushState(y,"",C)}catch{r.location.assign(C)}s&&l&&l({action:a,location:g.location,delta:1})}function d(S,p){a=Ze.Replace;let m=fa(g.location,S,p);n&&n(m,S),u=c();let y=Fy(m,u),C=g.createHref(m);o.replaceState(y,"",C),s&&l&&l({action:a,location:g.location,delta:0})}function v(S){let p=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof S=="string"?S:Gn(S);return de(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let g={get action(){return a},get location(){return e(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Ny,h),l=S,()=>{r.removeEventListener(Ny,h),l=null}},createHref(S){return t(r,S)},createURL:v,encodeLocation(S){let p=v(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:d,go(S){return o.go(S)}};return g}var pt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pt||(pt={}));function dE(e){return e.index===!0}function wb(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((i,r)=>{let s=[...t,r],o=typeof i.id=="string"?i.id:s.join("-");return de(i.index!==!0||!i.children,"Cannot specify children on an index route"),de(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),dE(i)?ke({},i,{id:o}):ke({},i,{id:o,children:i.children?wb(i.children,s,n):void 0})})}function ko(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?bi(t):t,r=bb(i.pathname||"/",n);if(r==null)return null;let s=xb(e);pE(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kE(s[a],TE(r));return o}function xb(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(de(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=ci([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(de(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xb(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:_E(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of _b(s.path))r(s,o,l)}),t}function _b(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=_b(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function pE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bE(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const mE=/^:\w+$/,gE=3,yE=2,vE=1,wE=10,xE=-2,By=e=>e==="*";function _E(e,t){let n=e.split("/"),i=n.length;return n.some(By)&&(i+=xE),t&&(i+=yE),n.filter(r=>!By(r)).reduce((r,s)=>r+(mE.test(s)?gE:s===""?vE:wE),i)}function bE(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function kE(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",c=SE({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:ci([r,c.pathname]),pathnameBase:PE(ci([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=ci([r,c.pathnameBase]))}return s}function SE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=CE(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=EE(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function CE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function TE(e){try{return decodeURI(e)}catch(t){return da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function EE(e,t){try{return decodeURIComponent(e)}catch(n){return da(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function bb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IE(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?bi(e):e;return{pathname:n?n.startsWith("/")?n:AE(n,t):t,search:DE(i),hash:RE(r)}}function AE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Wh(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _c(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rm(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=bi(e):(r=ke({},e),de(!r.pathname||!r.pathname.includes("?"),Wh("?","pathname","search",r)),de(!r.pathname||!r.pathname.includes("#"),Wh("#","pathname","hash",r)),de(!r.search||!r.search.includes("#"),Wh("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=IE(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),PE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class zy extends Error{}class ME{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],de(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((s,o)=>i=o),this.controller=new AbortController;let r=()=>i(new zy("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(t).reduce((s,o)=>{let[a,l]=o;return Object.assign(s,{[a]:this.trackPromise(a,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let i=Promise.race([n,this.abortPromise]).then(r=>this.onSettle(i,t,null,r),r=>this.onSettle(i,t,r));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(t,n,i,r){return this.controller.signal.aborted&&i instanceof zy?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(t,"_error",{get:()=>i}),this.emit(!1,n),Promise.reject(i)):(Object.defineProperty(t,"_data",{get:()=>r}),this.emit(!1,n),r))}emit(t,n){this.subscribers.forEach(i=>i(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let i=()=>this.cancel();t.addEventListener("abort",i),n=await new Promise(r=>{this.subscribe(s=>{t.removeEventListener("abort",i),(s||this.done)&&r(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return de(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[i,r]=n;return Object.assign(t,{[i]:LE(r)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function OE(e){return e instanceof Promise&&e._tracked===!0}function LE(e){if(!OE(e))return e;if(e._error)throw e._error;return e._data}class sm{constructor(t,n,i,r){r===void 0&&(r=!1),this.status=t,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function kb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sb=["post","put","patch","delete"],NE=new Set(Sb),FE=["get",...Sb],BE=new Set(FE),zE=new Set([301,302,303,307,308]),UE=new Set([307,308]),Vh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},$E={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Uy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jE=!Cb;function HE(e){de(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=wb(e.routes),n=null,i=new Set,r=null,s=null,o=null,a=e.hydrationData!=null,l=ko(t,e.history.location,e.basename),u=null;if(l==null){let I=Di(404,{pathname:e.history.location.pathname}),{matches:M,route:b}=Vy(t);l=M,u={[b.id]:I}}let c=!l.some(I=>I.route.loader)||e.hydrationData!=null,h,f={historyAction:e.history.action,location:e.history.location,matches:l,initialized:c,navigation:Vh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||u,fetchers:new Map,blockers:new Map},d=Ze.Pop,v=!1,g,S=!1,p=!1,m=[],y=[],C=new Map,E=0,k=-1,P=new Map,N=new Set,D=new Map,O=new Map,R=null,F=new Map,X=!1;function ge(){return n=e.history.listen(I=>{let{action:M,location:b,delta:T}=I;if(X){X=!1;return}da(R!=null&&T===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let L=ro({currentLocation:f.location,nextLocation:b,historyAction:M});if(L&&T!=null){X=!0,e.history.go(T*-1),Vr(L,{state:"blocked",location:b,proceed(){Vr(L,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),e.history.go(T)},reset(){Ti(L),pe({blockers:new Map(h.state.blockers)})}});return}return le(M,b)}),f.initialized||le(Ze.Pop,f.location),h}function he(){n&&n(),i.clear(),g&&g.abort(),f.fetchers.forEach((I,M)=>Xn(M)),f.blockers.forEach((I,M)=>Ti(M))}function Be(I){return i.add(I),()=>i.delete(I)}function pe(I){f=ke({},f,I),i.forEach(M=>M(f))}function j(I,M){var b,T;let L=f.actionData!=null&&f.navigation.formMethod!=null&&ti(f.navigation.formMethod)&&f.navigation.state==="loading"&&((b=I.state)==null?void 0:b._isRedirect)!==!0,W;M.actionData?Object.keys(M.actionData).length>0?W=M.actionData:W=null:L?W=f.actionData:W=null;let Y=M.loaderData?Wy(f.loaderData,M.loaderData,M.matches||[],M.errors):f.loaderData;for(let[K]of F)Ti(K);let re=v===!0||f.navigation.formMethod!=null&&ti(f.navigation.formMethod)&&((T=I.state)==null?void 0:T._isRedirect)!==!0;pe(ke({},M,{actionData:W,loaderData:Y,historyAction:d,location:I,initialized:!0,navigation:Vh,revalidation:"idle",restoreScrollPosition:ul(I,M.matches||f.matches),preventScrollReset:re,blockers:new Map(f.blockers)})),S||d===Ze.Pop||(d===Ze.Push?e.history.push(I,I.state):d===Ze.Replace&&e.history.replace(I,I.state)),d=Ze.Pop,v=!1,S=!1,p=!1,m=[],y=[]}async function Q(I,M){if(typeof I=="number"){e.history.go(I);return}let{path:b,submission:T,error:L}=$y(I,M),W=f.location,Y=fa(f.location,b,M&&M.state);Y=ke({},Y,e.history.encodeLocation(Y));let re=M&&M.replace!=null?M.replace:void 0,K=Ze.Push;re===!0?K=Ze.Replace:re===!1||T!=null&&ti(T.formMethod)&&T.formAction===f.location.pathname+f.location.search&&(K=Ze.Replace);let Oe=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,fe=ro({currentLocation:W,nextLocation:Y,historyAction:K});if(fe){Vr(fe,{state:"blocked",location:Y,proceed(){Vr(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),Q(I,M)},reset(){Ti(fe),pe({blockers:new Map(f.blockers)})}});return}return await le(K,Y,{submission:T,pendingError:L,preventScrollReset:Oe,replace:M&&M.replace})}function w(){if(bt(),pe({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){le(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}le(d||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function le(I,M,b){g&&g.abort(),g=null,d=I,S=(b&&b.startUninterruptedRevalidation)===!0,mh(f.location,f.matches),v=(b&&b.preventScrollReset)===!0;let T=b&&b.overrideNavigation,L=ko(t,M,e.basename);if(!L){let Ae=Di(404,{pathname:M.pathname}),{matches:xe,route:Nt}=Vy(t);Gr(),j(M,{matches:xe,loaderData:{},errors:{[Nt.id]:Ae}});return}if(qE(f.location,M)&&!(b&&b.submission&&ti(b.submission.formMethod))){j(M,{matches:L});return}g=new AbortController;let W=mo(e.history,M,g.signal,b&&b.submission),Y,re;if(b&&b.pendingError)re={[fs(L).route.id]:b.pendingError};else if(b&&b.submission&&ti(b.submission.formMethod)){let Ae=await te(W,M,b.submission,L,{replace:b.replace});if(Ae.shortCircuited)return;Y=Ae.pendingActionData,re=Ae.pendingActionError,T=ke({state:"loading",location:M},b.submission),W=new Request(W.url,{signal:W.signal})}let{shortCircuited:K,loaderData:Oe,errors:fe}=await _(W,M,L,T,b&&b.submission,b&&b.replace,Y,re);K||(g=null,j(M,ke({matches:L},Y?{actionData:Y}:{},{loaderData:Oe,errors:fe})))}async function te(I,M,b,T,L){bt();let W=ke({state:"submitting",location:M},b);pe({navigation:W});let Y,re=Qy(T,M);if(!re.route.action)Y={type:pt.error,error:Di(405,{method:I.method,pathname:M.pathname,routeId:re.route.id})};else if(Y=await po("action",I,re,T,h.basename),I.signal.aborted)return{shortCircuited:!0};if(_s(Y)){let K;return L&&L.replace!=null?K=L.replace:K=Y.location===f.location.pathname+f.location.search,await _t(f,Y,{submission:b,replace:K}),{shortCircuited:!0}}if(zo(Y)){let K=fs(T,re.route.id);return(L&&L.replace)!==!0&&(d=Ze.Push),{pendingActionData:{},pendingActionError:{[K.route.id]:Y.error}}}if(_r(Y))throw Di(400,{type:"defer-action"});return{pendingActionData:{[re.route.id]:Y.data}}}async function _(I,M,b,T,L,W,Y,re){let K=T;K||(K=ke({state:"loading",location:M,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},L));let Oe=L||(K.formMethod&&K.formAction&&K.formData&&K.formEncType?{formMethod:K.formMethod,formAction:K.formAction,formData:K.formData,formEncType:K.formEncType}:void 0),[fe,Ae]=jy(e.history,f,b,Oe,M,p,m,y,Y,re,D);if(Gr(kt=>!(b&&b.some(On=>On.route.id===kt))||fe&&fe.some(On=>On.route.id===kt)),fe.length===0&&Ae.length===0)return j(M,ke({matches:b,loaderData:{},errors:re||null},Y?{actionData:Y}:{})),{shortCircuited:!0};if(!S){Ae.forEach(On=>{let dr=f.fetchers.get(On.key),fl={state:"loading",data:dr&&dr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(On.key,fl)});let kt=Y||f.actionData;pe(ke({navigation:K},kt?Object.keys(kt).length===0?{actionData:null}:{actionData:kt}:{},Ae.length>0?{fetchers:new Map(f.fetchers)}:{}))}k=++E,Ae.forEach(kt=>C.set(kt.key,g));let{results:xe,loaderResults:Nt,fetcherResults:Ft}=await nt(f.matches,b,fe,Ae,I);if(I.signal.aborted)return{shortCircuited:!0};Ae.forEach(kt=>C.delete(kt.key));let cl=Gy(xe);if(cl)return await _t(f,cl,{replace:W}),{shortCircuited:!0};let{loaderData:hl,errors:qr}=Yy(f,b,fe,Nt,re,Ae,Ft,O);O.forEach((kt,On)=>{kt.subscribe(dr=>{(dr||kt.done)&&O.delete(On)})}),Mn();let gh=Lt(k);return ke({loaderData:hl,errors:qr},gh||Ae.length>0?{fetchers:new Map(f.fetchers)}:{})}function q(I){return f.fetchers.get(I)||$E}function ze(I,M,b,T){if(jE)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(I)&&Si(I);let L=ko(t,b,e.basename);if(!L){Xt(I,M,Di(404,{pathname:b}));return}let{path:W,submission:Y}=$y(b,T,!0),re=Qy(L,W);if(v=(T&&T.preventScrollReset)===!0,Y&&ti(Y.formMethod)){be(I,M,W,re,L,Y);return}D.set(I,{routeId:M,path:W,match:re,matches:L}),xt(I,M,W,re,L,Y)}async function be(I,M,b,T,L,W){if(bt(),D.delete(I),!T.route.action){let Zn=Di(405,{method:W.formMethod,pathname:b,routeId:M});Xt(I,M,Zn);return}let Y=f.fetchers.get(I),re=ke({state:"submitting"},W,{data:Y&&Y.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(I,re),pe({fetchers:new Map(f.fetchers)});let K=new AbortController,Oe=mo(e.history,b,K.signal,W);C.set(I,K);let fe=await po("action",Oe,T,L,h.basename);if(Oe.signal.aborted){C.get(I)===K&&C.delete(I);return}if(_s(fe)){C.delete(I),N.add(I);let Zn=ke({state:"loading"},W,{data:void 0," _hasFetcherDoneAnything ":!0});return f.fetchers.set(I,Zn),pe({fetchers:new Map(f.fetchers)}),_t(f,fe,{isFetchActionRedirect:!0})}if(zo(fe)){Xt(I,M,fe.error);return}if(_r(fe))throw Di(400,{type:"defer-action"});let Ae=f.navigation.location||f.location,xe=mo(e.history,Ae,K.signal),Nt=f.navigation.state!=="idle"?ko(t,f.navigation.location,e.basename):f.matches;de(Nt,"Didn't find any matches after fetcher action");let Ft=++E;P.set(I,Ft);let cl=ke({state:"loading",data:fe.data},W,{" _hasFetcherDoneAnything ":!0});f.fetchers.set(I,cl);let[hl,qr]=jy(e.history,f,Nt,W,Ae,p,m,y,{[T.route.id]:fe.data},void 0,D);qr.filter(Zn=>Zn.key!==I).forEach(Zn=>{let vh=Zn.key,Tg=f.fetchers.get(vh),LS={state:"loading",data:Tg&&Tg.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(vh,LS),C.set(vh,K)}),pe({fetchers:new Map(f.fetchers)});let{results:gh,loaderResults:kt,fetcherResults:On}=await nt(f.matches,Nt,hl,qr,xe);if(K.signal.aborted)return;P.delete(I),C.delete(I),qr.forEach(Zn=>C.delete(Zn.key));let dr=Gy(gh);if(dr)return _t(f,dr);let{loaderData:fl,errors:yh}=Yy(f,f.matches,hl,kt,void 0,qr,On,O),MS={state:"idle",data:fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(I,MS);let OS=Lt(Ft);f.navigation.state==="loading"&&Ft>k?(de(d,"Expected pending action"),g&&g.abort(),j(f.navigation.location,{matches:Nt,loaderData:fl,errors:yh,fetchers:new Map(f.fetchers)})):(pe(ke({errors:yh,loaderData:Wy(f.loaderData,fl,Nt,yh)},OS?{fetchers:new Map(f.fetchers)}:{})),p=!1)}async function xt(I,M,b,T,L,W){let Y=f.fetchers.get(I),re=ke({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},W,{data:Y&&Y.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(I,re),pe({fetchers:new Map(f.fetchers)});let K=new AbortController,Oe=mo(e.history,b,K.signal);C.set(I,K);let fe=await po("loader",Oe,T,L,h.basename);if(_r(fe)&&(fe=await Ab(fe,Oe.signal,!0)||fe),C.get(I)===K&&C.delete(I),Oe.signal.aborted)return;if(_s(fe)){await _t(f,fe);return}if(zo(fe)){let xe=fs(f.matches,M);f.fetchers.delete(I),pe({fetchers:new Map(f.fetchers),errors:{[xe.route.id]:fe.error}});return}de(!_r(fe),"Unhandled fetcher deferred data");let Ae={state:"idle",data:fe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(I,Ae),pe({fetchers:new Map(f.fetchers)})}async function _t(I,M,b){var T;let{submission:L,replace:W,isFetchActionRedirect:Y}=b===void 0?{}:b;M.revalidate&&(p=!0);let re=fa(I.location,M.location,ke({_isRedirect:!0},Y?{_isFetchActionRedirect:!0}:{}));if(de(re,"Expected a location on the redirect navigation"),Cb&&typeof((T=window)==null?void 0:T.location)<"u"){let Nt=e.history.createURL(M.location).origin;if(window.location.origin!==Nt){W?window.location.replace(M.location):window.location.assign(M.location);return}}g=null;let K=W===!0?Ze.Replace:Ze.Push,{formMethod:Oe,formAction:fe,formEncType:Ae,formData:xe}=I.navigation;!L&&Oe&&fe&&xe&&Ae&&(L={formMethod:Oe,formAction:fe,formEncType:Ae,formData:xe}),UE.has(M.status)&&L&&ti(L.formMethod)?await le(K,re,{submission:ke({},L,{formAction:M.location}),preventScrollReset:v}):await le(K,re,{overrideNavigation:{state:"loading",location:re,formMethod:L?L.formMethod:void 0,formAction:L?L.formAction:void 0,formEncType:L?L.formEncType:void 0,formData:L?L.formData:void 0},preventScrollReset:v})}async function nt(I,M,b,T,L){let W=await Promise.all([...b.map(K=>po("loader",L,K,M,h.basename)),...T.map(K=>po("loader",mo(e.history,K.path,L.signal),K.match,K.matches,h.basename))]),Y=W.slice(0,b.length),re=W.slice(b.length);return await Promise.all([qy(I,b,Y,L.signal,!1,f.loaderData),qy(I,T.map(K=>K.match),re,L.signal,!0)]),{results:W,loaderResults:Y,fetcherResults:re}}function bt(){p=!0,m.push(...Gr()),D.forEach((I,M)=>{C.has(M)&&(y.push(M),Si(M))})}function Xt(I,M,b){let T=fs(f.matches,M);Xn(I),pe({errors:{[T.route.id]:b},fetchers:new Map(f.fetchers)})}function Xn(I){C.has(I)&&Si(I),D.delete(I),P.delete(I),N.delete(I),f.fetchers.delete(I)}function Si(I){let M=C.get(I);de(M,"Expected fetch controller: "+I),M.abort(),C.delete(I)}function hn(I){for(let M of I){let T={state:"idle",data:q(M).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(M,T)}}function Mn(){let I=[];for(let M of N){let b=f.fetchers.get(M);de(b,"Expected fetcher: "+M),b.state==="loading"&&(N.delete(M),I.push(M))}hn(I)}function Lt(I){let M=[];for(let[b,T]of P)if(T<I){let L=f.fetchers.get(b);de(L,"Expected fetcher: "+b),L.state==="loading"&&(Si(b),P.delete(b),M.push(b))}return hn(M),M.length>0}function Ci(I,M){let b=f.blockers.get(I)||Uy;return F.get(I)!==M&&(F.set(I,M),R==null?R=I:I!==R&&da(!1,"A router only supports one blocker at a time")),b}function Ti(I){f.blockers.delete(I),F.delete(I),R===I&&(R=null)}function Vr(I,M){let b=f.blockers.get(I)||Uy;de(b.state==="unblocked"&&M.state==="blocked"||b.state==="blocked"&&M.state==="blocked"||b.state==="blocked"&&M.state==="proceeding"||b.state==="blocked"&&M.state==="unblocked"||b.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+M.state),f.blockers.set(I,M),pe({blockers:new Map(f.blockers)})}function ro(I){let{currentLocation:M,nextLocation:b,historyAction:T}=I;if(R==null)return;let L=F.get(R);de(L,"Could not find a function for the active blocker");let W=f.blockers.get(R);if(!(W&&W.state==="proceeding")&&L({currentLocation:M,nextLocation:b,historyAction:T}))return R}function Gr(I){let M=[];return O.forEach((b,T)=>{(!I||I(T))&&(b.cancel(),M.push(T),O.delete(T))}),M}function ph(I,M,b){if(r=I,o=M,s=b||(T=>T.key),!a&&f.navigation===Vh){a=!0;let T=ul(f.location,f.matches);T!=null&&pe({restoreScrollPosition:T})}return()=>{r=null,o=null,s=null}}function mh(I,M){if(r&&s&&o){let b=M.map(L=>Ky(L,f.loaderData)),T=s(I,b)||I.key;r[T]=o()}}function ul(I,M){if(r&&s&&o){let b=M.map(W=>Ky(W,f.loaderData)),T=s(I,b)||I.key,L=r[T];if(typeof L=="number")return L}return null}return h={get basename(){return e.basename},get state(){return f},get routes(){return t},initialize:ge,subscribe:Be,enableScrollRestoration:ph,navigate:Q,fetch:ze,revalidate:w,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:q,deleteFetcher:Xn,dispose:he,getBlocker:Ci,deleteBlocker:Ti,_internalFetchControllers:C,_internalActiveDeferreds:O},h}function YE(e){return e!=null&&"formData"in e}function $y(e,t,n){n===void 0&&(n=!1);let i=typeof e=="string"?e:Gn(e);if(!t||!YE(t))return{path:i};if(t.formMethod&&!QE(t.formMethod))return{path:i,error:Di(405,{method:t.formMethod})};let r;if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:Ib(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},ti(r.formMethod)))return{path:i,submission:r};let s=bi(i),o=Eb(t.formData);return n&&s.search&&Pb(s.search)&&o.append("index",""),s.search="?"+o,{path:Gn(s),submission:r}}function WE(e,t){let n=e;if(t){let i=e.findIndex(r=>r.route.id===t);i>=0&&(n=e.slice(0,i))}return n}function jy(e,t,n,i,r,s,o,a,l,u,c){let h=u?Object.values(u)[0]:l?Object.values(l)[0]:void 0,f=e.createURL(t.location),d=e.createURL(r),v=s||f.toString()===d.toString()||f.search!==d.search,g=u?Object.keys(u)[0]:void 0,p=WE(n,g).filter((y,C)=>{if(y.route.loader==null)return!1;if(VE(t.loaderData,t.matches[C],y)||o.some(P=>P===y.route.id))return!0;let E=t.matches[C],k=y;return Hy(y,ke({currentUrl:f,currentParams:E.params,nextUrl:d,nextParams:k.params},i,{actionResult:h,defaultShouldRevalidate:v||Tb(E,k)}))}),m=[];return c&&c.forEach((y,C)=>{if(n.some(E=>E.route.id===y.routeId))a.includes(C)?m.push(ke({key:C},y)):Hy(y.match,ke({currentUrl:f,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:n[n.length-1].params},i,{actionResult:h,defaultShouldRevalidate:v}))&&m.push(ke({key:C},y));else return}),[p,m]}function VE(e,t,n){let i=!t||n.route.id!==t.route.id,r=e[n.route.id]===void 0;return i||r}function Tb(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Hy(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function po(e,t,n,i,r,s,o,a){r===void 0&&(r="/"),s===void 0&&(s=!1),o===void 0&&(o=!1);let l,u,c,h=new Promise((d,v)=>c=v),f=()=>c();t.signal.addEventListener("abort",f);try{let d=n.route[e];de(d,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),u=await Promise.race([d({request:t,params:n.params,context:a}),h]),de(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){l=pt.error,u=d}finally{t.signal.removeEventListener("abort",f)}if(KE(u)){let d=u.status;if(zE.has(d)){let S=u.headers.get("Location");if(de(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!s){let m=new URL(t.url),y=S.startsWith("//")?new URL(m.protocol+S):new URL(S);y.origin===m.origin&&(S=y.pathname+y.search+y.hash)}}else{let m=i.slice(0,i.indexOf(n)+1),y=_c(m).map(E=>E.pathnameBase),C=rm(S,y,new URL(t.url).pathname);if(de(Gn(C),"Unable to resolve redirect location: "+S),r){let E=C.pathname;C.pathname=E==="/"?r:ci([r,E])}S=Gn(C)}if(s)throw u.headers.set("Location",S),u;return{type:pt.redirect,status:d,location:S,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||pt.data,response:u};let v,g=u.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?v=await u.json():v=await u.text(),l===pt.error?{type:l,error:new sm(d,u.statusText,v),headers:u.headers}:{type:pt.data,data:v,statusCode:u.status,headers:u.headers}}return l===pt.error?{type:l,error:u}:u instanceof ME?{type:pt.deferred,deferredData:u}:{type:pt.data,data:u}}function mo(e,t,n,i){let r=e.createURL(Ib(t)).toString(),s={signal:n};if(i&&ti(i.formMethod)){let{formMethod:o,formEncType:a,formData:l}=i;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?Eb(l):l}return new Request(r,s)}function Eb(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,i instanceof File?i.name:i);return t}function GE(e,t,n,i,r){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=t[h].route.id;if(de(!_s(c),"Cannot handle redirect results in processLoaderData"),zo(c)){let d=fs(e,f),v=c.error;i&&(v=Object.values(i)[0],i=void 0),o=o||{},o[d.route.id]==null&&(o[d.route.id]=v),s[f]=void 0,l||(l=!0,a=kb(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else _r(c)?(r.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),i&&(o=i,s[Object.keys(i)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function Yy(e,t,n,i,r,s,o,a){let{loaderData:l,errors:u}=GE(t,n,i,r,a);for(let c=0;c<s.length;c++){let{key:h,match:f}=s[c];de(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let d=o[c];if(zo(d)){let v=fs(e.matches,f.route.id);u&&u[v.route.id]||(u=ke({},u,{[v.route.id]:d.error})),e.fetchers.delete(h)}else if(_s(d))de(!1,"Unhandled fetcher revalidation redirect");else if(_r(d))de(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:d.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:l,errors:u}}function Wy(e,t,n,i){let r=ke({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(r[o]=t[o]):e[o]!==void 0&&(r[o]=e[o]),i&&i.hasOwnProperty(o))break}return r}function fs(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Vy(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Di(e,t){let{pathname:n,routeId:i,method:r,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&n&&i?a="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):e===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+n+'"'):e===404?(o="Not Found",a='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",r&&n&&i?a="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new sm(e||500,o,new Error(a),!0)}function Gy(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(_s(n))return n}}function Ib(e){let t=typeof e=="string"?bi(e):e;return Gn(ke({},t,{hash:""}))}function qE(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function _r(e){return e.type===pt.deferred}function zo(e){return e.type===pt.error}function _s(e){return(e&&e.type)===pt.redirect}function KE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function QE(e){return BE.has(e)}function ti(e){return NE.has(e)}async function qy(e,t,n,i,r,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o],u=e.find(h=>h.route.id===l.route.id),c=u!=null&&!Tb(u,l)&&(s&&s[l.route.id])!==void 0;_r(a)&&(r||c)&&await Ab(a,i,r).then(h=>{h&&(n[o]=h||n[o])})}}async function Ab(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:pt.data,data:e.deferredData.unwrappedData}}catch(r){return{type:pt.error,error:r}}return{type:pt.data,data:e.deferredData.data}}}function Pb(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ky(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}function Qy(e,t){let n=typeof t=="string"?bi(t).search:t.search;if(e[e.length-1].route.index&&Pb(n||""))return e[e.length-1];let i=_c(e);return i[i.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mu.apply(this,arguments)}function JE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const XE=typeof Object.is=="function"?Object.is:JE,{useState:ZE,useEffect:eI,useLayoutEffect:tI,useDebugValue:nI}=Sf;function iI(e,t,n){const i=t(),[{inst:r},s]=ZE({inst:{value:i,getSnapshot:t}});return tI(()=>{r.value=i,r.getSnapshot=t,Gh(r)&&s({inst:r})},[e,i,t]),eI(()=>(Gh(r)&&s({inst:r}),e(()=>{Gh(r)&&s({inst:r})})),[e]),nI(i),i}function Gh(e){const t=e.getSnapshot,n=e.value;try{const i=t();return!XE(n,i)}catch{return!0}}function rI(e,t,n){return t()}const sI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oI=!sI,aI=oI?rI:iI,lI="useSyncExternalStore"in Sf?(e=>e.useSyncExternalStore)(Sf):aI,om=A.createContext(null),bc=A.createContext(null),La=A.createContext(null),kc=A.createContext(null),ur=A.createContext({outlet:null,matches:[]}),Db=A.createContext(null);function uI(e,t){let{relative:n}=t===void 0?{}:t;Na()||de(!1);let{basename:i,navigator:r}=A.useContext(La),{hash:s,pathname:o,search:a}=am(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:ci([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Na(){return A.useContext(kc)!=null}function Fa(){return Na()||de(!1),A.useContext(kc).location}function Rb(){Na()||de(!1);let{basename:e,navigator:t}=A.useContext(La),{matches:n}=A.useContext(ur),{pathname:i}=Fa(),r=JSON.stringify(_c(n).map(a=>a.pathnameBase)),s=A.useRef(!1);return A.useEffect(()=>{s.current=!0}),A.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=rm(a,JSON.parse(r),i,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:ci([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,r,i])}const cI=A.createContext(null);function hI(e){let t=A.useContext(ur).outlet;return t&&A.createElement(cI.Provider,{value:e},t)}function fI(){let{matches:e}=A.useContext(ur),t=e[e.length-1];return t?t.params:{}}function am(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=A.useContext(ur),{pathname:r}=Fa(),s=JSON.stringify(_c(i).map(o=>o.pathnameBase));return A.useMemo(()=>rm(e,JSON.parse(s),r,n==="path"),[e,s,r,n])}function dI(e,t){Na()||de(!1);let{navigator:n}=A.useContext(La),i=A.useContext(bc),{matches:r}=A.useContext(ur),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Fa(),u;if(t){var c;let g=typeof t=="string"?bi(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||de(!1),u=g}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=ko(e,{pathname:f}),v=yI(d&&d.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:ci([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:ci([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),r,i||void 0);return t&&v?A.createElement(kc.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ze.Pop}},v):v}function pI(){let e=Mb(),t=kb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:r},n):null,s)}class mI extends A.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?A.createElement(ur.Provider,{value:this.props.routeContext},A.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gI(e){let{routeContext:t,match:n,children:i}=e,r=A.useContext(om);return r&&r.static&&r.staticContext&&n.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ur.Provider,{value:t},i)}function yI(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let i=e,r=n==null?void 0:n.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||de(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,u=n?o.route.errorElement||A.createElement(pI,null):null,c=t.concat(i.slice(0,a+1)),h=()=>A.createElement(gI,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?A.createElement(mI,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Jy;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Jy||(Jy={}));var Ou;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Ou||(Ou={}));function vI(e){let t=A.useContext(bc);return t||de(!1),t}function wI(e){let t=A.useContext(ur);return t||de(!1),t}function xI(e){let t=wI(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function Mb(){var e;let t=A.useContext(Db),n=vI(Ou.UseRouteError),i=xI(Ou.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function _I(e){let{fallbackElement:t,router:n}=e,i=lI(n.subscribe,()=>n.state,()=>n.state),r=A.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,a,l)=>n.navigate(o,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,a,l)=>n.navigate(o,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),s=n.basename||"/";return A.createElement(A.Fragment,null,A.createElement(om.Provider,{value:{router:n,navigator:r,static:!1,basename:s}},A.createElement(bc.Provider,{value:i},A.createElement(kI,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:r},n.state.initialized?A.createElement(SI,null):t))),null)}function Ob(e){return hI(e.context)}function bI(e){de(!1)}function kI(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Ze.Pop,navigator:s,static:o=!1}=e;Na()&&de(!1);let a=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=bi(i));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=i,v=A.useMemo(()=>{let g=bb(u,a);return g==null?null:{pathname:g,search:c,hash:h,state:f,key:d}},[a,u,c,h,f,d]);return v==null?null:A.createElement(La.Provider,{value:l},A.createElement(kc.Provider,{children:n,value:{location:v,navigationType:r}}))}function SI(e){let{children:t,location:n}=e,i=A.useContext(om),r=i&&!t?i.router.routes:xd(t);return dI(r,n)}var Xy;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Xy||(Xy={}));new Promise(()=>{});function xd(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(i,r)=>{if(!A.isValidElement(i))return;if(i.type===A.Fragment){n.push.apply(n,xd(i.props.children,t));return}i.type!==bI&&de(!1),!i.props.index||!i.props.children||de(!1);let s=[...t,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=xd(i.props.children,s)),n.push(o)}),n}function Lb(e){return e.map(t=>{let n=Mu({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=Lb(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pa.apply(this,arguments)}function Nb(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function CI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TI(e,t){return e.button===0&&(!t||t==="_self")&&!CI(e)}const EI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],II=["aria-current","caseSensitive","className","end","style","to","children"];function AI(e,t){return HE({basename:t==null?void 0:t.basename,history:cE({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||PI(),routes:Lb(e)}).initialize()}function PI(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=pa({},t,{errors:DI(t.errors)})),t}function DI(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&r.__type==="RouteErrorResponse")n[i]=new sm(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){let s=new Error(r.message);s.stack="",n[i]=s}else n[i]=r;return n}const RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lm=A.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=Nb(t,EI),f=typeof u=="string"?u:Gn(u),d=/^[a-z+]+:\/\//i.test(f)||f.startsWith("//"),v=f,g=!1;if(RI&&d){let y=new URL(window.location.href),C=f.startsWith("//")?new URL(y.protocol+f):new URL(f);C.origin===y.origin?v=C.pathname+C.search+C.hash:g=!0}let S=uI(v,{relative:r}),p=MI(v,{replace:o,state:a,target:l,preventScrollReset:c,relative:r});function m(y){i&&i(y),y.defaultPrevented||p(y)}return A.createElement("a",pa({},h,{href:d?f:S,onClick:g||s?i:m,ref:n,target:l}))}),tn=A.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=Nb(t,II),h=am(l,{relative:c.relative}),f=Fa(),d=A.useContext(bc),{navigator:v}=A.useContext(La),g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,S=f.pathname,p=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(S=S.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase());let m=S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/",y=p!=null&&(p===g||!o&&p.startsWith(g)&&p.charAt(g.length)==="/"),C=m?i:void 0,E;typeof s=="function"?E=s({isActive:m,isPending:y}):E=[s,m?"active":null,y?"pending":null].filter(Boolean).join(" ");let k=typeof a=="function"?a({isActive:m,isPending:y}):a;return A.createElement(lm,pa({},c,{"aria-current":C,className:E,ref:n,style:k,to:l}),typeof u=="function"?u({isActive:m,isPending:y}):u)});var Zy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Zy||(Zy={}));var ev;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ev||(ev={}));function MI(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=Rb(),l=Fa(),u=am(e,{relative:o});return A.useCallback(c=>{if(TI(c,n)){c.preventDefault();let h=i!==void 0?i:Gn(l)===Gn(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,n,e,s,o])}const OI={user:null,is_auth_checked:!1,window_width:null,window_height:null,is_mobile_view:null,banner:[],set_global_context:null,site_title:"RPG Assistant",is_show_sidebar:!1,is_show_rightbar:!1,rightbar_content:"test",mongodb_app_id:"application-0-dvaas"},Yt=A.createContext(OI),um="data:image/gif;base64,R0lGODlhEAAQAPIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",Ye={sidebar_grey:"#f7f7f7",banner_grey:"#E5E5E5",banner_green:"#90ee90",banner_red:"#FFCCCB",banner_yellow:"#F7C600",white:"white",black:"black",disabled_grey:"#e6e6e6",banner_dark_purple:"#ccccff",banner_light_purple:"#e6e6ff",tab_inactive_grey:"#8a8a8a",lighter_grey:"#F0F0F0"},Je={mobile_collapse_point:650,details_width:"40em",item_collection_name:"items",character_collection_name:"characters",ping_collection_name:"data_reload_ping",abilities_collection_name:"quest_abilities",mongodb_app_id:"application-0-dvaas"},LI="/assets/ham_menu_black-94593ee5.svg",NI="/assets/back_arrow-9339be02.svg";function tv(){const e=A.useContext(Yt),t={textDecoration:"none",paddingTop:"1rem",paddingBottom:"1rem",display:"block",textAlign:"center",borderTop:"solid 1px #e3e3e3",padding:"1rem"},n=[];function i(r){e.clear_banner(),e.update_global_context({is_show_sidebar:!1})}return n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"/",children:"Generator"},"/")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"characters",children:"Characters"},"characters")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"items",children:"Items"},"items")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"abilities",children:"Abilities"},"abilities")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"map_gen",children:"Map Gen"},"map_gen")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"data_manager",children:"Data Manager"},"data_manager")),n.push(x(tn,{className:"main_nav_link",style:t,onClick:i,to:"account_info",children:"Account Info"},"account_info")),x(Pe,{children:n})}function FI(){const e=Mb();return console.error(e),H("div",{id:"error-page",children:[x("h1",{children:"Oops!"}),x("p",{children:"Sorry, an unexpected error has occurred."}),x("p",{children:x("i",{children:e.statusText||e.message})})]})}const BI={is_loading:!1},Jn=A.createContext(BI),zI={spoon_of_feeding:{display_name:"Spoon of Feeding",description:"This spoon makes the wielder suddenly very hungry. They will seek out food.",is_unique:!0},mace_of_winding:{display_name:"Mace of Winding",description:"This mace takes a while to wind up to full speed, swinging in wide arcs around the head. Player must use an action on a previous turn to start winding up, in order to use this mace on their next turn. Deals 4 damage.",is_unique:!0}},UI={hassone_bramble:{short_name:"Hassone",full_name:"Hassone Bramble",story_role:"Inner City Guard Captain",max_hp:10,current_hp:10,current_ap:10,items:[{item_name:"mace_of_winding",date_added:""},{item_name:"spoon_of_feeding",date_added:""}]},havori_casserit:{short_name:"Havori",full_name:"Havori Casserite",story_role:"Atrium Hospital Mage",max_hp:10,current_hp:10,current_ap:10}},$I=[{class:"Fighter",tree:"Dueling",tree_level:"1",ability_name:"Counter Attack",description:"When an enemy within reach rolls a tough choice or worse on a basic attack against you, you parry their attack and take no damage. If they roll a failure or worse, you may also immediately roll the die to make a basic attack on them. This counterattack does not count as a turn.",action_point_cost:"0"},{class:"Fighter",tree:"Dueling",tree_level:"2",ability_name:"Wild Attack",description:"Roll the die. You attack with reckless power, disregarding your safety. Describe a signature style for this attack and what it looks like when you make it. 20: You deal quadruple damage. 11-19: You deal double damage. 6-10: You deal double damage to the enemy, but they counterattack you. 2-5: You miss. All enemies within reach may counterattack you immediately. 1: Your weapon breaks.",action_point_cost:"0"},{class:"Fighter",tree:"Dueling",tree_level:"3",ability_name:"Overpower",description:"You use your strength to overpower a commoner or minion within reach. (You cannot use this ability on bosses.) Describe how you overpower them. You put the target in a compromised position until they spend a turn getting out of it. During this time, basic attacks hit them for double damage.",action_point_cost:"1"},{class:"Fighter",tree:"Dueling",tree_level:"4",ability_name:"Disarm",description:"You disarm an NPC within reach. If you have a free hand, you may take the weapon for yourself, or you may toss the weapon aside. You may disarm the NPC on your turn or immediately after they roll a failure or worse on an attack against you.",action_point_cost:"1"},{class:"Fighter",tree:"Dueling",tree_level:"5",ability_name:"Duel",description:"You compel a nearby creature to fight you in single combat. (The creature must already be hostile toward you.) If you have the Quest Core Deck, take your Basic Attack, Wild Attack, Overpower, and Disarm cards. (If you don't have this deck, assign these abilities to a standard deck of cards.) Choose three of these cards to use and place them facedown on the table, keeping it secret from the Guide. The Guide must guess the identity of each card. Reveal the card after each guess. If the Guide guesses correctly, you fail to use the ability on that card. If they guess incorrectly, you use the ability immediately at no AP cost, and it is automatically successful. If the Guide guesses all three correctly, your foe immediately makes a successful counterattack against you. But if they get all three guesses wrong, you may extend the Duel for another round of three guesses.",action_point_cost:"1"},{class:"Fighter",tree:"Tactics",tree_level:"1",ability_name:"Provoke",description:"Make a nearby creature angry at you by saying something or making a rude gesture. Your target must be able to understand your intent. For the next minute, the target focuses its attention on you, ignoring all others. The effect ends if the target is hit by another creature or if hostilities subside",action_point_cost:"0"},{class:"Fighter",tree:"Tactics",tree_level:"2",ability_name:"Intercept",description:"If a nearby NPC is about to attack someone, you may rush to intercept the attack. (You must say you're using this ability as soon as the Guide declares the attack.) The NPC makes their attack on you instead. When you intercept the attack, the attacker immediately becomes affected by your Provoke ability.",action_point_cost:"1"},{class:"Fighter",tree:"Tactics",tree_level:"3",ability_name:"Charge",description:"You lock your gaze on a nearby destination, summoning all of your strength to charge toward it. You violently barrel through any foes in your path, knocking them down and dealing 1 damage to each of them. Creatures you knock down are dazed and cannot use special abilities during their next turn.",action_point_cost:"2"},{class:"Fighter",tree:"Tactics",tree_level:"4",ability_name:"Retreat",description:"You Provoke all nearby enemies to give your allies cover to retreat. If you are in combat, one nearby enemy immediately gets a chance to attack you. You and any willing allies can then safely and expeditiously disengage from a fight and leave the scene. Commoners and minions will not pursue you, but bosses may still choose to give chase.",action_point_cost:"2"},{class:"Fighter",tree:"Tactics",tree_level:"5",ability_name:"Whirlwind",description:"Roll The Die. You become a tornado of martial fury in an attack so swift that creatures nearby can hear a whistling sound in the air. You may use your body or a weapon for this attack. 20: You strike all enemies within reach, hitting them for double damage. 11-19: You hit all enemies within reach. 6-10: You hit all enemies within reach. Choose one: you deal half damage or your weapon breaks after dealing damage. 2-5: You hit one enemy within reach, then your weapon goes flying in the air. 1: You spin wildly until you feel sick, and an enemy disarms you.",action_point_cost:"2"},{class:"Fighter",tree:"Camaraderie",tree_level:"1",ability_name:"Summon The Blood",description:"When you regroup (p. 14), you bolster the spirits of your party by reciting a poem. You must recite a poem at the table for your friends. You can write your own or read one from another author, like from a book, movie, or TV show. When completed, your party recovers an additional 3 HP from regrouping.",action_point_cost:"1"},{class:"Fighter",tree:"Camaraderie",tree_level:"2",ability_name:"Valiant Soliloquy",description:"You inspire your allies with a rousing speech. You can write your own or borrow one from a play or movie. It can be short; reading a few powerful lines is enough. You must give the speech at the table. When you complete it, each member of the party gains the option to redo their next roll. This option expires at the end of your scene if it has not been used.",action_point_cost:"2"},{class:"Fighter",tree:"Camaraderie",tree_level:"3",ability_name:"War Story",description:"Once per game session, you may earn 2 AP by recounting a battle from your past adventures. You can only use this ability during downtime in the story, like when you regroup or undertake a journey. (You can't spout history during combat.) You must recount a different conflict each time you use this ability. If there is no battle to recount, you can make one up from your character's past.",action_point_cost:"0"},{class:"Fighter",tree:"Camaraderie",tree_level:"4",ability_name:"Marshal",description:"When you face a serious test of strength, you can organize the help of your allies to overcome it. The whole party must be nearby and able to participate. Everyone in the party must roll the die. If a majority of players scores a success or better, you are able to overcome the challenge. You can use this for feats that would be improbable to accomplish alone, like breaking through a reinforced door, lifting a wooden beam off of someone, or winning a tug-of-war contest against a giant. The Guide will decide what is outside of the limits of this ability.",action_point_cost:"1"},{class:"Fighter",tree:"Camaraderie",tree_level:"5",ability_name:"Bond",description:"Choose a member of your party to form a special partnership with. They must want to form the bond with you. You may only bond with one party member at a time, and the bond cannot be broken until your partner dies or abandons the party.  You may now use Intercept (p. 36) for no AP to defend your partner from an attack.  You can now sense when your partner is in danger, even if you are separated.  You are immune to fear when your partner is at death's door.  You notice your heart beating stronger when your partner is nearby.",action_point_cost:"0"},{class:"Fighter",tree:"Leadership",tree_level:"1",ability_name:"Size Up",description:'You evaluate the capabilities of a nearby creature or group of creatures. The Guide will give you useful insight into their capabilities, strength, vulnerabilities, and/or resistances. At a minimum, you will receive an accurate assessment from the Guide about whether they would pose a fair fight. The Guide will deliver this information to you narratively. For example, they might say "you notice the giant spider flinching at the sight of your torch," rather than telling you it is vulnerable to fire damage.',action_point_cost:"0"},{class:"Fighter",tree:"Leadership",tree_level:"2",ability_name:"Plan",description:"If you have time to prepare before a conflict and you can choose when it begins, you may ambush your enemies and take the first round. Before action begins, each party member must say what they will do during their first turn. The Guide will then resolve these actions simultaneously.",action_point_cost:"3"},{class:"Fighter",tree:"Leadership",tree_level:"3",ability_name:"Recruit",description:"You command a nearby commoner or minion to assist you. (They cannot currently be hostile toward you.) You can have them join a fight or perform other tasks, like watching a door, defending an area, or delivering a message. They will follow your commands to the best of their ability, but they won't follow absurd or suicidal orders. The Guide plays the part of the NPC. After one day or when they complete the task you give them, the recruit will leave you and return to their business.",action_point_cost:"1"},{class:"Fighter",tree:"Leadership",tree_level:"4",ability_name:"Attendant",description:"While in a populated area, you may find and recruit an NPC attendant. The Guide will tell you how you find this person and who they are. The attendant will stay with you permanently until you dismiss their service. You may only have one attendant at a time. The attendant is a Fighter-based minion who is played by the Guide. They have 10 hit points and can use the Counter Attack, Wild Attack, and Provoke abilities. The Guide will create the rest of the attendant's characteristics. The attendant is your ally and a capable apprentice. (The Guide plays as the attendant like any other NPC, but you may give them orders.) They'll run errands for you, assist you in combat, and follow other orders to the best of their ability. But they may choose not follow absurd, suicidal, or morally ruinous orders. This arrangement is based on mutual respect; your attendant follows you to learn what you know. If you betray your attendant, they may abandon you.",action_point_cost:"7"},{class:"Fighter",tree:"Body",tree_level:"1",ability_name:"Technique",description:"You are always deadly, even when not holding a weapon. Attacks with your body (like punches and kicks) now hit for 2 HP.",action_point_cost:"0"},{class:"Fighter",tree:"Body",tree_level:"2",ability_name:"Flow",description:"When you roll a 20 on a basic attack, you may briefly enter a state of intense focus. After completing your initial attack, you may immediately make one basic attack on each enemy within reach. These attacks are automatically successful.",action_point_cost:"1"},{class:"Fighter",tree:"Body",tree_level:"3",ability_name:"Yawp",description:"Roll The Die. Once per scene, you may make a show of bravado to frighten nearby creatures. Any common folk nearby will seek shelter, run away, or attempt to appear non-threatening. 20: Half of all minions flee the scene. 11-19: One minion flees the scene. 6-10: One minion flees the scene, unless their boss is present. 1-5: They laugh at you.",action_point_cost:"1"},{class:"Fighter",tree:"Body",tree_level:"4",ability_name:"Focus",description:"You pause briefly, closing your eyes and clearing your mind of its reflexive habits. Your restless self fades away as your body becomes your task. 3 You immediately use your Flow ability, even if you didn't roll a 20. 4 You become wind; until the end of your current fight, minions cannot hit you with basic attacks unless they roll 20. This effect ends if you are hit. 5 You purge a poison or illness from",action_point_cost:"3,4,5"},{class:"Fighter",tree:"Body",tree_level:"5",ability_name:"Defy Death",description:"If you would die from an enemy's attack, you may overcome fate to make a last stand. Instead of dying, you stay on your feet but remain at 0 HP. If you also make an appeal to your dream (p. 28), you recover 1 hit point. You must say something that references your dream  to declare why you now live to die another day. You laugh at death, but death demands a toll. Each time you use this ability, you increase a supernatural bounty on your head. In quiet moments, you begin to feel as if the shadows are watching you.",action_point_cost:"4"},{class:"Fighter",tree:"Legendary",tree_level:"1",ability_name:"Limit Break",description:"You achieve a transcendent unity of mind and body that allows you to passively channel the magic around you and push yourself beyond your natural limits. 7 You single-handedly rout all nearby minions that you can see in a stunning display of martial fury. You may choose to kill or intimidate any number of them. Describe how you clear the scene of these foes. 4 You mark an enemy, beginning a relentless assault on them. You automatically make three successful basic attacks on them. Then, you may continue making basic attacks on them until you roll lower than a success. 3 You briefly gain unbelievable strength to perform one task. You can do things that were previously impossible, like single-handedly lifting a giant boulder, running through a brick wall, or knocking a giant to the ground. You can now do things that were just beyond your reach, but not things that are absurd. (You can't move a mountain or lasso the moon.) The Guide will decide what's possible.",action_point_cost:"7,4,3"},{class:"Fighter",tree:"Legendary",tree_level:"1",ability_name:"Champion",description:"Tales of your heroic deeds have spread through the lands, elevating your stature into the stratosphere. You are now a hero, especially to those who value power. Authoritarianminded people are especially vulnerable to your reputation, and most will defer to you in reverence. This includes town guards, bandits, and others who enjoy using force. You gain the Recruit ability (p. 38) if you do not already have it, and you may use it for no AP cost on your fans or those who are awestruck by your prestige. You also gain the Attendant ability (p. 38). It now costs 4 AP to use.",action_point_cost:"0"},{class:"Fighter",tree:"Legendary",tree_level:"1",ability_name:"Steel Pact",description:"Choose a weapon you own. You form an extraordinary bond with it that cannot be broken unless the weapon is destroyed. You now sense which direction your weapon is in and feel a vague sense of how far away it is. If it is beyond your current plane of existence, you sense nothing but a dull feeling of sadness. 0 When you roll a failure when using this weapon, you may reroll the die once. You must take the result of the reroll. 0 When you roll a 20 on an attack against a minion while using this weapon, you automatically kill it, unless it has immunity against weapon attacks.",action_point_cost:"0"},{class:"Invoker",tree:"Invocation",tree_level:"1",ability_name:"Declare",description:"Once per scene, you may declare a reason for intervening in a matter, steeling your resolve. The reason should be based on your ideal (p. 26) and the scene's context. For example, if you believe in order, you might tell highway robbers they're breaking the law. Or if you believe in honor, you might say there's no honor among thieves. Choose one result:  You immediately make a successful basic attack on a nearby foe.  You compel an NPC to explain what they are doing (they may lie to you).  You convince commoners to leave.",action_point_cost:"0"},{class:"Invoker",tree:"Invocation",tree_level:"2",ability_name:"Petition",description:'When you regroup (p. 14), you may close your eyes and calm your body. You recite a short petition and receive a boon. You must recite a petition at the table that contains all of these parts:  An address line, like "in the name of the gods" or "for the love of wisdom."  A request, like "I ask for strength."  An adulation, like "for I am your humble servant" or "for you are the truth." When you are finished reciting the petition, all of your hit points are restored.',action_point_cost:"2"},{class:"Invoker",tree:"Invocation",tree_level:"3",ability_name:"Invoke",description:"You leave your worldly body behind and create an astral projection of yourself. You must be in a quiet place with no other creatures around to begin the ritual. While in this trance, you can only vaguely sense if there is danger around your mortal body. You may exit the trance at any time. Your mind enters a liminal plane of existence. You experience this place like a dreamworld in the stars; it might be a lush paradise in a nebula, an idyllic homestead, or a temple in the fires of creation. If you have an allegiance to a deity, you meet with their avatar. If you hold no allegiance to a deity or if your deity is merely a figment of your character's imagination, you meet with an avatar of supernatural wisdom. Set a timer. You may speak to the avatar for 1 minute about anything you like. If you ask any of these questions, the Guide will give you a truthful answer:  Am I on the right path to ____________?  Is ___________ who they say they are?  Am I living up to my ideal?  Have my actions unknowingly caused anyone harm?  How can I redeem myself?",action_point_cost:"3"},{class:"Invoker",tree:"Invocation",tree_level:"4",ability_name:"Vow",description:"You create a vow that permanently binds you in service of an ideal. You may only do this once. There is no turning back. You can express this bond as devotion to a deity, a people, a cause, or something else that represents or is served by your ideal. (You may use an ideal you chose when creating a character, or choose a new one.) You must be in a safe and quiet place to make the vow, and it must include:  Something you promise to actively do in service of your ideal, like helping the sick.  A person, place, or group you promise to protect when nearby.  A wrong from your past that you pledge to make amends for someday. Once the vow is created, you receive these ongoing benefits:  You can now use your Invoke ability once per game session for no AP cost.  The healing effect of your Petition ability now affects nearby party members in addition to you.  Your eyes now have a faint glow. You have a sacred obligation to fulfill the promises you have made. Each time you betray the promises of your vow in a serious way, you feel a sharp pain in your heart, and your maximum HP decreases by 1. You cannot be reduced below 5 maximum HP from this effect.",action_point_cost:"0"},{class:"Invoker",tree:"Inquiries",tree_level:"1",ability_name:"Soul Gaze",description:"Your eyes turn black, like shimmering gateways to eternity, as you peer into the eyes of a nearby creature. They become momentarily transfixed on your gaze. 20: You learn the creature's ideal and flaw. You also learn the worst and best thing they have ever done. 11-19: You learn their ideal and flaw. 6-10: You learn their ideal and flaw, but one is false. 1-5: They resist your invasion and briefly glimpse your recent thoughts.",action_point_cost:"1"},{class:"Invoker",tree:"Inquiries",tree_level:"2",ability_name:"Impression",description:"You brush against a creature for a fleeting moment, feeling its desires. The Guide chooses and reveals to you something specific that the creature routinely craves. You become cursed to also crave that thing and cannot use Impression again until you fulfill the desire. When you fulfill it once, the curse is lifted.",action_point_cost:"1"},{class:"Invoker",tree:"Inquiries",tree_level:"3",ability_name:"Evil Eye",description:"You pause, closing your eyes and quieting your mind. You sense the worst thing that ever happened nearby. The Guide will describe to you the type of thing that happened and what the people involved look like. For example, you might learn that someone was murdered, a curse was created, or an evil vow was taken.",action_point_cost:"1"},{class:"Invoker",tree:"Inquiries",tree_level:"4",ability_name:"Shadowseek",description:"Roll the Die. You seek the location of a specific creature or object by projecting your consciousness into a shadow plane (p. 33). You must know what your target looks like. 20: You glimpse the target in real time and can see its nearby surroundings. If it is a creature, you may speak to them for 1 minute. They cannot see you, but they hear you in their mind. If you touch them, they feel a faint sensation, as if a breeze passes through them. 11-19: You glimpse the target in real time, can see its surroundings, and may watch it for the next minute. 6-10: You briefly glimpse the target and can see its surroundings, but you don't know if you're seeing it in the present moment. 2-5: You walk the shadow plane for 1 minute, finding only darkness. 1: You walk in darkness. If you were searching for an enemy, they see you instead, learning your exact location.",action_point_cost:"3"},{class:"Invoker",tree:"Verdicts",tree_level:"1",ability_name:"Inspire",description:"You inspire a nearby NPC by reciting a meaningful statement to them. You may invent a famous quote or proverb, or borrow one from the real world. The creature must be able to hear and understand you, and cannot currently be hostile toward you. Until the end of the day, the NPC shapes their behavior around their ideal, and cannot fall victim to their flaw.",action_point_cost:"1"},{class:"Invoker",tree:"Verdicts",tree_level:"2",ability_name:"Compel Truth",description:"Your eyes glow like blue flames as you look into the eyes of a nearby creature and grip their mind. 20: The target is compelled to answer all questions truthfully for the next 5 minutes. You may set a real timer. 11-19: The target is compelled to answer three questions truthfully. 6-10: The target is compelled to answer one question truthfully. 2-5: The target resists your invasion and senses you tried to manipulate them. 1: The spell backfires. The target may compel you to answer a question truthfully instead.",action_point_cost:"1"},{class:"Invoker",tree:"Verdicts",tree_level:"3",ability_name:"Forgive",description:"While placing your hand on a creature and telling them they are forgiven, they immediately feel guilt fade from their conscience. You must know a specific act or circumstance that the creature feels guilty for. Your words of forgiveness must be in the form of a Petition (p. 42). If you use this on a commoner or minion, they will become awestruck as if they have received a blessing from a god. They may begin to follow you as if you are a prophet, and they will not willingly cause you harm. If you use this on a boss, you will temporarily endear them to you. They will not harm you until the next time you meet, unless you or the party tries to harm them. They cannot be affected by this spell twice.",action_point_cost:"3"},{class:"Invoker",tree:"Verdicts",tree_level:"4",ability_name:"Liberate",description:"You place your hand on an NPC, channeling the weight of your devotion and resolve. By speaking a word of power, you alleviate them of a character flaw. (You must already know one of their flaws.) They are effectively cured of the flaw and it no longer affects their behavior. This also has the effect of your Forgive ability and relieves the creature of any guilt for succumbing to their flaw in the past.",action_point_cost:"4"},{class:"Invoker",tree:"Wrath",tree_level:"1",ability_name:"Fiery Avenger",description:"Choose a phrase to use for this spell. You speak the phrase of power, igniting your weapon in a magical flame of any color. While the weapon is on fire, it acts as a torch that casts light nearby. The flame increases the weapon's damage by 1. The flame persists until you roll a failure or worse on an attack with the weapon. You may dismiss the flame at any time.",action_point_cost:"1"},{class:"Invoker",tree:"Wrath",tree_level:"2",ability_name:"Thunderous Word",description:"Choose a word to use for this spell.You speak the word of power, releasing a thunderous shockwave in the direction you are facing. The wave knocks up to three creatures backward and hits them each for 2 damage. Creatures affected by the spell are briefly dazed and cannot use special abilities during their next turn.",action_point_cost:"2"},{class:"Invoker",tree:"Wrath",tree_level:"3",ability_name:"Lawbringer",description:"You raise your hand to the sky and summon a spectral warhammer into your grip. The hammer is a one-handed weapon that deals 3 damage. It appears to crackle with blue-green light and leaves a deep, reverberating sound in its wake. If you roll a triumph when using the hammer, it releases a crackling boom and casts your Thunderous Word spell on the target. The hammer vanishes in smoke after one hour or when you dismiss it.",action_point_cost:"3"},{class:"Invoker",tree:"Wrath",tree_level:"4",ability_name:"Smite",description:"Speak a word or phrase, condemning a nearby creature that you can see. You engulf the target in radiant flame, hitting it for 10 HP. If the damage dealt is enough to kill the creature, it explodes into ash, and its body and spirit are permanently obliterated. If you destroy a creature with Smite, roll the die. On a 2-20, nothing happens. On a 1, the creature's spirit becomes a dark passenger in your mind. You never know when it may decide to speak to you or observe your behavior.",action_point_cost:"5"},{class:"Invoker",tree:"Wrath",tree_level:"5",ability_name:"Blazing Avenger",description:"You recite a magical statement about your ideal while holding a weapon, imbuing it with incredible power. The weapon gains the following benefits:  It now glows faintly at all times and glows brighter when enemies are nearby.  When holding the weapon, you may cast Fiery Avenger on it at will for no AP cost.  When you roll a 20 when making an attack with the weapon, it casts the Smite spell on your target. You can only cast Blazing Avenger on one weapon at a time; casting it again cancels the previous enchantment.",action_point_cost:"6"},{class:"Invoker",tree:"Wards",tree_level:"1",ability_name:"Shield",description:"You summon a magical shield that appears as an aura of soft light around your body. The shield blocks up to 3 hit points of damage. (Any damage dealt in excess of 3 HP passes through the shield and hits you.) The shield lasts until it takes 3 or more damage in a single hit.",action_point_cost:"1"},{class:"Invoker",tree:"Wards",tree_level:"2",ability_name:"Sigil",description:"You draw a magic sigil on an object. The spell lasts until you cancel it or cast Sigil again. You can only cast the spell if no enemies are currently nearby. Choose a specific creature for the sigil to affect, or a type of creature, like spirits or werewolves. Then draw a circle on a piece of paper at the table. Draw the creature that will be affected by the spell inside of the circle. Choose one of four effects: lure. The sigil attracts creatures to its location, where they linger for a minute. repel. Creatures who come nearby won't move closer to the sigil or may turn back. alert. Receive a signal in your mind when creatures pass by the sigil. message. The sigil telepathically sends a short message of up to 10 words in your language to creatures passing nearby. You may keep your drawing and reuse it later when casting this spell again, and you can choose a new effect each time.",action_point_cost:"2"},{class:"Invoker",tree:"Wards",tree_level:"3",ability_name:"Rebuke",description:"You utter a righteous word or phrase in the direction of a nearby creature that is approaching you during that creature's turn. (The creature cannot already be within reach.) You release a spectral clone of yourself that rushes them, knocks them back several meters, deals 1 damage, and ends their turn. The clone then disappears.",action_point_cost:"1"},{class:"Invoker",tree:"Wards",tree_level:"4",ability_name:"Oblation",description:"You place both hands on a creature, uttering a loving word or phrase. The creature instantly recovers 6 hit points and wakes up if they are unconscious. Or you may choose to cast this spell with no AP cost by transferring your own hit points to the creature. The creature recovers as many hit points as you are willing to give up.",action_point_cost:"3"},{class:"Invoker",tree:"Wards",tree_level:"5",ability_name:"Befizzle",description:"You curse a creature nearby, restricting their use of magic for the next hour. If they try to cast a spell, they will find it impossible. For example, if the spell is spoken, they forget their lines; if the spell requires hand-waving, they find their arms frozen. If you are casting the spell on a boss, you must concentrate on it to maintain the effect; the spell ends if you move or do something else.",action_point_cost:"4"},{class:"Invoker",tree:"Legendary",tree_level:"1",ability_name:"Wraith",description:"You become a wraith: a creature between two worlds. Now, whenever you have 0 HP, you may instantly become ethereal. You appear translucent and ghostly while ethereal, but you are still visible to others. Your ethereal form has a maximum of 0 HP and cannot be healed. You are immune to all physical (non-magical) harm while in this form. However, harmful magic hits you for double HP while ethereal, and taking damage can still kill you. You may revert to your normal form at any time during your turn. But you cannot change forms to avoid taking damage immediately after being hit.",action_point_cost:"0"},{class:"Invoker",tree:"Legendary",tree_level:"1",ability_name:"Sacrifice",description:"You lay your hands on a creature who has died, bringing it back to life. The creature must still have a corpse that is mostly intact. If the creature died of old age, they receive a new maximum lifespan of the Guide's choice. The sacrifice withers your soul. Each time you use this ability, you must choose an additional character flaw. Additionally, you permanently lose 2 HP from your maximum hit points. If you reduce your max HP to 0 by using this ability, you acquire the legendary Wraith ability, and you permanently enter an ethereal form. Using Sacrifice while at 0 maximum HP permanently kills you.",action_point_cost:"0"},{class:"Invoker",tree:"Legendary",tree_level:"1",ability_name:"Prophecy",description:"You delve through time to glimpse an NPC's fate. You may only use this ability once during your entire story, so use it wisely. The choice you make shapes the story for everyone. The prophecy must come true; the Guide is obligated to honor the fate you have chosen at some point in the story. When and how it emerges is up to the Guide. You may keep your choice a secret from the party. Choose one of the following things. It will eventually become true, as you have foreseen. savior. The creature will sacrifice their life to try to save someone or something. betrayer. The creature will betray their allies at a pivotal moment in pursuit of a hidden agenda. leader. The creature will acquire a meaningful amount of power and authority over a people or place. disgraced. The creature will do something so morally ruinous that they become widely known for their misdeed. paragon. The creature will do something so morally good that they become widely known for their righteousness.",action_point_cost:"0"},{class:"Invoker",tree:"Legendary",tree_level:"1",ability_name:"Eternity Gate",description:`Roll the Die. You project yourself past all realities and glimpse a place outside time and space  into The Beyond. Here, you may seek and find a single truth by posing a question to eternity itself. The Guide will give you a fulsome and accurate answer to your question. If you explain why you are asking the question, the Guide will do their best to answer in a way that satisfies what you were trying to discover. For example, if you asked Is my friend still alive in another dimension? the Guide will tell you whether they are alive. If you explain that you asked because you want to reunite with them, the Guide might tell you exactly where they are and how to get there. You must seek fact. You won't find satisfying answers to questions like "What is the meaning of life?" Casting Eternity Gate is a huge risk. 20: You receive your answer and may ask a follow-up question. 11-19: You receive your answer. 6-10: You receive your information and return to your body after one week. Your mind ages by 1 year in the week. 2-5: You fail to receive the information and return to your body after one week. Your mind is wracked from wrong turns in your search. You age by 10 years. Choose an additional character flaw. 1: Your mind is trapped in The Beyond for 100,000 years, where you experience an endless search through a maze of other realities. After enduring this ordeal in The Beyond, your mortal consciousness fundamentally changes when you return to your body after one week. The ideals and flaws of your previous self have washed away during your incomprehensible exile. Choose a new ideal, a new flaw, and a new dream to reflect deep changes in your character's personality.`,action_point_cost:"7"},{class:"Ranger",tree:"Story and Song",tree_level:"1",ability_name:"Commune",description:`You use the language of outland folks, gaining the trust of a nearby commoner. You must invent a local saying to exchange with the NPC; it can be something like "It's raining cats and dogs" or "Don't judge a book by its cover." Explain what it means at the table. Then, if you ask any of these questions, the NPC will answer to the best of their ability.  Is anyone causing trouble?  Where can I find the leader?  What are folks talking about lately?`,action_point_cost:"1"},{class:"Ranger",tree:"Story and Song",tree_level:"2",ability_name:"Folk Song",description:"You sing a song that kindles strong feelings in NPCs nearby. (The song has no effect on hostile creatures.) Read or sing the chorus of a song at the table and describe your performance. You may write your own or use one from another songwriter. Choose a mood to set for your audience: bright. Hearts swell with friendly enthusiasm, sparking joyful conversations. somber. The audience falls silent and begins a sorrowful reflection on their suffering. proud. Zealous feelings are ignited, making the crowd noisy and excitable.",action_point_cost:"2"},{class:"Ranger",tree:"Story and Song",tree_level:"3",ability_name:"Speak Myth",description:'You appeal to a local myth to gain the favor of a commoner. You create the myth using four parts: an obligation, a lesson, a subject, and a story. obligation. Decide how the myth affects your target. Choose one:  They offer you and your allies food, shelter, and secrecy in their home.  They offer you the best reasonable trade on an item they are selling.  They go on a small mission, like fetching an item or delivering a message.  They admit to a recent wrongdoing.  They forgive you for a transgression.  They spread a rumor you create.  An obligation of your choice, as long as it does not harm them. lesson. Using the obligation, say what the lesson of the myth is, like "Give refuge to strangers" or "Always be a fair dealer." subject. Name a central person or event. story. Describe a dramatic situation the person or event is famous for. Perhaps they were a missionary who fed the hungry or it was a great flood that killed many. Share the myth with your friends at the table. You may reuse a myth you have created without describing it in full.',action_point_cost:"3"},{class:"Ranger",tree:"Survivalist",tree_level:"1",ability_name:"Remedy",description:"You scavenge your area for a short time to find a plant-based remedy for an ailment. You find enough for a single dose. The remedy cures temporary illness and eliminates poison.",action_point_cost:"1"},{class:"Ranger",tree:"Survivalist",tree_level:"2",ability_name:"Shroud",description:"You entreat nearby flora to provide the party with protection while camping in wilderness. (There must be plants nearby.) Shrubs and thorny vines will emerge around the campsite to provide concealment. The shroud lasts until you leave the camp. The shroud conceals the light from a small campfire. If hostile creatures advance on the partys campsite, the trees will rustle and howl to provide 5 minutes of early warning. Creatures can pass through the shroud, but they are hit for 1 HP if they push through. When you regroup (p. 14) inside of the Shroud, your party gains the benefit of a rest.",action_point_cost:"3"},{class:"Ranger",tree:"Survivalist",tree_level:"3",ability_name:"Signal",description:"While in wilderness, you create a distress signal that can be seen by other Rangers. Describe how you send your signal: it can be a smoke signal, a message you leave on a tree, or a similar act. Within the next day, you will meet an NPC Ranger who comes to your aid. Out of respect for you as a colleague, they will stay with you until they finish helping you with a request. Your request cannot be unlimited, and they will not stay with you forever. The NPC Ranger has 10 hit points, and comes with equipment of the Guide's choice. You can ask them to do things, but they are an independent character who will ultimately act according to their own interests and ideals.",action_point_cost:"4"},{class:"Ranger",tree:"Survivalist",tree_level:"4",ability_name:"Ritual",description:"You scavenge your area for a short time to find a single dose of a magic edible. (There must be plants in the area.) When you ingest the edible, you embark on an inner journey over the next hour for supernatural insight. You may learn the truth about one of the following things:  The safest or fastest way to get somewhere.  A place where your Nemesis (p. 54) visited within the past day.  Whether you are in a real place or if your reality is some kind of deception.  Whether an ally is keeping a secret from you. (You learn who they are, but not what the secret is.) If an Invoker invites you along when using their Invoke ability (p. 42), you may use Ritual to join them on their journey to an astral plane. The same rules of the Invoke ability apply to you when joining the Invoker.",action_point_cost:"4"},{class:"Ranger",tree:"Pathfinder",tree_level:"1",ability_name:"Read the Winds",description:"0 You concentrate on the language of wind, sensing weather patterns in your region of the world. You are able to glimpse a weather forecast for the next few days in your region of the world. 2 If you spend 2 AP on this ability, you may choose the weather that you foresee in your region over the next few days, as long as it is seasonally appropriate. You might choose light rain, a thunderstorm, fog, a heat wave, or any other weather pattern, except for natural disasters like tornadoes or hurricanes.",action_point_cost:"0,2"},{class:"Ranger",tree:"Pathfinder",tree_level:"2",ability_name:"Navigate",description:"0 You feel the land in your bones. You cannot get lost in wilderness unless magic is inhibiting you. 1 You navigate your party to one of the following areas when traveling in wilderness: oasis. You find a reprieve that has a small amount of nourishment. shelter. You find a natural cave that offers shelter from harsh weather. ruins. You find minor ruins, like an abandoned keep or a withered statue. nest. You find the home of an animal or group of animals, like an otter's den. ",action_point_cost:"0,1"},{class:"Ranger",tree:"Pathfinder",tree_level:"3",ability_name:"Delve",description:"You make a sound that travels throughout an underground structure, like a natural cave system or dungeon. (You can clap, make an animal noise, or anything else that might echo.) You sense the general layout of the next three areas connected to yours, plus the layout of any passageways between these areas. The Guide will draw you a rudimentary map, noting any major features, like columns, bridges, or crevasses.You make a sound that travels throughout an underground structure, like a natural cave system or dungeon. (You can clap, make an animal noise, or anything else that might echo.) You sense the general layout of the next three areas connected to yours, plus the layout of any passageways between these areas. The Guide will draw you a rudimentary map, noting any major features, like columns, bridges, or crevasses.",action_point_cost:"2"},{class:"Ranger",tree:"Pathfinder",tree_level:"4",ability_name:"Speak with Trees",description:"You touch a tree trunk, connecting yourself to the trees of a contiguous forest. 2 seek. You ask the tree to search the forest. For example, you may ask to locate a specific creature, an object laying somewhere, or a location, like a cave or building. The tree will commune with its friends and then tell you where it is, how to get there, and how long it will take. 2 warn. You ask the tree to watch over the party. Until you leave the forest, trees will begin to sway and rustle if you approach a trap or a dangerous creature. The rustling increases as you draw nearer to danger.",action_point_cost:"2"},{class:"Ranger",tree:"Hunter",tree_level:"1",ability_name:"Track",description:"0 When you find tracks, you can instantly identify the type of creature that left them. If it is an animal, the Guide will share a fact that you know about them, like their habits or personality traits. 1 You can pick up on the trail of an animal of your choice even if there are no tracks nearby, as long as it is native to the environment you're currently in. You must choose a type of animal to find, like a boar or a squirrel. (You can't use this to find a specific creature.) You find the creature after a short search.",action_point_cost:"0,1"},{class:"Ranger",tree:"Hunter",tree_level:"2",ability_name:"Farshot",description:"1 You briefly sharpen your senses, surpassing your normal limits. You can make a ranged attack on a faraway target that you can see, even if it is out of range.",action_point_cost:"1"},{class:"Ranger",tree:"Hunter",tree_level:"3",ability_name:"Deadeye",description:"0 Whenever you roll a 20 with a ranged weapon, you can name a specific limb on a creature to hit with your projectile. The limb becomes disabled and cannot be used until it is restored by a healer. 3 You take aim and focus your senses, automatically scoring a triumph with a ranged weapon on a nearby creature or object that you target. The hit disables the targeted limb.",action_point_cost:"0,3"},{class:"Ranger",tree:"Hunter",tree_level:"4",ability_name:"Stalk",description:"0 You and your party can carefully stalk tracked prey without it noticing you, as long as you try to be quiet. Describe the formation of you and/or your party as you go on the hunt. 2 When you discover the creature or creatures you were tracking, you can ambush them, even if they were preparing to ambush you. Your party takes the first round, and you get an extra turn.",action_point_cost:"0,2"},{class:"Ranger",tree:"Hunter",tree_level:"5",ability_name:"Nemesis",description:"4 Choose a specific creature you have met before. You mark them as your nemesis. You may only have one nemesis at a time, and you may freely remove the mark at any time. Your predatory senses allow you to detect whenever your nemesis is present in your scene, even if they are hidden. You feel a tingle in the temples of your forehead when your nemesis is nearby. You gain these additional benefits when fighting your nemesis:  They cannot surprise you by ambush.  You may use your Farshot ability against them at will for no AP cost.  When they are nearby, you can sense their location well enough to strike them with physical attacks, even if they are concealed or invisible.",action_point_cost:"4"},{class:"Ranger",tree:"Friend",tree_level:"1",ability_name:"Speak with Animal",description:"1 You touch an animal that is not currently hostile toward you, forming a telepathic bond with it for the next minute. You are capable of interpreting the animal's thoughts and feelings, and you can have an exchange of communication with it. It can give basic information about things, like how it feels, what it has seen, and what it wants, but it does not understand complex ideas.",action_point_cost:"1"},{class:"Ranger",tree:"Friend",tree_level:"2",ability_name:"Animal Partner",description:"4 You recruit a nearby animal companion who will follow your orders to the best of its ability. It can't be smaller than a mouse or bigger than a horse. You may only have one partner at a time. The animal is an NPC played by the Guide that acts in addition to you during your turn. It won't willingly leave your area, and if you are separated, it will try to find you. It cannot speak to you, but it can vaguely sense your mood and intentions.Your animal partner has 6 HP and can make basic attacks for 2 damage.",action_point_cost:"4"},{class:"Ranger",tree:"Friend",tree_level:"3",ability_name:"Courier",description:"1 You find a friendly animal nearby and whisper to it, giving it instructions to deliver an item. The item must be small and light enough for the animal to reasonably carry. You can have the animal deliver the item to a place or a specific person. The destination must be within a day's travel time.",action_point_cost:"1"},{class:"Ranger",tree:"Friend",tree_level:"4",ability_name:"Pair Bond",description:"2 You develop a unique telepathic bond with your animal partner that lasts until you recruit a new one. You now passively experience your partner's senses; you catch glimpses of what they see, hear, and feel. You also feel a shadow of pain whenever they are harmed. At any time, you may enter a trance to leave your own body and take control of your partner. You remain dimly aware of what's happening around your own body. While in the trance, you may control your partner as if they were yourself, though you cannot speak. You may exit the trance at any time.",action_point_cost:"2"},{class:"Ranger",tree:"Friend",tree_level:"5",ability_name:"Whisper on the Wind",description:"4 You whisper a message carried by the wind in all directions. You must have a clear sight line to the sky for the spell to work. The message summons a flying animal to your location. You can petition any kind of flying animal, like a raven or a griffin. The animal arrives one hour later. As long as you are friendly to it, the animal will obey your commands for the next day. For example, you can have it deliver messages, give you a ride, or cause distractions. The animal will not attack enemies unless it is attacked first.",action_point_cost:"4"},{class:"Ranger",tree:"Legendary",tree_level:"1",ability_name:"Wild Celebrity",description:"Your presence is now respected by wild creatures everywhere. Wild animals, except bosses, will no longer attack you unless you harm them. (Trained animals and pets can still be commanded to harm you.) You may now use the Speak With Animal (p. 55) and Speak with Trees (p. 53) abilities for no AP cost if you have already learned them. Your Animal Partner ability (p. 55) now recruits a more powerful animal. Your partner has 10 HP, can hit for 2 HP, and attack twice per turn. If you have an existing animal partner, it is upgraded to these stats. 6 You send a call while in wilderness to recruit a small army of animals. They stay with you for the next day. You can choose any combination of wild animals as long as they are native to the area. You may command them, and they all act together during your turn. The group is treated like a single creature with 20 hit points, and they collectively hit for 6 HP, distributed among up to 6 targets.",action_point_cost:"6"},{class:"Ranger",tree:"Legendary",tree_level:"1",ability_name:"Slayer",description:"4 Your experience as a Ranger has taught you to deal with overwhelming odds. Once per scene, you may devastate a group of minions in an impressive acrobatic fashion. You instantly kill half of all nearby minions, rounding up",action_point_cost:"4"},{class:"Ranger",tree:"Legendary",tree_level:"1",ability_name:"Friend of the Land",description:"You become the friend of a wilderness region that has meaning to you, like a forest or a valley. The region cannot already be under the control of a boss. You are known to all living things in this area as its ally. You may now use the Shroud (p. 52), Speak with Trees (p. 53), Navigate (p. 53), Track (p. 54), and Speak With Animal (p. 55) abilities within your chosen land for no AP cost, if you have already learned them. When you become the Friend of the Land, a group of volunteer creatures living in your chosen land will create a natural fort for you in a location of your choice. It takes one week to create. It should resemble in spirit something animals might create, like a giant ant hill, a meerkat manor, a nest in the trees, or a beaver's dam. It has up to 20 rooms, including a kitchen, a great hall, and an armory. The keep is watched over full-time by allied animal sentries who will notify you of intruders or guests. Additionally, a small staff of volunteer animals will routinely forage for you, making sure the keep is stocked with vegetables, fruits, and other natural foods from the area that they can collect. They will occasionally invite you to play with them.",action_point_cost:"0"},{class:"Naturalist",tree:"Shapeshifter",tree_level:"1",ability_name:"Animal Form",description:"2 You take the form of a wild animal, adopting its shape, senses, and range of motion. You may choose any creature that is no smaller than a mouse and no larger than a horse. Everything you carry becomes part of your animal form. While in animal form, you have 6 HP. You may make basic attacks that hit for 2 HP. You can't cast spells, use items, or speak languages while transformed. You can return to your normal form at any time. When transforming back, you regain the hit points you had before you transformed. Falling to 0 hit points while transformed instantly returns you to your normal form.",action_point_cost:"2"},{class:"Naturalist",tree:"Shapeshifter",tree_level:"2",ability_name:"Gills",description:"1 You enchant a small amount of water in a container that you are holding. When you spritz the water on a creature, they grow small but visible gills, allowing them to breathe underwater for up to 1 hour. This spell enchants enough water to use 6 times.",action_point_cost:"1"},{class:"Naturalist",tree:"Shapeshifter",tree_level:"3",ability_name:"Steelsprout",description:"2 You extend your hand and close your eyes, permanently turning a nearby metal object into a weave of delicate plants. (The object cannot have magical properties or be larger than a door.) Describe the plants that the object turns into.",action_point_cost:"2"},{class:"Naturalist",tree:"Shapeshifter",tree_level:"4",ability_name:"Petrify",description:"2 You turn the surface of a nearby commoner or minion to stone for the next minute. The target cannot move, see, hear, or speak during this time. The creature has 50 hit points while petrified. If its hit points are reduced to 0 during the spell, it shatters to pieces and dies. 2 You encase your armor or clothing with a chitinous shell. The shell absorbs up to 10 hit points of damage. If you were hit by a nonmagical weapon, the weapon shatters to pieces. The carapace crumbles away immediately after it takes damage. You may cast this spell as a reaction to an incoming attack during another creature's turn.",action_point_cost:"2,2"},{class:"Naturalist",tree:"Shapeshifter",tree_level:"5",ability_name:"Shapeshift",description:"3 This is a master version of your Animal Form spell (p. 58). The rules are the same, except for these differences:  You can choose a creature no smaller than a housefly and no larger than an elephant.  You have 10 HP in animal form.  Your animal form attacks hit for 3 HP.  You can send messages telepathically to members of the party.",action_point_cost:"3"},{class:"Naturalist",tree:"Summoner",tree_level:"1",ability_name:"Thorn",description:"roll the die. You open your palm, conjuring a poisonous thorn that you shoot in a straight line toward a nearby target creature or object. The thorn hits for 2 HP. 20: The thorn's poison is amplified. If you hit an organic creature, its skin becomes swollen, it cannot see beyond its reach, and it can't speak or cast spells until the end of its next turn.",action_point_cost:"0"},{class:"Naturalist",tree:"Summoner",tree_level:"2",ability_name:"Wild Font",description:"1 You touch a container holding food, water, or oil. For the next minute, the container summons a surplus of its contents, spilling the excess material out generously. For example, if you touch a pitcher of water, it will overflow and cover the floor. Or if you touch a sack of grain, it will burst open, creating a large pile.",action_point_cost:"1"},{class:"Naturalist",tree:"Summoner",tree_level:"3",ability_name:"Evening Star",description:"2 You summon a wisp of light high in the sky directly above you. (You must be outdoors to cast this spell.) For the next hour, the wisp sheds light on a huge area, allowing you to see far in the distance. It matches your movement such that it is always located above you. The area the light touches looks as if it were lit by daylight.",action_point_cost:"2"},{class:"Naturalist",tree:"Summoner",tree_level:"4",ability_name:"Aurora",description:"5 Your eyes glitter like dancing wisps as you conjure a dazzling prismatic aurora above you in the sky. The aurora is visible to creatures up to a kilometer away and lasts for the next 10 minutes. commoners. Any common folk who can see the aurora are dazzled and stop what they are doing to stare at it. minions. Minions are also dazzled by the spell and stop what they are doing to stare at it. Hitting a minion frees them from the spell's effects. bosses. The Guide must roll the die. On a 2-10, bosses are dazzled and must choose between moving and acting during their turn. On a 1, they are stunned in place until the spell ends or if they are hit.",action_point_cost:"5"},{class:"Naturalist",tree:"Summoner",tree_level:"5",ability_name:"Echoes of Creation",description:"6 You hum a reverberating melody, summoning a coterie of magical wisps from the ages of creation. The wisps were powerful beings of light who once roamed the omniverse. Now, like dying stars, these ethereal remnants are burning the last of their energy. They are no longer sentient, but seem to sense the world around them. For the next minute, the wisps float about the area, restoring the hit points of all creatures and animating new plant life. Every creature in the scene stops what they are doing while the wisps are present and remain still with awe until they fade to the beyond.",action_point_cost:"6"},{class:"Naturalist",tree:"Elementalist",tree_level:"1",ability_name:"Freeze",description:"0 You blow cool air, creating freezing winds that swirl around a nearby creature or object. Affected creatures feel a deep chill in their bones and are hit for 1 HP. You can use the spell to snuff out small fires. 2 You freeze a nearby commoner, minion, or object, encasing it in ice until you leave the scene. If you freeze a creature, it cannot move or act. The ice shatters, and the creature is freed if it takes any additional damage.",action_point_cost:"0,2"},{class:"Naturalist",tree:"Elementalist",tree_level:"2",ability_name:"Burn",description:"0 You blow hot air, creating scorching winds that swirl around a nearby creature or object. The heat is enough to make the creatures very uncomfortable but not enough to harm them. 1 You overcharge the spell and ignite the target in flame instead, hitting it for 2 damage and setting it ablaze.",action_point_cost:"0,1"},{class:"Naturalist",tree:"Elementalist",tree_level:"3",ability_name:"Shock",description:"4 Choose a target creature or object you can see. A bolt of lightning strikes it from the sky or from your hands, dealing 8 damage and creating a deafening blast of thunder. If the creature has metal connected to their body, it becomes molten, hitting them for an extra 2 HP.",action_point_cost:"4"},{class:"Naturalist",tree:"Elementalist",tree_level:"4",ability_name:"Fireball",description:"roll the die. You shape an orb of fire suspended in the air in front of you and send it streaking in a straight line toward a target you can see. The fireball explodes on contact, dealing 6 damage to any creatures and objects it hits. You can shape the spell to avoid allies or creatures you do not want to harm. 20: The explosion hits all creatures near the point of impact for double damage. 11-19: The explosion hits up to 4 creatures near the point of impact. 6-10: Choose one: the explosion hits you and up to 4 creatures near impact, or the fireball fizzles into a cloud of smoke. 2-5: The fireball misses and hits random targets of the Guide's choice. 1: It explodes in your face, hitting you and up to 3 nearby creatures.",action_point_cost:"5"},{class:"Naturalist",tree:"Stormcaller",tree_level:"1",ability_name:"Cloudcall",description:"1 You swirl your hands in the air, producing a thick fog centered on you. The fog rolls out rapidly, spilling around corners and down slopes. Within a few seconds, you blanket everything nearby in fog. Creatures inside the fog cannot see beyond their reach, preventing them from making ranged attacks. The fog disperses after you leave the area, or if the area is hit by strong winds.",action_point_cost:"1"},{class:"Naturalist",tree:"Stormcaller",tree_level:"2",ability_name:"Vortex",description:"2 You create a howling vortex within a body of liquid that you can see. The vortex lasts until you leave the area. Any creatures touching the vortex are violently sucked in, submerged, and then spit out, each taking 2 damage.",action_point_cost:"2"},{class:"Naturalist",tree:"Stormcaller",tree_level:"3",ability_name:"Gale",description:"3 You close your eyes and stir the air, shaping the winds around you. A gale forms that you can spread across an area of any size and shape in your scene, as long as you can see its area of effect. Inside the area of effect, wind blows at ferocious speeds, kicking up dust and sending small objects flying. Creatures inside can't see far away, only what's nearby. When you begin the spell, the gust knocks creatures to the ground and sends them tumbling backward until they leave the area of effect. Creatures outside of the gust cannot enter it unless they are larger than the area of effect.",action_point_cost:"3"},{class:"Naturalist",tree:"Stormcaller",tree_level:"4",ability_name:"Riverfury",description:"4 You whisper a magical incantation to a flowing river within range. The river gathers a surge of strength upstream. A torrent of water arrives at your location in the path of the river 15 seconds later. All creatures caught in the torrent are swept downstream and deposited on shore far away, beyond where you can see.",action_point_cost:"4"},{class:"Naturalist",tree:"Stormcaller",tree_level:"5",ability_name:"Stormcall",description:"2 You produce a circle of dark, electrically charged clouds somewhere you can see in the sky. The storm lasts until you leave the scene. While the storm is active, you may call upon it to produce these effects: 1 You cause a downpour. 1 A deafening crack of thunder shakes the ground. All creatures under the storm cannot hear anything beyond their reach until the end of the scene. 3 If you have learned the Shock ability, you may use it for 3 AP. x A bolt of chain lightning rips through NPCs you can see, hitting them each for 4 HP. Spend 1 AP per target.",action_point_cost:"2,1,1,3,X"},{class:"Naturalist",tree:"Spiritcaller",tree_level:"1",ability_name:"Wild Aspect",description:"1 eagle. You gain eagle-eye vision for the next minute. You can see anything in your line of sight clearly, even if it is far away, and you can detect faraway movement that would be imperceptible to a normal person. 2 cat. You purr softly under your breath, imbuing up to 6 nearby creatures with the spirit of the cat. For the next hour, affected creatures gain the ability to see things nearby in complete darkness as if they were in a dimly lit room. The effect cannot pierce magical darkness. Affected creatures may occasionally feel the urge to stop what they are doing and clean themselves. 2 wolf. You howl, imbuing up to 6 nearby creatures with haste. (Howl at the table.) For the next hour, creatures affected by the spell can outrun any other creatures while traveling by foot.",action_point_cost:"1,2,2"},{class:"Naturalist",tree:"Spiritcaller",tree_level:"2",ability_name:"Prey Sense",description:"1 You sharpen your sense of danger for the next hour. You feel a subtle signal in your body whenever you will imminently be threatened by another creature. (The hair on your skin might raise, or you might feel a tingling in your bones.) This includes creatures that you can't see. If you detect a creature this way, your party cannot be ambushed. (If you detect a creature trying to attack you, your party gets the first round in combat.)",action_point_cost:"1"},{class:"Naturalist",tree:"Spiritcaller",tree_level:"3",ability_name:"Nature's Watch",description:"3 You extend your senses for the next hour. Choose two effects each time you use this ability: aurasight. Detect a faint outline around anything that is currently affected by a spell. infrasight. Detect objects nearby whose relative heat makes them stand out, like creatures with warm bodies. This works through walls. darksight. See in darkness nearby as if it were dimly lit. mirrorsight. See around corners inside of enclosed spaces, like buildings. You must be within reach of the corner. (For example, you can see around the bend of a hallway.) realsight. Detect whether something is an illusion. Illusions you detect with this spell appear to flicker.",action_point_cost:"3"},{class:"Naturalist",tree:"Ecologist",tree_level:"1",ability_name:"Command Nature",description:'0 You whisper a rhyming couplet to the living plants around you. You can write your own or borrow one from another author. Use one that plants might appreciate, like "Hear my voice ring, and welcome the spring." Your brief poem entreats the plants to produce a harmless effect by moving or growing slightly. The things you want to manipulate must be within range. You may make trees rustle, cause leaves to fall, get plants to bloom, vines to expand, and seeds to sprout. 1 If you can explain how, you can have the effect deal 2 HP of damage to a nearby target. For example, you might have vines grow thorns and lash a creature, or have a tree shake its acorns on their head violently.',action_point_cost:"0,1"},{class:"Naturalist",tree:"Ecologist",tree_level:"2",ability_name:"Memories of Stone",description:"3 If you encounter a stone monument, like a mountain, canyon, or statue, you may touch it to channel its ancient wisdom. You must tell the stone a story about your family  perhaps a memory of a gathering, like a holiday. Give this story at the table. The monument reciprocates your offering by sharing its wisdom.  You sense whether this world is real and natural, or some kind of machination.  You sense whether there are any long-lost monuments beneath the surface, like hidden temples or ancient vaults.  You vaguely sense the most powerful lost artifact in this world and the region where it might be located.",action_point_cost:"3"},{class:"Naturalist",tree:"Ecologist",tree_level:"3",ability_name:"Shift Season",description:"4 You manipulate the elements to change the current season everywhere within 1 kilometer of your location. You can choose any season for the world you inhabit, and the effect lasts for the next day. The spell takes a minute to cast; the effect emanates rapidly from your location. The weather inside the zone will be unpredictable, but typical of the season you choose. For example, if you turn a hot season to a cold one, you may bring snow. 20: You choose the season and may also choose the weather inside the area (excluding natural disasters like hurricanes). The effect lasts for one month. 11-19: You choose the season and the weather (excluding disasters). 6-10: You choose the season. 2-5: The Guide chooses the season, and a storm begins to affect the region that makes travel more difficult. 1: You accidentally cause a natural disaster to form. The Guide chooses the disaster.",action_point_cost:"4"},{class:"Naturalist",tree:"Legendary",tree_level:"1",ability_name:"Nature's Wrath",description:"7 You channel elemental fury. You create a storm centered on you with a radius of 1 kilometer. It lasts as long as you wish to channel it, but you take 1 HP of damage for each turn you spend maintaining the spell. You may choose the size of the storm eye, which is safe inside. Choose the nature of the disaster each time you cast this spell: lightning. Electricity streaks through the storm, arcing through conductive objects and lashing any NPCs caught in it. Each NPC caught in the storm is hit for 2 HP during each turn you cast the spell. blizzard. Water condenses in the storm field, turning into apple-sized balls of hail. The air temperature in the storm field is freezing. NPCs in the storm field are hit for 1 HP during each turn you maintain the spell. Creatures cannot see beyond their reach in the howling whirl of ice. hurricane. Sustained winds of terrifying force whip through the storm field. Weak buildings are completely destroyed, all windows are shattered, many roofs will cave in, and trees may be uprooted. Most unsecured objects are picked up by the storm and sent flying far away. Any NPCs caught in the storm field are blown around, can't move, and are hit for 4 HP for each turn you cast the spell.",action_point_cost:"7"},{class:"Naturalist",tree:"Legendary",tree_level:"1",ability_name:"Wild Evolution",description:"Your physical essence becomes permanently intertwined with that of a chosen animals form. The animal can be no smaller than a mouse and no larger than an elephant. You may only choose this form once. You may morph back and forth between your original form and your chosen form at will. When you change between forms, you maintain your current hit points. You adopt the animal's natural capabilities while you are transformed. For example, if you transform into an eagle, you may fly. Your basic attacks in animal form hit for 3 damage. You may now cast spells in animal form and speak telepathically to your allies. You can still use the Animal Form and Shapeshift abilities (p. 58), and the rules for those abilities still function as usual.",action_point_cost:"0"},{class:"Naturalist",tree:"Legendary",tree_level:"1",ability_name:"To Dust",description:"3 You return a crafted object to nature, instantly reducing it to dust. The object must be small enough to fit inside a 10x10-meter cube. The transformation is permanent and cannot be reversed.",action_point_cost:"3"},{class:"Naturalist",tree:"Legendary",tree_level:"1",ability_name:"World Wish",description:"You become the seed for a new world. Casting this spell consumes your life forever; you can never be brought back. Your entire knowledge of nature manifests in the spell. When you cast it, your body dissipates in radiant light, becoming a cascading wave of energy that transforms the planet you are on. The wave of energy first alters the atmosphere, making it capable of supporting life if it is not already suitable. Then, a blooming cascade of living flora emanates from your location, rapidly growing and overtaking the planets surface. The bloom radiates outward from your location until the entire planet is transformed. The spell forms oceans and rivers if they do not already exist. If you choose at the time of casting, the spell disintegrates any constructed objects, like buildings or infrastructure, returning the land to nature. Any objects that are destroyed in this way are done so gracefully, such that existing living things, like people and animals, are lowered to the ground unharmed. This is a permanent transformation that cannot be stopped, interrupted, or reversed by countermagic.",action_point_cost:"0"},{class:"Doctor",tree:"Healing",tree_level:"1",ability_name:"Mend",description:"1 You gently touch a creature, immediately restoring 5 HP and mending minor wounds like cuts and bruises. The spell does not remove impairments, heal permanent wounds, or cure disease. You cannot use this spell during combat.",action_point_cost:"1"},{class:"Doctor",tree:"Healing",tree_level:"2",ability_name:"Relieve",description:"1 You say something comforting to a nearby creature, alleviating them of anxiety, pain, and discomfort for one hour. In this state, the creature cannot be affected by fear or confusion. For a brief time, they feel better than they have ever felt before.",action_point_cost:"1"},{class:"Doctor",tree:"Healing",tree_level:"3",ability_name:"Heal",description:"2 You embrace a creature with a caring touch, restoring all of their hit points. After a short time, the creature is relieved of any short-term impairments. The spell does not remove permanent conditions. If you are using Heal on another member of the party, they may contribute any amount of their own AP to help pay for the spell.",action_point_cost:"2"},{class:"Doctor",tree:"Healing",tree_level:"4",ability_name:"Restore",description:"7 You touch a living creature, completely restoring them to their normal state over the next few minutes. (You cannot cast this spell while in combat.) The spell restores all hit points and removes any harm or damage. If you are using Restore on another member of the party, they may contribute any amount of their own AP to help pay for the spell.",action_point_cost:"7"},{class:"Doctor",tree:"Alteration",tree_level:"1",ability_name:"Sleep",description:"2 You whisper a brief lullaby, putting any number of nearby commoners to sleep for up to one hour. You can write your own lullaby or borrow one from another author. Read it at the table. Creatures affected by the spell collapse and enter a dreamful state, but wake up immediately if they are harmed. x You can intensify the spell to affect nearby minions. Add 1 AP for each minion you wish to put to sleep",action_point_cost:"2,X"},{class:"Doctor",tree:"Alteration",tree_level:"2",ability_name:"Calcify",description:"1 You touch a creature within range, causing its surface to swell and harden. During this time, they feel numb to external pain. Their hardened shell absorbs up to 2 HP from physical hits. Any damage dealt in excess of 2 HP hits the creature normally. The creature's skin returns to normal after 1 minute.",action_point_cost:"1"},{class:"Doctor",tree:"Alteration",tree_level:"3",ability_name:"Feign Death",description:"3 You place up to six nearby creatures in suspended animation for up to an hour. (You may only cast the spell on yourself or willing allies.) Creatures in this state cannot see, feel, speak, or move, but they remain semiconscious and can hear what is happening around them. Affected creatures become cold to the touch, and their pulse is undetectable, appearing to be dead to onlookers. Only magic can reveal the ruse. Affected creatures wake immediately if they are harmed and may choose to wake at any time.",action_point_cost:"3"},{class:"Doctor",tree:"Alteration",tree_level:"4",ability_name:"Reshape",description:"4 You touch a creature, reshaping their facial appearance. You can make them look older, younger, or like a completely different person. If you are making them look like a specific person, you must be able to see a reference of their face while you are casting the spell. The transformation is permanent and can only be reversed with the Restore spell or by casting Reshape again.",action_point_cost:"4"},{class:"Doctor",tree:"Alteration",tree_level:"5",ability_name:"Lifelink",description:"4 You entwine the life-force of two nearby creatures. Choose one effect each time you use this ability: two-way link: When either of the linked creatures is dealt damage, the damage is also dealt to the other creature. This does not include damage that hits the creatures simultaneously (like an areaof-effect spell). one-way link: Choose one of the linked creatures. Any time damage is dealt to this creature, it is also dealt to the other. leyline: When either of the linked creatures is healed, the other creature receives the same amount of healing.",action_point_cost:"4"},{class:"Doctor",tree:"Necromancy",tree_level:"1",ability_name:"Deathsense",description:"0 You naturally sense whether any remnants of the dead (spirit creatures) are nearby, but not their positions. The Guide will notify you when this sense is triggered. 1 You sense whether any sentient creatures have died nearby and how long ago they died. You can sense the location where any creatures died, as well as the general nature of their death; you sense if they were killed by natural causes, an accident, or foul play. 1 You extend your vision, allowing you to see spirit creatures who are invisible. This effect lasts until you leave the area.",action_point_cost:"0,1,1"},{class:"Doctor",tree:"Necromancy",tree_level:"2",ability_name:"Commune With The Dead",description:"1 If you are aware of one or more spectral creatures nearby (like ghosts), you may communicate with them. You do not need to be able to see a spirit as long as you have sensed its presence, like with the Deathsense spell. You may have a conversation with the spirits for up to a minute, and you communicate with them telepathically. You must share a language to understand each other. Spirits must want to respond; if they choose not to speak to you, your adventure point is refunded.",action_point_cost:"1"},{class:"Doctor",tree:"Necromancy",tree_level:"3",ability_name:"Reanimate",description:"1 You animate a nearby corpse or skeleton, making it your thrall. It can move around, but it cannot leave your scene. The spell ends when you leave the scene. You control the creature telepathically. It is not conscious, and it only follows your commands. The creature has 3 HP and can attack for 1 HP.",action_point_cost:"1"},{class:"Doctor",tree:"Necromancy",tree_level:"4",ability_name:"Reinstate the Dead",description:"You touch a living creature and make it the host for a nearby spirit. Choose one: 5 dark passenger. You merge the creatures. The spirit creature becomes a permanent passenger in the living host's mind. The passenger can't control the body, but it can experience its senses and talk to the host telepathically. 7 steal host. The host creature's consciousness fades away. The spirit inhabits and takes full control of the host's body. Fragments of the host creature's memory remain and will occasionally arise in thought. (This can only be used on bosses if they have less than 20 percent of their total HP remaining.)",action_point_cost:"5,7"},{class:"Doctor",tree:"Harm",tree_level:"1",ability_name:"Corrupt",description:"0 You grip an organic creature within reach and create a necrotizing wound. The wound turns flesh blackgreen and branches out from where you touched them. The spell hits for 1 HP immediately, and again at the beginning of the target's next turn. (A total of 2 damage.) Affected creatures can only recover these hit points with the Restore spell (p. 67).",action_point_cost:"0"},{class:"Doctor",tree:"Harm",tree_level:"2",ability_name:"Nox",description:"1 You touch a creature, giving them a combination of effects for the next hour. You may choose up to three effects from this list: Wakefulness, alertness, increased confidence, euphoria, laughter, vivid sensations, relaxedness, sweating, nausea, chills, or irritability.",action_point_cost:"1"},{class:"Doctor",tree:"Harm",tree_level:"3",ability_name:"Afflict",description:"roll the die. You touch a creature, cursing them with an affliction that lasts up to 1 month. Choose a symptom each time you use this ability: the sillies. The creature acts completely out-of-character in a silly and carefree way. This may change their goals. clumsy. The creature's extremities feel awkward to use. They are unable to wield weapons effectively and they drop things constantly. blighted. The creature can't recover HP. If you roll a failure, the affliction becomes contagious, rapidly spreading to any creature that touches your target. On a catastrophe, you also become afflicted.",action_point_cost:"3"},{class:"Doctor",tree:"Harm",tree_level:"4",ability_name:"Wither",description:"4 You touch a creature and cause their body to wither. Their lifespan does not change, but they experience some of the effects of advanced age. They begin to feel as if death is approaching on the horizon  a condition that may change the creature's behavior and goals.",action_point_cost:"4"},{class:"Doctor",tree:"Harm",tree_level:"5",ability_name:"Heartkill",description:"6 You touch a commoner or minion and curse their heart. (This spell only works on creatures with a heart.) You may choose to instantly cause their heart to explode, killing them. Or you may turn their heart into a time bomb that explodes after a delay of up to 1 year. If you use this spell on a boss, it acts like a tripwire. If the boss is reduced to 20 percent or less of its maximum hit points while cursed, its heart explodes and it dies instantly",action_point_cost:"6"},{class:"Doctor",tree:"Perception",tree_level:"1",ability_name:"Modulate",description:"1 You alter the nature and intensity of a nearby creature's physical sensations for up to 1 hour. Choose one effect each time you use this spell: temperature. The creature feels a relaxing sensation of inner warmth or a cool external breeze. Or you can make them feel too hot or too cold. nourishment. The creature either sees food and drink as revolting, feels an insatiable hunger and thirst, or feels perfectly fed and hydrated. comfort. The creature either feels relaxed wherever they sit or lay, or they cannot find comfort however they arrange their body",action_point_cost:"1"},{class:"Doctor",tree:"Perception",tree_level:"2",ability_name:"Shape Senses",description:"1 You touch a creature and manipulate their perception of color. For instance, you may make a target creature see green as purple. Or you may combine multiple colors, perhaps making the target see yellow and green as blue. You can also cause the target to see oversaturated colors, undersaturated colors, or give them monochromatic vision. You can choose any number of changes and combinations as long as they do not overlap. 2 You touch a commoner or minion, transporting one of their senses to a random part of the omniverse for the next day. You may choose to transport a single sense: feeling, sight, hearing, smell, or taste. The creature will experience its new surroundings as if they were actually there.",action_point_cost:"1,2"},{class:"Doctor",tree:"Perception",tree_level:"3",ability_name:"False Sense",description:"3 You touch a creature, causing it to perceive a specific thing or a category of things falsely. For example, you might have them see the town mayor as a clown or all wolves as puppies. Or you might have them think that freshly baked bread smells like fire. The spell lasts until you cancel it or until the creature is harmed by the effects of the deception.",action_point_cost:"3"},{class:"Doctor",tree:"Perception",tree_level:"4",ability_name:"Forget",description:"4 You touch a creature, erasing its memory by up to 1 month in the past from the present day. This ability only works on sleeping creatures. x You may extend the memory loss by spending additional AP on the spell. Each AP you spend increases the effect by up to 1 additional year.",action_point_cost:"4,x"},{class:"Doctor",tree:"Examination",tree_level:"1",ability_name:"Examine the Dead",description:"1 You evaluate a corpse within reach. The corpse must be intact enough for you to look at it. (It cannot be completely obliterated.) After a minute of inspection, you are able to determine the creatures exact cause of death. You are also able to determine the time and date of its death.",action_point_cost:"1"},{class:"Doctor",tree:"Examination",tree_level:"2",ability_name:"Diagnose",description:"roll the die 0 You touch a creature, extending your senses to diagnose a mysterious affliction, like a disease, spell, or curse. You must correctly guess the entire name of the affliction. If your guess is wrong, the spell fails and you must spend 1 AP to try again. The Guide will give you blanks to fill in that show how many words are in the name and how many letters are in each word. You may start by guessing letters that appear in the name. If you guess a letter correctly, the Guide will reveal everywhere that letter appears in the name. If you guess incorrectly 6 times, the spell fails. 20: The Guide fills in half of the letters in the name. 11-19: The Guide fills in one vowel and two consonants. 1-10: The Guide fills in one consonant. Once you have diagnosed an affliction, you can automatically identify it in the future by touching a creature.",action_point_cost:"0"},{class:"Doctor",tree:"Examination",tree_level:"3",ability_name:"Curious Case",description:'3 If your scene contains something overtly suspicious, like a dead body or blood on the walls, you may investigate by considering things that seem familiar to you. You must pontificate about your past experience at the table to explain what is familiar to you. Choose three details you already know about your scene. If you need more detail, ask the Guide what you sense. You can then begin your short speech by saying something like, "This reminds me of the curious case of _________________________." Explain where you have seen the details in your scene before. When you are finished, the Guide will reveal a useful clue about your scene to you. The Guide will choose one of these clues:  The motive of the perpetrator who was involved in the scene.  The nearby location of a hidden message, symbol, or other detail that reveals the name or affiliation of someone who was involved in the scene.  Where someone who was involved in the scene might be headed next.',action_point_cost:"3"},{class:"Doctor",tree:"Legendary",tree_level:"1",ability_name:"Genesis Command",description:"6 You touch a creature, reversing or accelerating its development to a stage of life of your choosing. (This can only be used on bosses if they have less than 20 percent of their total HP remaining.) For example, you may revert an adult creature into a child, giving it the opportunity to grow old again. The creature retains all of its memories, unless you revert it to infancy. The creature obtains the basic physical capabilities appropriate for its state of development.",action_point_cost:"6"},{class:"Doctor",tree:"Legendary",tree_level:"1",ability_name:"Banish",description:"1 You banish a nearby spirit creature to a random shadow plane for the next hour. You do not know its destination. When its imprisonment is up, it reappears at its previous location. 5 You permanently banish a nearby spirit creature to a random shadow plane. (This can only be used on bosses if they have less than 20 percent of their total HP remaining.)",action_point_cost:"1,5"},{class:"Doctor",tree:"Legendary",tree_level:"1",ability_name:"Eternal Slumber",description:"4 You touch a creature within reach, placing them in a permanent and peaceful sleep. You may choose to tie the spell to a trigger that can cause it to end; for example, cursing them to sleep until they are embraced by a family member, or tying it to an object that must be destroyed to end the spell. You can end the spell at any time you choose. You can only maintain this spell on one creature at a time; if you cast it again, the previous spell ends, freeing the creature from stasis. (This can only be used on bosses if they have less than 20 percent of their total HP remaining.)",action_point_cost:"4"},{class:"Doctor",tree:"Legendary",tree_level:"1",ability_name:"The Bitter Gift",description:"9 You touch a creature without selfawareness and bestow them with the bitter gift of selfhood. You must recite a statement at the table about what it means to be alive. It can be a passage from a book, a poem, or something else that expresses ideas about the meaning of life. The target of the spell falls unconscious for the next minute as their body rapidly experiences 1 million years of evolution toward self-awareness. The evolutionary process alters the animal's physical features and capabilities in ways you may not expect. The new creature is thrown into the world with competency in one language, a sense of self-identity, and a vague awareness of its past life, including a few specific memories of significant moments. Another way of putting it: they are now a person like you. The creature knows you gave it life.",action_point_cost:"9"},{class:"Spy",tree:"Charisma",tree_level:"1",ability_name:"Cosmopolitan",description:"0 AP. You are an expert in the study of cosmopolitan cultures, particularly in cities and nations. If you are falsely presenting as a citizen or official of a city or nation and your authenticity is challenged, you may use a local mannerism to fool common people. You must come up with the mannerism and describe it to the table. It can be a gesture, like a special handshake, a common saying, or some other idiosyncrasy from the people you are pretending to belong to.",action_point_cost:"0"},{class:"Spy",tree:"Charisma",tree_level:"2",ability_name:"Silver Tongue",description:"1 AP. If you are caught doing something prohibited or mischevious, you can use clever thinking to evade suspicion. You must appeal to something that your adversaries find agreeable. The Guide will choose one of these as the right answer, and secretly write it down: Secret answer A: Orders. Someone with authority commanded you to do it. Secret answer B: Ignorance. You didnt know better. It was a genuine mixup! Secret answer C: Graft. You offer something of value from your inventory to make this go away. You must guess the right approach, and describe how you make the appeal. For an additional 1 AP, the Guide eliminates one of the incorrect choices. After you give your story, the Guide will reveal the choice they wrote. If you guess correctly, your adversaries will leave you alone.",action_point_cost:"1"},{class:"Spy",tree:"Charisma",tree_level:"3",ability_name:"Don't you know who I am?",description:"1 AP. You impress common folk and minions by pretending to be someone notable. You initiate the ruse by giving a special wink to a party member. Then, each of your nearby party members must proclaim an incredible fact that creates your identity. For example, a party member might begin by calling attention to you as a fabled writer, a storied warrior, or a sports hero. The other members of the party should build on this fake identity until everyone has contributed. Each claim should be more fantastical than the previous one. When everyone is finished, you draw a captive audience of nearby creatures who crowd around you.",action_point_cost:"1"},{class:"Spy",tree:"Termination",tree_level:"1",ability_name:"Sneak Attack",description:"Once per round, when a nearby foe attacks a creature other than you, you may exploit their focus. You may immediately move behind them to perform one of the following actions: Option A: 1 AP. You make a basic attack on them. Option B: 1 AP. You incapacitate a commoner or minion by touching one of their pressure points. They fall to the ground unconscious for the next 10 minutes, or until they are harmed. Option C: 3 AP. You kill a commoner or minion instantly. Describe how you take them out.",action_point_cost:"1,1,3"},{class:"Spy",tree:"Termination",tree_level:"2",ability_name:"Poison",description:"You combine basic goods from any well-stocked general store to create poison. You create enough poison for one use. You can apply it to weapons, put it in drinks or meals, or serve it to a creature directly. Regardless of delivery method, each use of the poison can only affect one creature. Choose any combination of effects: Option A: 1 AP. Blue poison. The victim falls asleep for 1 hour. Option B: 2 AP. White poison. The victim writhes in extreme pain for 1 hour and is unable to speak. Option C: 3 AP. Purple poison. The victim collapses and is paralyzed for the next day. Option D: 4 AP. Black poison. Commoners and minions are instantly killed. Bosses are hit for 10 HP. Option E: 6 AP. Clear poison. The victim experiences no symptoms and dies 1 week later. (This does not work on bosses.)",action_point_cost:"1,2,3,4,6"},{class:"Spy",tree:"Termination",tree_level:"3",ability_name:"Death Hand",description:"Magic item. A single-shot hand cannon that uses a silent magic charge to propel a slug. The Death Hand can sense your target and guide your hand to make a perfect shot on any target you can see in your scene, including those that are far away. The shot hits for 6 HP. It instantly kills commoners and minions. 3 AP. You must spend 3 AP and one turn each time you recharge the weapon.",action_point_cost:"3"},{class:"Spy",tree:"Termination",tree_level:"4",ability_name:"Bounty",description:"Roll the die. 5 AP. You place a bounty on a commoner or minions head for their capture or death. You must offer an item of value as a reward in addition to the AP cost of this ability that is at least rare in quality. Bounty hunters will compete for the prize. If for capture, you may specify where they are to be taken. If you mark them for death, you may require any manner of proof that the deed was done.  If you roll a 20, the deed will be done by the end of your play session.  On 11 to 19, the deed will be done by the end of your next play session.  On 1 to 10, the target learns of the bounty and places one on your head. You are not sure who bounty hunters will reach first.",action_point_cost:"5"},{class:"Spy",tree:"Concealment",tree_level:"1",ability_name:"Strap",description:"0 AP. Unless you are actively searched by another creature, you can conceal up to two weapons in your clothing without being noticed, provided youre wearing enough to reasonably conceal them.",action_point_cost:"0"},{class:"Spy",tree:"Concealment",tree_level:"2",ability_name:"Disguise",description:"1 AP. Any time you are in a room like a bedroom, armory, or office, you may find objects to use to put together a convincing disguise. Depending on where you are, the disguise will offer at least one signature element of your deception, like a uniform, a membership insignia, or a style of dress. The disguise automatically fools commoners, but minions and bosses may question you.",action_point_cost:"1"},{class:"Spy",tree:"Concealment",tree_level:"3",ability_name:"Blink Pack",description:"Magic item. A magical messenger pack with a hidden switch in the clasp. When activated, the switch turns the bags mouth into a portal to a shadow plane where secret objects may be stored. When the switch is deactivated, the bag functions normally. Spy items stored in the pack do not count against your inventory limit. (This allows you to carry more than 12 items.) The pack is paired with a magic amulet that has a button on it. 3 AP. You press the button on the amulet. The Blink Pack is teleported to your hands from wherever it is in the omniverse.",action_point_cost:"3"},{class:"Spy",tree:"Concealment",tree_level:"4",ability_name:"Needful Hilt",description:"Magic item. A hilt to a basic weapon, like a sword or dagger. 0 AP. If you imagine a common weapon while holding it, the hilt instantly morphs into that weapon. It hits for 2 HP in any form. When you no longer need the weapon, it reverts to its form as a simple hilt.",action_point_cost:"0"},{class:"Spy",tree:"Concealment",tree_level:"5",ability_name:"Shadow",description:"Magic item. A magic cape that makes everything but your shadow invisible. 2 AP. When you activate the capes ability, it shimmers and sparkles briefly before you and everything you are carrying vanishes. You are invisible for the next minute, but you still cast a shadow when you move. The shadow disappears when you are still. While invisible, common folk and minions wont notice you passing by unless you make a lot of noise. If you attack while invisible, the cape deactivates and you become visible again.",action_point_cost:"2"},{class:"Spy",tree:"Surveillance",tree_level:"1",ability_name:"Tracker",description:"Magic item. A pair of devices that allows you to track something. The kit includes a magical tag the size of a tiny bead that is sticky and can be applied to most surfaces. The tracker is linked to a magic compass that shows the direction the tag is in. The arrow on the compass is black. It turns gold when the tag is in your scene, and begins to vibrate softly",action_point_cost:"NA"},{class:"Spy",tree:"Surveillance",tree_level:"2",ability_name:"Spyglasses",description:"Magic item. Eyeglasses that let you see in natural darkness as if it were daylight. The glasses can be permanently upgraded with these capabilities: Upgrade A: 3 AP. Add the ability to magnify the details of small nearby objects, or zoom to see faraway things clearly. Upgrade B: 4 AP. Add infrared vision that lets you see an outline of things that are generating heat nearby. This ability works through walls. Upgrade C: 6 AP. Add the ability to detect whether something is an illusion. Illusions you detect appear to flicker and distort. Upgrade D: 0 AP. Each of these modes can be toggled while wearing the Spyglasses by turning a dial on the side of the device.",action_point_cost:"3,4,6,0"},{class:"Spy",tree:"Surveillance",tree_level:"3",ability_name:"Cloner",description:"Magic item. A magic amulet that allows you to eavesdrop on a communications device. 0 AP. When holding the Cloner next to a spell or object that transmits communications, you may clone its signal. You share a telepathic link with the Cloner, and you automatically hear any messages being transmitted through the cloned device in your mind. You may only clone one device at a time; pairing the Cloner with a new device will break the link with the previous one.",action_point_cost:"0"},{class:"Spy",tree:"Surveillance",tree_level:"4",ability_name:"Seeker",description:"Magic item. The Seeker is a levitating orb as large as the palm of your hand that responds to your commands telepathically. It shimmers and is almost invisible, but it makes a low humming noise as it moves. Option A: 0 AP. You can make the Seeker travel just out of your sight or to an adjacent room. It can tell you how many creatures are in a space, but not what kinds. Option B: 1 AP. The Seeker gives you a rudimentary mental map of an adjacent room. The Guide will draw an outline of the room, highlight any major features (like columns or crevasses), and mark the exact location of any creatures.",action_point_cost:"0,1"},{class:"Spy",tree:"Stenography",tree_level:"1",ability_name:"Dossier",description:"Magic item. A magic book that copies things. You can make a Dossier of any size  from a pocket-sized folio to a coffee table book. 0 AP. You can use the book to copy any kind of writing or drawing that is pressed against its pages. For instance, if you press a handwritten letter against one of the Dossiers pages, a legible but imperfect copy will appear inside.",action_point_cost:"0"},{class:"Spy",tree:"Stenography",tree_level:"2",ability_name:"Mimic",description:"Magic item. A magical pen that guides your hand to copy any writers personal style. On the end opposite the pen tip is a magical stamp that can create forgeries of official seals.By bringing the Mimic within reach of a handwritten document, it automatically learns how to reproduce the documents handwriting styles, signatures, and seals. 2 AP. You use Mimic to create a single document forged in any style the pen has previously learned, including the reproduction of any official stamps or seals.",action_point_cost:"2"},{class:"Spy",tree:"Stenography",tree_level:"3",ability_name:"Listener",description:"Magic item. A small magic gem that can be activated to record sounds nearby for up to 1 hour. If you have the Cloner, you can insert the Listener into a socket on the amulet. When they are paired, you can have the Listener record sounds that the Cloner intercepts. The device can record up to 1 hour of sound, and you can squeeze it softly to have it audibly play back the sound. Using the device to record makes it completely forget the previous recording. 1 AP. You activate the Listener. It records anything it hears, paying particular attention to spoken words.",action_point_cost:"1"},{class:"Spy",tree:"Stenography",tree_level:"4",ability_name:"Crypto",description:"Magic item. Crypto is a ring of opaque glass that glows when brought near glyphs, like writing on a piece of paper or stone etchings. 3 AP. You activate Crypto to translate languages or decode secret messages. The ring reads any object you bring within reach. A translation of the source material emerges, scrolling around the band as you read it. When it is finished translating something, the ring deactivates.",action_point_cost:"3"},{class:"Spy",tree:"Infiltration",tree_level:"1",ability_name:"Feather Hook",description:"Magic item. A magical grappling hook that gently glides itself upward, like a balloon, until it reaches and attaches to a ledge. You can tie any length of rope to the hook. 0 AP. Activate the Feather Hook.",action_point_cost:"0"},{class:"Spy",tree:"Infiltration",tree_level:"2",ability_name:"Bricolage",description:"1 AP. Your skills of improvisation are unparalleled. When you are in a room with everyday objects at your disposal, you may hastily craft one of the following items in less than 1 minute: Option A: tripwire. You create a wire attached to an auditory trigger that makes a loud noise when someone crosses it. Option B: poison trap. If you have poison, you may create a small floor trap that poisons the first creature to step on it. Option C: simple weapon. You fashion a makeshift weapon that hits for 2 HP. Option D: periscope. You can make a small periscope that allows you to look over objects and around doors that have a bit of clearance.",action_point_cost:"1"},{class:"Spy",tree:"Infiltration",tree_level:"3",ability_name:"Needful Key",description:"Magic item. A key that magically senses the mechanism of a physical lock and morphs itself to fit it perfectly. In its default form, the device is a simple key with no teeth. By twisting the keys handle, you can make it revert to its default form. 2 AP. The key morphs to fit a new lock. You must spend 2 AP each time you make the key morph to fit a new lock. The key remembers locks it has previously defeated and can morph to fit them for no AP cost.",action_point_cost:"2"},{class:"Spy",tree:"Infiltration",tree_level:"4",ability_name:"Blueprint",description:"Magic item. A magical folio that reveals the floorplan of a building. 2 AP. You press the Blueprint against an interior wall of a building. Magic ink appears, revealing the buildings layout for the entire floor you are currently on. The Guide will draw you a basic map of the building, including an outline showing the shape of rooms and hallways and marks showing where doors and windows are. The Blueprint only works on artificial structures. (It does not reveal the layout of caves or other natural systems.) If you also have the Seeker, the Blueprint can show its location in real time, as well as the location of any nearby creatures that the Seeker detects.",action_point_cost:"2"},{class:"Spy",tree:"Impersonation",tree_level:"1",ability_name:"Persona",description:"You carefully prepare a convincing alternate identity. You cannot create a persona of an existing person or the identity of someone who holds an exclusive position, like the ruler of an existing nation. Each persona consists of a wardrobe, credentials, and a backstory. You may create and describe each element of the persona. When you use your alternate identity, you must outwardly present yourself as that person by wearing their costume. Option A: 2 AP. You create the persona of a common person of average means, like a farmer, artisan, traveling salesperson, priest, soldier, or teacher. When using a commoners identity, you can effortlessly blend into crowds and travel unnoticed in public spaces. Option B: 4 AP. You create the persona of an officer (someone in a position of formal authority), like a politician, judge, military officer, guild leader, or ship captain. When using an officers identity, you may:  Enter restricted areas that your rank and affiliation gives you access to.  Give mundane orders to people you outrank, like running errands or keeping watch. Option C: 6 AP. You create the persona of an aristocrat, like a prominent socialite, wealthy business owner, ambassador, or governor. When using an aristocrats identity, you may:  Enter exclusive spaces for the rich and famous, like private clubs or balls.  Seek audience with local rulers.  Spend 1 AP for a get out of jail free card that pardons you for minor crimes.",action_point_cost:"2,4"},{class:"Spy",tree:"Legendary",tree_level:"1",ability_name:"Shadow Cutter",description:"Magic item. The Shadow Cutter is a wearable bracelet that you can stretch to form a hoop large enough to crawl through. 3 AP. When you press the device against a solid surface, it can be activated to create a hole of an equal circumference, up to 1 meter deep. When youre done using it, it collapses to its original size. When activated, a low buzzing sound can be heard by all creatures nearby. The material behind the device is instantly teleported to a random shadow plane.",action_point_cost:"3"},{class:"Spy",tree:"Legendary",tree_level:"1",ability_name:"The Artifice",description:"Magic item. A small mask that projects an illusion, transforming your image and voice. The mask records the appearance and voice of every nearby creature you encounter and remembers them forever. 2 AP. You activate the mask, projecting a convincing illusion that gives you the appearance of any creature it remembers. Additionally, it changes your voice to sound like the creature youre impersonating. It is capable of fooling everyone but the impersonated creatures closest friends and family.",action_point_cost:"2"},{class:"Spy",tree:"Legendary",tree_level:"1",ability_name:"Nightcrawler",description:"You are a legendary charmer and intelligence gatherer, capable of quickly extracting sensitive information. 4 AP. When you infiltrate a persons office, encampment, or home, you discover sensitive information about them. The Guide chooses two things from this list to reveal to you:  The identity of an important associate.  A location they will travel to, with the time and date.  A secret that would embarrass them if revealed.  Their financial situation, including who they owe their largest debt to or who owes them the largest debt.  Their true feelings about you or your party.  Their strongest allegiance, whether to a government, guild, or other organization. The Guide will imagine the specifics of the information you receive. They will also choose the document that reveals it, like a receipt, a diary, or a letter.",action_point_cost:"4"},{class:"Magician",tree:"Misdirection",tree_level:"1",ability_name:"Magic Tricks",description:"0 AP. You produce a tiny magical effect to surprise, delight, or confuse those around you. Choose any combination of these effects each time you use this ability: Option A: light. You create a harmless display of light, like a flickering flame or a pattern of sparks. You can also snuff out or ignite small light sources like torches. Option B: sound. You create a small, brief sound effect, like a wind chime, an audience clapping, or someone whispering. Option C: smell. You conjure a smell of any kind, like a freshly baked pie or a cesspool. Option D: touch. You give one or more nearby creatures a gentle physical sensation, like someone tapping them on the shoulder, a chill breeze, or the feeling of goosebumps.",action_point_cost:"0"},{class:"Magician",tree:"Misdirection",tree_level:"2",ability_name:"Mesmerize",description:"1 AP. You dazzle a nearby commoner or minion with an optical illusion. (The creature must be able to see.) Until you leave the area, the creature cannot move, take actions, or respond to conversation. The spell ends if the creature is harmed.",action_point_cost:"1"},{class:"Magician",tree:"Misdirection",tree_level:"3",ability_name:"Overthere",description:"1 AP. You make a suggestive gesture, redirecting a nearby creature that is currently hostile toward you. The target redirects its anger toward a different adversary. (The spell does not work if the target has no other enemies nearby.) This effect is canceled if you harm the creature.",action_point_cost:"1"},{class:"Magician",tree:"Misdirection",tree_level:"4",ability_name:"Mirage",description:"3 AP. You conjure a major illusion no larger than 100 meters in any dimension. The illusion can be of anything that fits within the space, and you can program it with looping mechanics. For instance, you can create the illusion of an oasis, a pile of treasure, or a lumbering giant guarding their territory. If a creature touches or passes through the illusion, they will no longer see it. Creatures with the ability to detect magic may discover the deception.",action_point_cost:"3"},{class:"Magician",tree:"Misdirection",tree_level:"5",ability_name:"Invisibility",description:"Option A: 3 AP. You make a nearby creature or object invisible for the next minute. If it is a creature, everything they are wearing and carrying also becomes invisible. If a creature attacks while invisible, they reappear. Option B: X AP. Add 1 AP for each creature or object you target with the spell beyond the first.",action_point_cost:"3,X"},{class:"Magician",tree:"Mannequins",tree_level:"1",ability_name:"Splitting Image",description:"1 AP. You vanish momentarily, reappearing with two illusory duplicates at your side. Your duplicates travel alongside you and perfectly mimic all of your movements. If a creature attempts to target you, the Guide must flip a coin. If it turns up heads, you are targeted; on tails one of your duplicates is targeted. If one of your duplicates takes damage, it disappears.",action_point_cost:"1"},{class:"Magician",tree:"Mannequins",tree_level:"2",ability_name:"Phantom Menace",description:"2 AP. You read the mind of a nearby NPC and produce an illusion of a creature they find extremely irritating. Only you and the target of the spell can see and hear the illusion. For the next 10 minutes, the illusion relentlessly mocks and taunts your target, provoking their full attention. You may control the illusion directly and have it manipulate small objects. For example, you can have it steal an item from the target and lead them on a chase. Or you may let the illusion go wild, allowing the Guide to narrate its behavior.",action_point_cost:"2"},{class:"Magician",tree:"Mannequins",tree_level:"3",ability_name:"Illusory Creature",description:"3 AP. Imagine a creature. You create a convincing illusion of it that appears nearby. It looks, moves, and sounds like the creature you imagined. It even feels real to the touch. The illusion has 6 HP and vanishes at 0 HP. The illusion can behave independently and travel away from you. You can program the illusions routines. For example, you may have it clean a house, patrol an area, pretend to be busy, or give it a combination of tasks and behaviors. You can also set rules for it, like Dont harm anyone for any reason or Dont let anyone pass through this door. You share a telepathic bond with the illusion when it is nearby, and you can control it directly during your turn. You can make it move, act, and speak your lines. It can hold and use weapons to make basic attacks. After 1 day, the illusion will automatically travel out of sight of other creatures and then vanish. 4 AP. This spell costs 4 AP instead if you use it to create an illusion of a creature that already exists. You create a perfect double of the creature that looks and sounds like them. It can fool everyone but the creatures closest friends and family",action_point_cost:"3"},{class:"Magician",tree:"Clairvoyance",tree_level:"1",ability_name:"Magic Eye",description:"1 AP. You briefly gain the ability to see beyond physical reality. For the next hour, you are able to see the following: Magic. A faint aura surrounds any person or object currently affected by magic. Illusion. Any illusory creature or object slightly flickers, but you do not see its true form.",action_point_cost:"1"},{class:"Magician",tree:"Clairvoyance",tree_level:"2",ability_name:"Whisper",description:"Option A: 0 AP. You telepathically send a message to a nearby creature. They know you are speaking from within their mind, but they hear you as if you were speaking out loud. Option B: 1 AP. You create a link with the creature that allows them to respond to your whisper. If they respond, you may have a telepathic conversation with them for the next minute",action_point_cost:"0,1"},{class:"Magician",tree:"Clairvoyance",tree_level:"3",ability_name:"Message",description:"Option A: 1 AP. Choose a creature you have met before. You must know the general area where they are presently located. You may communicate with each other telepathically for up to 1 minute. Option B: 4 AP. You can create the telepathic link, even if you do not know where the creature is located. They can be anywhere.",action_point_cost:"1,4"},{class:"Magician",tree:"Clairvoyance",tree_level:"4",ability_name:"Interpret",description:"1 AP. You enter the mind of a nearby creature and temporarily learn their language for the next 10 minutes. When you cast this spell, you may also attempt to permanently learn the creatures language by playing a game of charades. (This happens at the table out of character.) The Guide will write down a word or phrase on a piece of paper and then secretly give it to you. Start a timer. You have 1 minute to silently act out the word or phrase. If another player correctly guesses the word or phrase, the spell is successful.",action_point_cost:"1"},{class:"Magician",tree:"Clairvoyance",tree_level:"5",ability_name:"Insight",description:"3 AP. You gaze into the mind of a nearby creature, discovering a prominent intention. Choose one effect each time you cast this spell:  You learn something the creature intends to do in the next 10 minutes.  You learn something the creature intends to accomplish over a long period of time.  You learn something they intend to do to a specific creature of your choice.",action_point_cost:"3"},{class:"Magician",tree:"Conjuration",tree_level:"1",ability_name:"Little Bird",description:"1 AP. You summon an illusory bird somewhere nearby that keeps watch over an area that it can see. It remains there until you dismiss it. You may only have one Little Bird at a time. You share a telepathic link with the bird. It will message you when it witnesses something you specify, like a specific creature entering a room or a door opening. The bird will wake you up to tell you what it sees if you are sleeping.",action_point_cost:"1"},{class:"Magician",tree:"Conjuration",tree_level:"2",ability_name:"Helen's Fantastic Feast",description:"4 AP. Imagine an elaborate feast of any culinary style. You summon food and drink, your choice of furniture (if necessary), and your choice of dinnerware and table decorations. You may summon enough to feed a party of up to 20 people. Consuming the meal restores 4 hit points.",action_point_cost:"4"},{class:"Magician",tree:"Conjuration",tree_level:"3",ability_name:"Monitor",description:"2 AP. You summon a small illusory servant that hovers over your shoulder and follows you around for the remainder of your play session. The Monitor looks like a blooming flower with an eye in the center, and its invisible except to creatures you designate. You can deploy the Monitor to places just beyond your sight. For instance, you can send it searching around a corner into another room. The Monitor can tell you how many creatures are in a space, but not what kinds. It also gives you a rudimentary mental map of spaces it travels through. For instance, if you send it into an adjacent room, you will know the rough size and shape of the room and any major features, like pillars or open pits.",action_point_cost:"2"},{class:"Magician",tree:"Conjuration",tree_level:"4",ability_name:"Shadow Have",description:"5 AP. Place your hand on a dwelling in the worldly plane. You instantly duplicate its interior inside of a shadow plane. The duplication looks and feels real to the touch, but it is an illusion; you cannot take its illusory parts out of the shadow plane. The dwelling can be as small as a shed or as large as a mansion or castle. The physical entrance to the dwelling in the worldly plane doubles as a secret portal to the shadow haven. You can grant or revoke access to anyone at any time. A creature that is aware of the haven and has permission to enter may choose to open the door to the portal by wishing it. Otherwise, the door functions normally as the entrance to the dwelling in the worldly plane. The shadow haven lasts permanently until it is dispelled, you dismiss it, or the spell is cast again. Any creatures inside when the spell ends are instantly expelled through the portal into the worldly plane.",action_point_cost:"5"},{class:"Magician",tree:"Mind Control",tree_level:"1",ability_name:"Bamboozle",description:"1 AP. You make a nearby creature mildly confused about a specific subject until you leave the area. For example, you could make a merchant confused about the value of their goods, a guard confused about who is authorized to pass, or a dog confused about whether he is a good boy.The confusion is lifted if you push the deception too far, like trying to trade a rock for a priceless item.",action_point_cost:"1"},{class:"Magician",tree:"Mind Control",tree_level:"2",ability_name:"Wren's Delightful Dream",description:"1 AP. You whisper and wave your hand at a nearby creature. The next time the creature falls asleep, they experience a deeply comforting dream. They wake up feeling beloved and forget all of their grudges for the next week.",action_point_cost:"1"},{class:"Magician",tree:"Mind Control",tree_level:"3",ability_name:"Perky Profanation",description:"Option A: 1 AP. You curse a nearby creature for the next 10 minutes. The curse is lifted if the creature is harmed. Choose one: laughter. They double over in sustained laughter and cant move. Everything they hear sounds hilarious to them. dance. They hear their favorite tune and start dancing like their life depends on it. mimicry. They begin to mimic a creature of your choice. For example, you can make them behave like housecats. Option B: 4 AP. You curse any number of commoners nearby.",action_point_cost:"1,4"},{class:"Magician",tree:"Mind Control",tree_level:"4",ability_name:"Fear",description:"Roll the die. 4 AP. You breach the mind of a nearby creature to seek their worst fear.  If you roll a 20, you learn the creatures worst fear. They become permanently haunted by it in every waking moment. Over time, their personality is destroyed, and they become unresponsive to others.  On 11 to 19, you learn the creatures worst fear. You may then conjure the image of this fear in their minds eye, paralyzing them with dread for the next 10 minutes. They cannot act, except to flee danger.  On 6 to 10, you learn the creatures worst fear, but they reject you from their mind before you can conjure the fear.  On 2 to 5, you learn the creatures worst fear, but it paralyzes you with dread for the next 10 minutes. During this time, you are unable to use abilities.  On a 1, when confronting the creatures fear, you become permanently haunted by it. You must choose an additional character flaw. You can only lift the fear by having the Liberate spell cast on you.",action_point_cost:"4"},{class:"Magician",tree:"Mayhem",tree_level:"1",ability_name:"Scintillate",description:"0 AP. You extend your fingers outward, and a streaking bolt of sparks shoots toward a target you can see. Roll the die to see if it hits the target successfully. You may make the bolt explode on contact with crackling energy, hitting the target for 2 HP. Or you can make the bolt a harmless firework that explodes in the air, creating a pattern of any shape and color.",action_point_cost:"0"},{class:"Magician",tree:"Mayhem",tree_level:"2",ability_name:"Bedazzle",description:"4 AP. You summon four prismatic bolts that sparkle brilliantly. You may direct each bolt toward any target you can see. The bolts each hit for 2 HP. If all four hit a single creature, the creature is affected by your Mesmerize ability.",action_point_cost:"4"},{class:"Magician",tree:"Mayhem",tree_level:"3",ability_name:"Loosen",description:"2 AP. You twirl your finger as if you are unwinding a spool of yarn. Starting with a single creature nearby that you can see, you create a cascading wave of magic mischief that loosens anything fastened or tightened around nearby creatures. For example:  Bags become unclasped and spill out their contents.  Shoelaces become untied, belts unbuckled, and shirts unbuttoned.  Pets become unleashed.",action_point_cost:"2"},{class:"Magician",tree:"Mayhem",tree_level:"4",ability_name:"Chaos Ball",description:"3 AP. You summon a cherry-sized elastic ball in your hand. When you throw the ball, it bounces off everything it touches, avoiding creatures. Each time the ball bounces, it accelerates slightly, traveling faster and faster until it escapes into the atmosphere after 1 minute. The balls brief reign of terror shatters pottery, glass, light furniture, and most other fragile things in your scene. What a shame.",action_point_cost:"3"},{class:"Magician",tree:"Legendary",tree_level:"1",ability_name:"Control",description:"8 AP. You dominate the mind of a nearby creature for the next hour. The creature will do anything you verbally command them to do without exception or hesitation. When the spell ends, they remember everything that happened. This spell is cursed. If you use Control to harm another creature, you permanently forfeit your character and they become an NPC boss. The Guide will now play your character as a villain in the story. The Guide will inform you if your use of the spell will cause your character to become an NPC before you cast it; you must agree to forfeit your character, otherwise you may not cast Control to harm another creature.",action_point_cost:"8"},{class:"Magician",tree:"Legendary",tree_level:"1",ability_name:"Peerless Pilot",description:"5 AP. You conjure a fantastic hot air balloon from another dimension that can fit you and your party. You must be outdoors and standing in a clearing with room for the balloon to form. The balloon is 30 meters tall and can look like anything you want. Its piloted by a small, illusory creature that can talk to you and your crew and take instructions. (The standard creature is a red panda wearing goggles, but you may choose any similarly sized creature you want.) The pilot remembers you and where youve been if you cast the spell again. The balloon is powered by a flaming sphere above the carriage that adjusts its intensity based on your commands. The balloon can soar as high as the tallest mountain peaks and move at up to 30 kilometers an hour. The carriage has 40 hit points, and the balloon has 10 hit points. You may dismiss the balloon at any time; it vanishes with its pilot and returns home.",action_point_cost:"5"},{class:"Magician",tree:"Legendary",tree_level:"1",ability_name:"Perfect Gift",description:"4 AP. You glimpse the mind of a nearby creature, discovering what stirs their heart. Then, you conjure an emotionally priceless gift for them. You choose how the gift makes the creature feel once it is received. Choose one:  They come to terms with the loss of a loved one, finding peace.  They decide to repair a broken relationship in their life.  They become exuberantly happy for the next month.  They become obsessed with the gift, refusing to part with it for any reason.  They love you as an intimate friend and seek a closer relationship. The Guide chooses the form of the gift to match the effect with the creature.",action_point_cost:"4"},{class:"Magician",tree:"Legendary",tree_level:"1",ability_name:"Invasion",description:"5 AP. You touch a sleeping NPC (the host) and enter its dream. You may take any willing party members who are nearby with you. Those invading the dream enter a trance. They cannot sense anything outside of the dream, even if they are harmed. You choose how you and your companions appear in the dream. You may impersonate others while in the dream world. Once you enter, you create a new dream in the hosts mind. The dream has two scenes. Scene A: the suggestion. In the first scene, you meet the host and speak with them. You choose the setting. Here, you may try to convince the host to do something. For example, you might ask them to abandon a serious pursuit, to cut their family ties, or to give away their wealth. Scene B: the trial. In the second dream sequence, the hosts greatest fear manifests as a monster that seeks to kill them. The Guide will choose a monster that is proportionate to the severity of your suggestion. If you are trying to dramatically alter the hosts life, the Guide may choose a monster of terrifying power. The rules for this fight are the same as outside of the dream, but you cannot die here. All players entering the dream have full health and 10 AP to use. You exit the dream immediately if you reach 0 HP. If you defeat the monster, the target will later wake up believing the dream was a revelation. They will set out to do what you suggested. If the monster kills the host in the dream, the spell ends. Everyone, including the host, wakes up. You may use your abilities within the dream the same way you use them in the outside world, but the effects are fictional and cannot leave the dream world. Any AP that you spend inside of the dream is recovered when you exit.",action_point_cost:"5"},{class:"Wizard",tree:"Evocation",tree_level:"1",ability_name:"Magic Strike",description:"Roll the die. Option A: 0 AP. You must be holding a pointed object like a wand, staff, or sword to use this spell. You use it to shoot a shimmering missile of force in a straight line at a target you can see, dealing 2 damage. Option B: 2 AP. You overload the missile, increasing its damage to 4 and hitting the target automatically. You do not need to roll the die if you overload the spell.",action_point_cost:"0,2"},{class:"Wizard",tree:"Evocation",tree_level:"2",ability_name:"Kindle",description:"0 AP. You rub your hands together, causing a flammable object you can see nearby to ignite in flame. The spell can ignite textiles, wood, paper, and other combustible material. This spell cannot be used directly on creatures, but it can be used to ignite flammable things they are wearing or carrying. Igniting something on a creature deals 1 damage to them.",action_point_cost:"0"},{class:"Wizard",tree:"Evocation",tree_level:"3",ability_name:"Clap",description:"2 AP. You clap your hands, creating a thunderous wave of force in the direction you are facing. The wave hits up to 3 nearby creatures for 2 HP. If affected creatures are the size of a horse or smaller, they are also knocked to the ground.",action_point_cost:"2"},{class:"Wizard",tree:"Evocation",tree_level:"4",ability_name:"Telekinesis",description:"You move a nearby creature or object using only your mind. 1 AP. You may move an object or creature no larger than an elephant. If you move it gently, you can control it for up to 10 seconds. Or you may forcefully throw it up to 5 meters away and hit it for 2 HP. X AP. You may increase the power of this ability by spending additional AP. For each AP you spend, you may increase the distance you can throw the creature by 5 meters, and the damage they take by 2 HP. (For example, if you spend 5 AP, you can throw a target 25 meters and deal 10 damage.)",action_point_cost:"1"},{class:"Wizard",tree:"Evocation",tree_level:"5",ability_name:"Last Light",description:"You must be holding a pointed object like a wand, staff, or sword to use this spell. Option A: 3 AP. You momentarily channel a blinding beam of focused light in a straight line at a target you can see, dealing 6 damage. The light ignites anything flammable that it touches, melts a hole in steel objects, and sears organic matter. Option B: 5 AP. You overload the beam. It instantly kills commoners and minions and deals 12 damage to bosses. If Last Light kills the target, it disintegrates into ash. The beam created by Last Light can be deflected by mirrors.",action_point_cost:"3,5"},{class:"Wizard",tree:"Conjuration",tree_level:"1",ability_name:"Familiar",description:"2 AP. You summon a tiny spectral creature, like a bird, a lizard, a butterfly, or anything else of a comparable size. The familiar is the avatar of a random spirit creature from your world. It becomes your ally and will follow your instructions. The Guide chooses the creatures background and personality, and speaks for them. The familiar may choose to leave you if they are mistreated. The familiar cannot move out of your sight. It can pick up and move objects no larger than a coin purse and no heavier than 10 pounds. It cant attack. Your familiar has 4 HP. It is invulnerable to non-magical harm. If it is reduced to 0 HP, it vanishes, and your bond is broken. You may only have one familiar at a time.",action_point_cost:"2"},{class:"Wizard",tree:"Conjuration",tree_level:"2",ability_name:"Pegasus Cloak",description:"3 AP. You bestow any number of nearby creatures with illusory feather cloaks for the next hour. Affected creatures hover 1 meter above the ground and can move by gliding in the direction they want to travel. They will also fall gently until they are hovering 1 meter above ground.",action_point_cost:"3"},{class:"Wizard",tree:"Conjuration",tree_level:"3",ability_name:"Force Field",description:"3 AP. You create a paper-thin wall of force capable of preventing nonmagical creatures and objects from passing through. You may choose whether the field blocks passage on one or both sides. The field can be in any shape you want, but it must fit inside of a cube thats 10 meters on all sides. The force field has 20 hit points and dissolves at 0 HP. You can make the field stationary or move it telepathically. (For example, you might create an invisible platform that glides beneath you as you walk.)",action_point_cost:"3"},{class:"Wizard",tree:"Conjuration",tree_level:"4",ability_name:"Conjure",description:"3 AP. You imagine an object, causing it to appear somewhere nearby. You can summon any object that meets these guidelines:  It cant be larger than an elephant.  It cant have magical effects. You must tell the Guide which object you want to summon. Then, the Guide thinks of a related object and gives you its name in secret. (For example, if you want to summon a lockpick, the Guide may tell you to draw a door.) Set a timer. You have 1 minute to draw the secret object. When time is up, show it to your party. Your friends can discuss what they see, but they can only submit one guess. Dont give the party clues. If they guess correctly, the item appears. If they guess closely but not exactly, the item appears, but it has a defect. If theyre totally wrong, a random misshapen item appears.",action_point_cost:"3"},{class:"Wizard",tree:"Planeshifting",tree_level:"1",ability_name:"Blink",description:"1 AP. You teleport to a location of your choice nearby. You vanish, leaving behind a gentle gust of wind and then instantaneously reappear nearby.",action_point_cost:"1"},{class:"Wizard",tree:"Planeshifting",tree_level:"2",ability_name:"Gate",description:"Option A: 1 AP. Bind. You bind yourself to the room you are currently in. It must belong to you or a member of the party. This is your Circle. You may only bind yourself to one at a time. Option B: 3 AP. Gate. Snap your fingers. Any willing party members nearby are instantly teleported to your Circle.",action_point_cost:"1,3"},{class:"Wizard",tree:"Planeshifting",tree_level:"3",ability_name:"Portal",description:"3 AP. You conjure a portal of any shape and orientation that is no larger than a door. It appears at a location of your choice nearby. The portal looks like a window to whatever is on the other side, and its edges crackle and spark with energy. When you cast the spell again, the new portal automatically connects to the previous one. The portals remain open until you choose to close them. Anyone that can fit may pass through them.",action_point_cost:"3"},{class:"Wizard",tree:"Planeshifting",tree_level:"4",ability_name:"Dark Door",description:"2 AP. You knock on a door, making it a temporary portal to a specific shadow plane. You must be aware of the shadow planes existence to create a door to it. (For example, if you see a creature with a Cosmic Purse, you can open a door to the purses shadow plane.) When you open the door, you can see inside the plane, and you and your allies may enter it. If the door is closed, the portal vanishes. (If the door closes behind you, you become trapped in the shadow plane and must escape with other means, like with Gate.)",action_point_cost:"2"},{class:"Wizard",tree:"Planeshifting",tree_level:"5",ability_name:"Teleport",description:"Roll the die. 5 AP. Snap your fingers. You and any willing creatures nearby vanish instantly, leaving behind a small shockwave of air in your wake, and are teleported to any place you choose.  If you roll a 20, everyone arrives safely. You recover the spells full AP cost.  On 11 to 19, you all arrive safely. Good for you.  On 6 to 10, you all arrive. Choose one: you take 7 damage from turbulence, or a magic item you are carrying is destroyed.  On 2 to 5, the party arrives safely, but nobody else does. You dont know where they went. You lose an item you are carrying.  On a 1, the spell fails. Party members are lacerated by an arcane explosion and are each hit for 5 HP. All other travelers are torn apart in a gruesome spectacle. (They die.)",action_point_cost:"5"},{class:"Wizard",tree:"Magecraft",tree_level:"1",ability_name:"No",description:"Roll the die. 2 AP. By uttering the word no, you attempt to neutralize a spell that you see an NPC casting nearby. You must declare you are using this ability before the Guide describes the consequences of the spell.  If you roll a 20, the spell is violently canceled and its caster is hit for 1 AP.  On 11 to 19, the spell is stopped before it is cast.  On 6 to 10, the spell misses and hits another nearby creature or target.  On 2 to 5, the spell takes effect normally.  On a 1, you accidentally amplify the spell. If it is a harmful spell, the damage is doubled.",action_point_cost:"2"},{class:"Wizard",tree:"Magecraft",tree_level:"2",ability_name:"Reflect",description:"Roll the die. 3 AP. You produce a counterspell, reflecting a spell that targets you. You must declare that you are reflecting the spell as soon as the Guide says that you are being targeted by a spell.  If you roll 11 to 20, the caster is hit by their own spell, instead of you.  On 6 to 10, the spell reflects off of you but misses its caster.  On 1 to 5, the spell reflects off of you but hits a nearby party member instead.",action_point_cost:"3"},{class:"Wizard",tree:"Magecraft",tree_level:"3",ability_name:"Enscroll",description:"2 AP. You create a Spell Scroll that can be used to produce a spell that you know. You must add the AP cost of the spell you are inscribing to the cost of Enscroll. For example, if you create a magic scroll that can produce your Teleport spell, you must spend 7 AP. You must spend a short time in a safe and quiet place to prepare the scroll. You decide what is written on it. The user of the scroll must read the words aloud to activate the spell it contains.",action_point_cost:"2"},{class:"Wizard",tree:"Magecraft",tree_level:"4",ability_name:"Spellsteal",description:"3 AP. After you observe a creature nearby casting a spell, you may briefly enter their mind to glimpse its nature. You learn the spell and can produce it once. Your theft gives you the minimum know-how to produce the spell, but you have not mastered it. The Guide may not fully reveal the effects or potential consequences of some stolen spells. Once you cast or Enscroll the stolen spell, you forget the spell and cannot use it again.",action_point_cost:"3"},{class:"Wizard",tree:"Projection",tree_level:"1",ability_name:"Sense Magic",description:"Option A: 0 AP. You get a gentle tingling feeling in your bones whenever you are near a powerful source of magic. Youre aware that magic is in the area, but not its location or nature. Option B: 1 AP. You discern the location of nearby magic and its general nature. For instance, the Guide may reveal that you sense a magic sword, a cursed door, or an illusion. Option C: 2 AP. You study the precise nature of nearby magic, learning its specific effects. If you use this ability to study a mysterious magic item, its name and effects are revealed.",action_point_cost:"0,1,2"},{class:"Wizard",tree:"Projection",tree_level:"2",ability_name:"Aura's Silvery Broadcast",description:"2 AP. You broadcast a message up to 20 words in length. Each creature within 1 kilometer hears the message clearly in a voice that sounds pleasant to them. The sound seems to originate from every direction and background noises are muted for the duration.",action_point_cost:"2"},{class:"Wizard",tree:"Projection",tree_level:"3",ability_name:"Scry",description:"1 AP. Once per game session, you may flash forward in time to glimpse your actions in the near future. For the next hour, you can avert failure by redoing a roll of the die. You must take the result of the new roll. Or you may ask the Guide to reveal a situation you are likely to encounter based on the current trajectory of your choices. You may ask the Guide questions about what you sense from this glimpse of the future, but the answers may be vague, as if you are trying to find detail in a watercolor painting.",action_point_cost:"1"},{class:"Wizard",tree:"Projection",tree_level:"4",ability_name:"See",description:"4 AP. For the next hour, you can see through all magical deceptions. See reveals the world to you in several ways:  You see anything thats invisible.  You know if something is an illusion.  You may see the true form of anything that has been altered by magic.",action_point_cost:"4"},{class:"Wizard",tree:"Projection",tree_level:"5",ability_name:"Find",description:"Option A: 3 AP. Find. You close your eyes and attempt to locate any object you have held before, as long as it is in your current universe. You discover its exact location. Option B: 3 AP. Recall. Immediately after you have used Find to locate an item, you may recall it for an additional 3 AP. The item instantly vanishes from its present location and appears in your hands.",action_point_cost:"3"},{class:"Wizard",tree:"Trickery",tree_level:"1",ability_name:"Speak",description:"1 AP. For the next minute, you may speak silently into the mind of a nearby creature. Your lips move normally as if you were speaking aloud, but no sound comes out. Instead, the target of the spell hears your voice inside their head. The creature can tell that your voice is inside their mind.",action_point_cost:"1"},{class:"Wizard",tree:"Trickery",tree_level:"2",ability_name:"Pinch",description:"2 AP. You imbue your fingers with supernatural strength. For the next minute, you can effortlessly pick up and move objects of any weight, as long as you can reasonably handle their size and shape. For instance, you might pinch the shirt of a bully and raise them up in the air or casually move a giant anvil.",action_point_cost:"2"},{class:"Wizard",tree:"Trickery",tree_level:"3",ability_name:"Strech",description:"Option A: 2 AP. Choose a nearby creature or object that is no smaller than an ant and no larger than a horse. You cause it to instantly enlarge or shrink. It can grow up to twice its size or shrink up to half of its size. The targets weight increases or decreases proportionally, but its hit points do not change. You cannot enlarge something beyond the confines of the space its in. Option B: 4 AP. You may stretch an object no smaller than an ant and no larger than an elephant.",action_point_cost:"2,4"},{class:"Wizard",tree:"Trickery",tree_level:"4",ability_name:"Undo",description:"You speak a word of power, reversing the fate of a nearby object. The spell cannot be used to affect living things. The thing you are undoing must be the discrete result of another creatures effort. For example, you might undo a creatures shoelaces, unthread a garment, cause a piece of furniture to fall apart, or revert a sculpture to a block of marble. Choose how much effort to undo each time you use this spell: Option A: 1 AP. Up to 1 minute of effort. Option B: 2 AP. Up to 1 day of effort. Option C: 3 AP. Up to 1 week of effort. Option D: 4 AP. Any amount of effort.",action_point_cost:"1,2,3,4"},{class:"Wizard",tree:"Legendary",tree_level:"1",ability_name:"Rift",description:"5 AP. You summon a magnificent gateway that contains a portal to your current universes nexus in The Rift. Each universes gateway is unique; it might be a stone archway, an iron gate, a humble wooden door, or something else. The Guide imagines what this gateway looks like. This is an extraordinarily difficult portal to maintain, and it only remains open for 1 minute. Once opened, any creatures or objects that can fit through the portal may pass through it. While you may summon access to the gateway anywhere, the exit point remains in the same location in The Rift.",action_point_cost:"5"},{class:"Wizard",tree:"Legendary",tree_level:"1",ability_name:"Transcendence",description:"5 AP. You embark on an incredible quest for knowledge within living things. For the next minute, you enter a trance as your consciousness expands, touching all sentient beings within 1,000 kilometers of you. The ordeal is staggering. You immediately sense time and personal identity at a scale beyond your normal understanding. You absorb the simultaneous experiences of others  possibly from billions of beings. Your knowledge quest must be limited to a subject that you could reasonably come to understand by seeing through the eyes of others. For instance, you may set out to learn the true history of a species, identify who and where the most powerful being is, discover the location of a secret object, or become generally accustomed to the beliefs and practices of a culture. You cannot use the spell for things that one mind could not reasonably possess (for instance, by asking for all the worlds knowledge). The Guide will decide if your request is reasonable. Beware. Entering the minds of others is risky. You may experience unforeseen consequences...",action_point_cost:"5"},{class:"Wizard",tree:"Legendary",tree_level:"1",ability_name:"Planecraft",description:"You conjure a shadow plane. Its contents are completely illusory and cannot leave the plane. You can fill it with anything you can imagine, except sentient beings. The things inside may look and feel real, but they are ultimately mirages. Creatures cannot be harmed by things you put in this plane. Option A: 2 AP. You conjure a tiny plane no larger than a mansion or castle. Option B: 4 AP. You conjure a plane no larger than the size of a village. Option C: 6 AP. You conjure a plane with no size limit. Option D: 8 AP. You conjure a plane with no size limit and no safeguards. Creatures can now be harmed by the things you put in the plane. (That includes you.)",action_point_cost:"2,4,6,8"},{class:"Wizard",tree:"Legendary",tree_level:"1",ability_name:"Create",description:"5 AP. You tap raw magic, converting its energy into a single, nonmagical, inanimate object that fits inside a cube no larger than 5 meters in any dimension. You create the object perfectly and it is real in every sense. You may create anything that fits in the space, including precious gems, flawless weapons, or exact replicas of other objects. This spell requires perfection and is extremely taxing on your ability as a Wizard. Keep track of how many times you have cast the spell on your inventory sheet. The spells cost increases by 1 AP each time you use it.",action_point_cost:"5"}];function jI(){const n=A.useRef({});function i(r,s,o){const a=s*1e3,l=n.current[r];l!=null&&clearInterval(l.interval_ref),n.current[r]={time_left_milliseconds:a,callback:o,interval_ref:setInterval(()=>{const u=n.current[r];u.time_left_milliseconds-=1e3,u.time_left_milliseconds<=0&&(clearInterval(u.interval_ref),u.callback())},a)}}return{start_new_timer:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},HI=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):HI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(i.push(f),u!==64){const d=a<<4&240|u>>2;if(i.push(d),h!==64){const v=u<<6&192|h;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},YI=function(e){const t=Fb(e);return Bb.encodeByteArray(t,!0)},Lu=function(e){return YI(e).replace(/\./g,"")},zb=function(e){try{return Bb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=()=>WI().__FIREBASE_DEFAULTS__,GI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zb(e[1]);return t&&JSON.parse(t)},cm=()=>{try{return VI()||GI()||qI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ub=e=>{var t,n;return(n=(t=cm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},KI=e=>{const t=Ub(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},QI=()=>{var e;return(e=cm())===null||e===void 0?void 0:e.config},$b=e=>{var t;return(t=cm())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function eA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nA(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="FirebaseError";class ki extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=sA,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ba.prototype.create)}}class Ba{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?oA(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ki(r,a,i)}}function oA(e,t){return e.replace(aA,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const aA=/\{\$([^}]+)}/g;function lA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(nv(s)&&nv(o)){if(!Nu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function So(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Co(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function uA(e,t){const n=new cA(e,t);return n.subscribe.bind(n)}class cA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hA(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=qh),r.error===void 0&&(r.error=qh),r.complete===void 0&&(r.complete=qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){return e&&e._delegate?e._delegate:e}class Lr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new JI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pA(t))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gr){return this.instances.has(t)}getOptions(t=gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dA(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=gr){return this.component?this.component.multipleInstances?t:gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dA(e){return e===gr?void 0:e}function pA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const gA={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},yA=Se.INFO,vA={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},wA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=vA[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=yA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const xA=(e,t)=>t.some(n=>e instanceof n);let iv,rv;function _A(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bA(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jb=new WeakMap,_d=new WeakMap,Hb=new WeakMap,Kh=new WeakMap,fm=new WeakMap;function kA(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&jb.set(n,e)}).catch(()=>{}),fm.set(t,e),t}function SA(e){if(_d.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});_d.set(e,t)}let bd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _d.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Hb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function CA(e){bd=e(bd)}function TA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Qh(this),t,...n);return Hb.set(i,t.sort?t.sort():[t]),Qi(i)}:bA().includes(e)?function(...t){return e.apply(Qh(this),t),Qi(jb.get(this))}:function(...t){return Qi(e.apply(Qh(this),t))}}function EA(e){return typeof e=="function"?TA(e):(e instanceof IDBTransaction&&SA(e),xA(e,_A())?new Proxy(e,bd):e)}function Qi(e){if(e instanceof IDBRequest)return kA(e);if(Kh.has(e))return Kh.get(e);const t=EA(e);return t!==e&&(Kh.set(e,t),fm.set(t,e)),t}const Qh=e=>fm.get(e);function IA(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Qi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Qi(o.result),l.oldVersion,l.newVersion,Qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const AA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],Jh=new Map;function sv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jh.get(t))return Jh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=PA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||AA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Jh.set(t,s),s}CA(e=>({...e,get:(t,n,i)=>sv(t,n)||e.get(t,n,i),has:(t,n)=>!!sv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function RA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kd="@firebase/app",ov="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new hm("@firebase/app"),MA="@firebase/app-compat",OA="@firebase/analytics-compat",LA="@firebase/analytics",NA="@firebase/app-check-compat",FA="@firebase/app-check",BA="@firebase/auth",zA="@firebase/auth-compat",UA="@firebase/database",$A="@firebase/database-compat",jA="@firebase/functions",HA="@firebase/functions-compat",YA="@firebase/installations",WA="@firebase/installations-compat",VA="@firebase/messaging",GA="@firebase/messaging-compat",qA="@firebase/performance",KA="@firebase/performance-compat",QA="@firebase/remote-config",JA="@firebase/remote-config-compat",XA="@firebase/storage",ZA="@firebase/storage-compat",eP="@firebase/firestore",tP="@firebase/firestore-compat",nP="firebase",iP="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",rP={[kd]:"fire-core",[MA]:"fire-core-compat",[LA]:"fire-analytics",[OA]:"fire-analytics-compat",[FA]:"fire-app-check",[NA]:"fire-app-check-compat",[BA]:"fire-auth",[zA]:"fire-auth-compat",[UA]:"fire-rtdb",[$A]:"fire-rtdb-compat",[jA]:"fire-fn",[HA]:"fire-fn-compat",[YA]:"fire-iid",[WA]:"fire-iid-compat",[VA]:"fire-fcm",[GA]:"fire-fcm-compat",[qA]:"fire-perf",[KA]:"fire-perf-compat",[QA]:"fire-rc",[JA]:"fire-rc-compat",[XA]:"fire-gcs",[ZA]:"fire-gcs-compat",[eP]:"fire-fst",[tP]:"fire-fst-compat","fire-js":"fire-js",[nP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,Cd=new Map;function sP(e,t){try{e.container.addComponent(t)}catch(n){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ls(e){const t=e.name;if(Cd.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;Cd.set(t,e);for(const n of Fu.values())sP(n,e);return!0}function dm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ji=new Ba("app","Firebase",oP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=iP;function Yb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Sd,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Ji.create("bad-app-name",{appName:String(r)});if(n||(n=QI()),!n)throw Ji.create("no-options");const s=Fu.get(r);if(s){if(Nu(n,s.options)&&Nu(i,s.config))return s;throw Ji.create("duplicate-app",{appName:r})}const o=new mA(r);for(const l of Cd.values())o.addComponent(l);const a=new aP(n,i,o);return Fu.set(r,a),a}function Wb(e=Sd){const t=Fu.get(e);if(!t&&e===Sd)return Yb();if(!t)throw Ji.create("no-app",{appName:e});return t}function Xi(e,t,n){var i;let r=(i=rP[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Ls(new Lr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="firebase-heartbeat-database",uP=1,ma="firebase-heartbeat-store";let Xh=null;function Vb(){return Xh||(Xh=IA(lP,uP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ma)}}}).catch(e=>{throw Ji.create("idb-open",{originalErrorMessage:e.message})})),Xh}async function cP(e){try{return(await Vb()).transaction(ma).objectStore(ma).get(Gb(e))}catch(t){if(t instanceof ki)Nr.warn(t.message);else{const n=Ji.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(n.message)}}}async function av(e,t){try{const i=(await Vb()).transaction(ma,"readwrite");return await i.objectStore(ma).put(t,Gb(e)),i.done}catch(n){if(n instanceof ki)Nr.warn(n.message);else{const i=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(i.message)}}}function Gb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=1024,fP=30*24*60*60*1e3;class dP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=fP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lv(),{heartbeatsToSend:n,unsentEntries:i}=pP(this._heartbeatsCache.heartbeats),r=Lu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function lv(){return new Date().toISOString().substring(0,10)}function pP(e,t=hP){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),uv(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),uv(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function uv(e){return Lu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e){Ls(new Lr("platform-logger",t=>new DA(t),"PRIVATE")),Ls(new Lr("heartbeat",t=>new dP(t),"PRIVATE")),Xi(kd,ov,e),Xi(kd,ov,"esm2017"),Xi("fire-js","")}gP("");var yP="firebase",vP="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(yP,vP,"app");function qb(){return Yb({apiKey:"AIzaSyB7KcGLNztLk0KmjJ7CCyIQmwvchLaRbCw",authDomain:"rpg-gen.firebaseapp.com",projectId:"rpg-gen",storageBucket:"rpg-gen.appspot.com",messagingSenderId:"167071727845",appId:"1:167071727845:web:59a5ff82df16db1c0b940c"})}const wP={full_name:"",short_name:"",story_role:"",race:"",ideal:"",flaw:"",current_hp:10,current_ap:10,max_hp:10,notes:"",items:[],abilities:[]};var xP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,pm=pm||{},ae=xP||self;function Bu(){}function Sc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function $a(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function _P(e){return Object.prototype.hasOwnProperty.call(e,Zh)&&e[Zh]||(e[Zh]=++bP)}var Zh="closure_uid_"+(1e9*Math.random()>>>0),bP=0;function kP(e,t,n){return e.call.apply(e.bind,arguments)}function SP(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Pt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=kP:Pt=SP,Pt.apply(null,arguments)}function Pl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function wt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function cr(){this.s=this.s,this.o=this.o}var CP=0;cr.prototype.s=!1;cr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CP!=0)&&_P(this)};cr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function mm(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function cv(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Sc(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let o=0;o<s;o++)e[r+o]=i[o]}else e.push(i)}}function Dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var TP=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ae.addEventListener("test",Bu,t),ae.removeEventListener("test",Bu,t)}catch{}return e}();function zu(e){return/^[\s\xa0]*$/.test(e)}var hv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ef(e,t){return e<t?-1:e>t?1:0}function Cc(){var e=ae.navigator;return e&&(e=e.userAgent)?e:""}function zn(e){return Cc().indexOf(e)!=-1}function gm(e){return gm[" "](e),e}gm[" "]=Bu;function EP(e){var t=PP;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var IP=zn("Opera"),Ns=zn("Trident")||zn("MSIE"),Qb=zn("Edge"),Td=Qb||Ns,Jb=zn("Gecko")&&!(Cc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),AP=Cc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function Xb(){var e=ae.document;return e?e.documentMode:void 0}var Uu;e:{var tf="",nf=function(){var e=Cc();if(Jb)return/rv:([^\);]+)(\)|;)/.exec(e);if(Qb)return/Edge\/([\d\.]+)/.exec(e);if(Ns)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(AP)return/WebKit\/(\S+)/.exec(e);if(IP)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(nf&&(tf=nf?nf[1]:""),Ns){var rf=Xb();if(rf!=null&&rf>parseFloat(tf)){Uu=String(rf);break e}}Uu=tf}var PP={};function DP(){return EP(function(){let e=0;const t=hv(String(Uu)).split("."),n=hv("9").split("."),i=Math.max(t.length,n.length);for(let o=0;e==0&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;e=ef(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||ef(r[2].length==0,s[2].length==0)||ef(r[2],s[2]),r=r[3],s=s[3]}while(e==0)}return 0<=e})}var Ed;if(ae.document&&Ns){var fv=Xb();Ed=fv||parseInt(Uu,10)||void 0}else Ed=void 0;var RP=Ed;function ga(e,t){if(Dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jb){e:{try{gm(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:MP[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ga.X.h.call(this)}}wt(ga,Dt);var MP={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),OP=0;function LP(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++OP,this.ba=this.ea=!1}function Tc(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ym(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function Zb(e){const t={};for(const n in e)t[n]=e[n];return t}const dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ek(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<dv.length;s++)n=dv[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Ec(e){this.src=e,this.g={},this.h=0}Ec.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Ad(e,t,i,r);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new LP(t,this.src,s,!!i,r),t.ea=n,e.push(t)),t};function Id(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=Kb(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Tc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ad(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}var vm="closure_lm_"+(1e6*Math.random()|0),sf={};function tk(e,t,n,i,r){if(i&&i.once)return ik(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)tk(e,t[s],n,i,r);return null}return n=_m(n),e&&e[ja]?e.N(t,n,$a(i)?!!i.capture:!!i,r):nk(e,t,n,!1,i,r)}function nk(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=$a(r)?!!r.capture:!!r,a=xm(e);if(a||(e[vm]=a=new Ec(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=NP(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)TP||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(sk(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function NP(){function e(n){return t.call(e.src,e.listener,n)}const t=FP;return e}function ik(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ik(e,t[s],n,i,r);return null}return n=_m(n),e&&e[ja]?e.O(t,n,$a(i)?!!i.capture:!!i,r):nk(e,t,n,!0,i,r)}function rk(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)rk(e,t[s],n,i,r);else i=$a(i)?!!i.capture:!!i,n=_m(n),e&&e[ja]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ad(s,n,i,r),-1<n&&(Tc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=xm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ad(t,n,i,r)),(n=-1<e?t[e]:null)&&wm(n))}function wm(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ja])Id(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(sk(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=xm(t))?(Id(n,e),n.h==0&&(n.src=null,t[vm]=null)):Tc(e)}}}function sk(e){return e in sf?sf[e]:sf[e]="on"+e}function FP(e,t){if(e.ba)e=!0;else{t=new ga(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&wm(e),e=n.call(i,t)}return e}function xm(e){return e=e[vm],e instanceof Ec?e:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function _m(e){return typeof e=="function"?e:(e[of]||(e[of]=function(t){return e.handleEvent(t)}),e[of])}function ft(){cr.call(this),this.i=new Ec(this),this.P=this,this.I=null}wt(ft,cr);ft.prototype[ja]=!0;ft.prototype.removeEventListener=function(e,t,n,i){rk(this,e,t,n,i)};function yt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new Dt(t,e);else if(t instanceof Dt)t.target=t.target||e;else{var r=t;t=new Dt(i,e),ek(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Dl(o,i,!0,t)&&r}if(o=t.g=e,r=Dl(o,i,!0,t)&&r,r=Dl(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=Dl(o,i,!1,t)&&r}ft.prototype.M=function(){if(ft.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Tc(n[i]);delete e.g[t],e.h--}}this.I=null};ft.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ft.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Dl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Id(e.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var bm=ae.JSON.stringify;function BP(){var e=lk;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class zP{constructor(){this.h=this.g=null}add(t,n){const i=ok.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var ok=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new UP,e=>e.reset());class UP{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $P(e){ae.setTimeout(()=>{throw e},0)}function ak(e,t){Pd||jP(),Dd||(Pd(),Dd=!0),lk.add(e,t)}var Pd;function jP(){var e=ae.Promise.resolve(void 0);Pd=function(){e.then(HP)}}var Dd=!1,lk=new zP;function HP(){for(var e;e=BP();){try{e.h.call(e.g)}catch(n){$P(n)}var t=ok;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dd=!1}function Ic(e,t){ft.call(this),this.h=e||1,this.g=t||ae,this.j=Pt(this.lb,this),this.l=Date.now()}wt(Ic,ft);G=Ic.prototype;G.ca=!1;G.R=null;G.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yt(this,"tick"),this.ca&&(km(this),this.start()))}};G.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function km(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}G.M=function(){Ic.X.M.call(this),km(this),delete this.g};function Sm(e,t,n){if(typeof e=="function")n&&(e=Pt(e,n));else if(e&&typeof e.handleEvent=="function")e=Pt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ae.setTimeout(e,t||0)}function uk(e){e.g=Sm(()=>{e.g=null,e.i&&(e.i=!1,uk(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class YP extends cr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uk(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(e){cr.call(this),this.h=e,this.g={}}wt(ya,cr);var pv=[];function ck(e,t,n,i){Array.isArray(n)||(n&&(pv[0]=n.toString()),n=pv);for(var r=0;r<n.length;r++){var s=tk(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function hk(e){ym(e.g,function(t,n){this.g.hasOwnProperty(n)&&wm(t)},e),e.g={}}ya.prototype.M=function(){ya.X.M.call(this),hk(this)};ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Aa=function(){this.g=!1};function WP(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function VP(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+o})}function ds(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+qP(e,n)+(i?" "+i:"")})}function GP(e,t){e.info(function(){return"TIMEOUT: "+t})}Ac.prototype.info=function(){};function qP(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return bm(n)}catch{return t}}var jr={},mv=null;function Pc(){return mv=mv||new ft}jr.Pa="serverreachability";function fk(e){Dt.call(this,jr.Pa,e)}wt(fk,Dt);function va(e){const t=Pc();yt(t,new fk(t))}jr.STAT_EVENT="statevent";function dk(e,t){Dt.call(this,jr.STAT_EVENT,e),this.stat=t}wt(dk,Dt);function zt(e){const t=Pc();yt(t,new dk(t,e))}jr.Qa="timingevent";function pk(e,t){Dt.call(this,jr.Qa,e),this.size=t}wt(pk,Dt);function Ha(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){e()},t)}var Dc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cm(){}Cm.prototype.h=null;function gv(e){return e.h||(e.h=e.i())}function gk(){}var Ya={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Tm(){Dt.call(this,"d")}wt(Tm,Dt);function Em(){Dt.call(this,"c")}wt(Em,Dt);var Rd;function Rc(){}wt(Rc,Cm);Rc.prototype.g=function(){return new XMLHttpRequest};Rc.prototype.i=function(){return{}};Rd=new Rc;function Wa(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new ya(this),this.O=KP,e=Td?125:void 0,this.T=new Ic(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yk}function yk(){this.i=null,this.g="",this.h=!1}var KP=45e3,Md={},$u={};G=Wa.prototype;G.setTimeout=function(e){this.O=e};function Od(e,t,n){e.K=1,e.v=Oc(gi(t)),e.s=n,e.P=!0,vk(e,null)}function vk(e,t){e.F=Date.now(),Va(e),e.A=gi(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),Tk(n.i,"t",i),e.C=0,n=e.l.H,e.h=new yk,e.g=Gk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new YP(Pt(e.La,e,e.g),e.N)),ck(e.S,e.g,"readystatechange",e.ib),t=e.H?Zb(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),va(),WP(e.j,e.u,e.A,e.m,e.U,e.s)}G.ib=function(e){e=e.target;const t=this.L;t&&si(e)==3?t.l():this.La(e)};G.La=function(e){try{if(e==this.g)e:{const c=si(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Td||this.g&&(this.h.h||this.g.fa()||xv(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?va(3):va(2)),Mc(this);var n=this.g.aa();this.Y=n;t:if(wk(this)){var i=xv(this.g);e="";var r=i.length,s=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),Uo(this);var o="";break t}this.h.i=new ae.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,VP(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zu(a)){var u=a;break t}}u=null}if(n=u)ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ld(this,n);else{this.i=!1,this.o=3,zt(12),br(this),Uo(this);break e}}this.P?(xk(this,c,o),Td&&this.i&&c==3&&(ck(this.S,this.T,"tick",this.hb),this.T.start())):(ds(this.j,this.m,o,null),Ld(this,o)),c==4&&br(this),this.i&&!this.I&&(c==4?Hk(this.l,this):(this.i=!1,Va(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,zt(12)):(this.o=0,zt(13)),br(this),Uo(this)}}}catch{}finally{}};function wk(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function xk(e,t,n){let i=!0,r;for(;!e.I&&e.C<n.length;)if(r=QP(e,n),r==$u){t==4&&(e.o=4,zt(14),i=!1),ds(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Md){e.o=4,zt(15),ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else ds(e.j,e.m,r,null),Ld(e,r);wk(e)&&r!=$u&&r!=Md&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,zt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Om(t),t.K=!0,zt(11))):(ds(e.j,e.m,n,"[Invalid Chunked Response]"),br(e),Uo(e))}G.hb=function(){if(this.g){var e=si(this.g),t=this.g.fa();this.C<t.length&&(Mc(this),xk(this,e,t),this.i&&e!=4&&Va(this))}};function QP(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?$u:(n=Number(t.substring(n,i)),isNaN(n)?Md:(i+=1,i+n>t.length?$u:(t=t.substr(i,n),e.C=i+n,t)))}G.cancel=function(){this.I=!0,br(this)};function Va(e){e.V=Date.now()+e.O,_k(e,e.O)}function _k(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ha(Pt(e.gb,e),t)}function Mc(e){e.B&&(ae.clearTimeout(e.B),e.B=null)}G.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(GP(this.j,this.A),this.K!=2&&(va(),zt(17)),br(this),this.o=2,Uo(this)):_k(this,this.V-e)};function Uo(e){e.l.G==0||e.I||Hk(e.l,e)}function br(e){Mc(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,km(e.T),hk(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ld(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Nd(n.h,e))){if(!e.J&&Nd(n.h,e)&&n.G==3){try{var i=n.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Yu(n),Fc(n);else break e;Mm(n),zt(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ha(Pt(n.cb,n),6e3));if(1>=Ak(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else kr(n,11)}else if((e.J||n.g==e)&&Yu(n),!zu(t))for(r=n.Fa.g.parse(t),t=0;t<r.length;t++){let u=r[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=i.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Im(s,s.h),s.h=null))}if(i.D){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,$e(i.F,i.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=e;if(i.sa=Vk(i,i.H?i.ka:null,i.V),o.J){Pk(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Mc(a),Va(a)),i.g=o}else $k(i);0<n.i.length&&Bc(n)}else u[0]!="stop"&&u[0]!="close"||kr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?kr(n,7):Rm(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}va(4)}catch{}}function JP(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Sc(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function XP(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Sc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function bk(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Sc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=XP(e),i=JP(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var kk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZP(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Er(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Er){this.h=t!==void 0?t:e.h,ju(this,e.j),this.s=e.s,this.g=e.g,Hu(this,e.m),this.l=e.l,t=e.i;var n=new wa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yv(this,n),this.o=e.o}else e&&(n=String(e).match(kk))?(this.h=!!t,ju(this,n[1]||"",!0),this.s=To(n[2]||""),this.g=To(n[3]||"",!0),Hu(this,n[4]),this.l=To(n[5]||"",!0),yv(this,n[6]||"",!0),this.o=To(n[7]||"")):(this.h=!!t,this.i=new wa(null,this.h))}Er.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eo(t,vv,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Eo(t,vv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Eo(n,n.charAt(0)=="/"?nD:tD,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eo(n,rD)),e.join("")};function gi(e){return new Er(e)}function ju(e,t,n){e.j=n?To(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yv(e,t,n){t instanceof wa?(e.i=t,sD(e.i,e.h)):(n||(t=Eo(t,iD)),e.i=new wa(t,e.h))}function $e(e,t,n){e.i.set(t,n)}function Oc(e){return $e(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function To(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,eD),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eD(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var vv=/[#\/\?@]/g,tD=/[#\?:]/g,nD=/[#\?]/g,iD=/[#\?@]/g,rD=/#/g;function wa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hr(e){e.g||(e.g=new Map,e.h=0,e.i&&ZP(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}G=wa.prototype;G.add=function(e,t){hr(this),this.i=null,e=Ks(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Sk(e,t){hr(e),t=Ks(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ck(e,t){return hr(e),t=Ks(e,t),e.g.has(t)}G.forEach=function(e,t){hr(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};G.oa=function(){hr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};G.W=function(e){hr(this);let t=[];if(typeof e=="string")Ck(this,e)&&(t=t.concat(this.g.get(Ks(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};G.set=function(e,t){return hr(this),this.i=null,e=Ks(this,e),Ck(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};G.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function Tk(e,t,n){Sk(e,t),0<n.length&&(e.i=null,e.g.set(Ks(e,t),mm(n)),e.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function Ks(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sD(e,t){t&&!e.j&&(hr(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Sk(this,i),Tk(this,r,n))},e)),e.j=t}var oD=class{constructor(t,n){this.h=t,this.g=n}};function Ek(e){this.l=e||aD,ae.PerformanceNavigationTiming?(e=ae.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ae.g&&ae.g.Ga&&ae.g.Ga()&&ae.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aD=10;function Ik(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ak(e){return e.h?1:e.g?e.g.size:0}function Nd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Im(e,t){e.g?e.g.add(t):e.h=t}function Pk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ek.prototype.cancel=function(){if(this.i=Dk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Dk(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return mm(e.i)}function Am(){}Am.prototype.stringify=function(e){return ae.JSON.stringify(e,void 0)};Am.prototype.parse=function(e){return ae.JSON.parse(e,void 0)};function lD(){this.g=new Am}function uD(e,t,n){const i=n||"";try{bk(e,function(r,s){let o=r;$a(r)&&(o=bm(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function cD(e,t){const n=new Ac;if(ae.Image){const i=new Image;i.onload=Pl(Rl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Pl(Rl,n,i,"TestLoadImage: error",!1,t),i.onabort=Pl(Rl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Pl(Rl,n,i,"TestLoadImage: timeout",!1,t),ae.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Rl(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ga(e){this.l=e.ac||null,this.j=e.jb||!1}wt(Ga,Cm);Ga.prototype.g=function(){return new Lc(this.l,this.j)};Ga.prototype.i=function(e){return function(){return e}}({});function Lc(e,t){ft.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(Lc,ft);var Pm=0;G=Lc.prototype;G.open=function(e,t){if(this.readyState!=Pm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xa(this)};G.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ae).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=Pm};G.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rk(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function Rk(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}G.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qa(this):xa(this),this.readyState==3&&Rk(this)}};G.Va=function(e){this.g&&(this.response=this.responseText=e,qa(this))};G.Ua=function(e){this.g&&(this.response=e,qa(this))};G.ga=function(){this.g&&qa(this)};function qa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xa(e)}G.setRequestHeader=function(e,t){this.v.append(e,t)};G.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var hD=ae.JSON.parse;function qe(e){ft.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mk,this.K=this.L=!1}wt(qe,ft);var Mk="",fD=/^https?$/i,dD=["POST","PUT"];G=qe.prototype;G.Ka=function(e){this.L=e};G.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rd.g(),this.C=this.u?gv(this.u):gv(Rd),this.g.onreadystatechange=Pt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){wv(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=ae.FormData&&e instanceof ae.FormData,!(0<=Kb(dD,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nk(this),0<this.B&&((this.K=pD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.qa,this)):this.A=Sm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){wv(this,s)}};function pD(e){return Ns&&DP()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}G.qa=function(){typeof pm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yt(this,"timeout"),this.abort(8))};function wv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ok(e),Nc(e)}function Ok(e){e.D||(e.D=!0,yt(e,"complete"),yt(e,"error"))}G.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yt(this,"complete"),yt(this,"abort"),Nc(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nc(this,!0)),qe.X.M.call(this)};G.Ha=function(){this.s||(this.F||this.v||this.l?Lk(this):this.fb())};G.fb=function(){Lk(this)};function Lk(e){if(e.h&&typeof pm<"u"&&(!e.C[1]||si(e)!=4||e.aa()!=2)){if(e.v&&si(e)==4)Sm(e.Ha,0,e);else if(yt(e,"readystatechange"),si(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var r=String(e.H).match(kk)[1]||null;if(!r&&ae.self&&ae.self.location){var s=ae.self.location.protocol;r=s.substr(0,s.length-1)}i=!fD.test(r?r.toLowerCase():"")}n=i}if(n)yt(e,"complete"),yt(e,"success");else{e.m=6;try{var o=2<si(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",Ok(e)}}finally{Nc(e)}}}}function Nc(e,t){if(e.g){Nk(e);const n=e.g,i=e.C[0]?Bu:null;e.g=null,e.C=null,t||yt(e,"ready");try{n.onreadystatechange=i}catch{}}}function Nk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ae.clearTimeout(e.A),e.A=null)}function si(e){return e.g?e.g.readyState:0}G.aa=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};G.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),hD(t)}};function xv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Mk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}G.Ea=function(){return this.m};G.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fk(e){let t="";return ym(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Dm(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Fk(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):$e(e,t,n))}function go(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bk(e){this.Ca=0,this.i=[],this.j=new Ac,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=go("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=go("baseRetryDelayMs",5e3,e),this.bb=go("retryDelaySeedMs",1e4,e),this.$a=go("forwardChannelMaxRetries",2,e),this.ta=go("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Ek(e&&e.concurrentRequestLimit),this.Fa=new lD,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}G=Bk.prototype;G.ma=8;G.G=1;function Rm(e){if(zk(e),e.G==3){var t=e.U++,n=gi(e.F);$e(n,"SID",e.I),$e(n,"RID",t),$e(n,"TYPE","terminate"),Ka(e,n),t=new Wa(e,e.j,t,void 0),t.K=2,t.v=Oc(gi(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon&&(n=ae.navigator.sendBeacon(t.v.toString(),"")),!n&&ae.Image&&(new Image().src=t.v,n=!0),n||(t.g=Gk(t.l,null),t.g.da(t.v)),t.F=Date.now(),Va(t)}Wk(e)}function Fc(e){e.g&&(Om(e),e.g.cancel(),e.g=null)}function zk(e){Fc(e),e.u&&(ae.clearTimeout(e.u),e.u=null),Yu(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&ae.clearTimeout(e.m),e.m=null)}function Bc(e){Ik(e.h)||e.m||(e.m=!0,ak(e.Ja,e),e.C=0)}function mD(e,t){return Ak(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Ha(Pt(e.Ja,e,t),Yk(e,e.C)),e.C++,!0)}G.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Wa(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=Zb(s),ek(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Uk(this,r,t),n=gi(this.F),$e(n,"RID",e),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),Ka(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(Fk(s)))+"&"+t:this.o&&Dm(n,this.o,s)),Im(this.h,r),this.Ya&&$e(n,"TYPE","init"),this.O?($e(n,"$req",t),$e(n,"SID","null"),r.Z=!0,Od(r,n,null)):Od(r,n,t),this.G=2}}else this.G==3&&(e?_v(this,e):this.i.length==0||Ik(this.h)||_v(this))};function _v(e,t){var n;t?n=t.m:n=e.U++;const i=gi(e.F);$e(i,"SID",e.I),$e(i,"RID",n),$e(i,"AID",e.T),Ka(e,i),e.o&&e.s&&Dm(i,e.o,e.s),n=new Wa(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Uk(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Im(e.h,n),Od(n,i,t)}function Ka(e,t){e.ia&&ym(e.ia,function(n,i){$e(t,i,n)}),e.l&&bk({},function(n,i){$e(t,i,n)})}function Uk(e,t,n){n=Math.min(e.i.length,n);var i=e.l?Pt(e.l.Ra,e.l,e):null;e:{var r=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].h;const c=r[l].g;if(u-=s,0>u)s=Math.max(0,r[l].h-100),a=!1;else try{uD(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function $k(e){e.g||e.u||(e.Z=1,ak(e.Ia,e),e.A=0)}function Mm(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Ha(Pt(e.Ia,e),Yk(e,e.A)),e.A++,!0)}G.Ia=function(){if(this.u=null,jk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ha(Pt(this.eb,this),e)}};G.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zt(10),Fc(this),jk(this))};function Om(e){e.B!=null&&(ae.clearTimeout(e.B),e.B=null)}function jk(e){e.g=new Wa(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=gi(e.sa);$e(t,"RID","rpc"),$e(t,"SID",e.I),$e(t,"CI",e.L?"0":"1"),$e(t,"AID",e.T),$e(t,"TYPE","xmlhttp"),Ka(e,t),e.o&&e.s&&Dm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Oc(gi(t)),n.s=null,n.P=!0,vk(n,e)}G.cb=function(){this.v!=null&&(this.v=null,Fc(this),Mm(this),zt(19))};function Yu(e){e.v!=null&&(ae.clearTimeout(e.v),e.v=null)}function Hk(e,t){var n=null;if(e.g==t){Yu(e),Om(e),e.g=null;var i=2}else if(Nd(e.h,t))n=t.D,Pk(e.h,t),i=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=Pc(),yt(i,new pk(i,n)),Bc(e)}else $k(e);else if(r=t.o,r==3||r==0&&0<e.pa||!(i==1&&mD(e,t)||i==2&&Mm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:kr(e,5);break;case 4:kr(e,10);break;case 3:kr(e,6);break;default:kr(e,2)}}}function Yk(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function kr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var i=Pt(e.kb,e);n||(n=new Er("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||ju(n,"https"),Oc(n)),cD(n.toString(),i)}else zt(2);e.G=0,e.l&&e.l.va(t),Wk(e),zk(e)}G.kb=function(e){e?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Wk(e){if(e.G=0,e.la=[],e.l){const t=Dk(e.h);(t.length!=0||e.i.length!=0)&&(cv(e.la,t),cv(e.la,e.i),e.h.i.length=0,mm(e.i),e.i.length=0),e.l.ua()}}function Vk(e,t,n){var i=n instanceof Er?gi(n):new Er(n,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),Hu(i,i.m);else{var r=ae.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Er(null,void 0);i&&ju(s,i),t&&(s.g=t),r&&Hu(s,r),n&&(s.l=n),i=s}return n=e.D,t=e.za,n&&t&&$e(i,n,t),$e(i,"VER",e.ma),Ka(e,i),i}function Gk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new qe(new Ga({jb:!0})):new qe(e.ra),t.Ka(e.H),t}function qk(){}G=qk.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Ra=function(){};function Wu(){if(Ns&&!(10<=Number(RP)))throw Error("Environmental error: no available transport.")}Wu.prototype.g=function(e,t){return new ln(e,t)};function ln(e,t){ft.call(this),this.g=new Bk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!zu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zu(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Qs(this)}wt(ln,ft);ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;zt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Vk(e,null,e.V),Bc(e)};ln.prototype.close=function(){Rm(this.g)};ln.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=bm(e),e=n);t.i.push(new oD(t.ab++,e)),t.G==3&&Bc(t)};ln.prototype.M=function(){this.g.l=null,delete this.j,Rm(this.g),delete this.g,ln.X.M.call(this)};function Kk(e){Tm.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}wt(Kk,Tm);function Qk(){Em.call(this),this.status=1}wt(Qk,Em);function Qs(e){this.g=e}wt(Qs,qk);Qs.prototype.xa=function(){yt(this.g,"a")};Qs.prototype.wa=function(e){yt(this.g,new Kk(e))};Qs.prototype.va=function(e){yt(this.g,new Qk)};Qs.prototype.ua=function(){yt(this.g,"b")};Wu.prototype.createWebChannel=Wu.prototype.g;ln.prototype.send=ln.prototype.u;ln.prototype.open=ln.prototype.m;ln.prototype.close=ln.prototype.close;Dc.NO_ERROR=0;Dc.TIMEOUT=8;Dc.HTTP_ERROR=6;mk.COMPLETE="complete";gk.EventType=Ya;Ya.OPEN="a";Ya.CLOSE="b";Ya.ERROR="c";Ya.MESSAGE="d";ft.prototype.listen=ft.prototype.N;qe.prototype.listenOnce=qe.prototype.O;qe.prototype.getLastError=qe.prototype.Oa;qe.prototype.getLastErrorCode=qe.prototype.Ea;qe.prototype.getStatus=qe.prototype.aa;qe.prototype.getResponseJson=qe.prototype.Sa;qe.prototype.getResponseText=qe.prototype.fa;qe.prototype.send=qe.prototype.da;qe.prototype.setWithCredentials=qe.prototype.Ka;var gD=function(){return new Wu},yD=function(){return Pc()},af=Dc,vD=mk,wD=jr,bv={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xD=Ga,Ml=gk,_D=qe;const kv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new hm("@firebase/firestore");function Sv(){return Fr.logLevel}function J(e,...t){if(Fr.logLevel<=Se.DEBUG){const n=t.map(Lm);Fr.debug(`Firestore (${Js}): ${e}`,...n)}}function yi(e,...t){if(Fr.logLevel<=Se.ERROR){const n=t.map(Lm);Fr.error(`Firestore (${Js}): ${e}`,...n)}}function Fd(e,...t){if(Fr.logLevel<=Se.WARN){const n=t.map(Lm);Fr.warn(`Firestore (${Js}): ${e}`,...n)}}function Lm(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e="Unexpected state"){const t=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+e;throw yi(t),new Error(t)}function Me(e,t){e||oe()}function ce(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class kD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SD{constructor(t){this.t=t,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zi,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me(typeof i.accessToken=="string"),new Jk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string"),new Tt(t)}}class CD{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Me(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class TD{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new CD(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ED{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ID{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const i=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Me(typeof n.token=="string"),this.A=n.token,new ED(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=AD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function Te(e,t){return e<t?-1:e>t?1:0}function Fs(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ot.fromMillis(Date.now())}static fromDate(t){return ot.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new ot(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Te(this.nanoseconds,t.nanoseconds):Te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ue(t)}static min(){return new ue(new ot(0,0))}static max(){return new ue(new ot(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n,i){n===void 0?n=0:n>t.length&&oe(),i===void 0?i=t.length-n:i>t.length-n&&oe(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return _a.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _a?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class je extends _a{construct(t,n,i){return new je(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ee(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new je(n)}static emptyPath(){return new je([])}}const PD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends _a{construct(t,n,i){return new At(t,n,i)}static isValidIdentifier(t){return PD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new ee(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ee(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(je.fromString(t))}static fromName(t){return new Z(je.fromString(t).popFirst(5))}static empty(){return new Z(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return je.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new je(t.slice()))}}function DD(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new ir(r,Z.empty(),t)}function RD(e){return new ir(e.readTime,e.key,-1)}class ir{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ir(ue.min(),Z.empty(),-1)}static max(){return new ir(ue.max(),Z.empty(),-1)}}function MD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Te(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==OD)throw e;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,i)=>{n(t)})}static reject(t){return new $((n,i)=>{i(t)})}static waitFor(t){return new $((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=$.resolve(!1);for(const i of t)n=n.next(r=>r?$.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new $((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new $((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function Ja(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Nm.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,i,r,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ba{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ba&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e){return e==null}function Vu(e){return e===0&&1/e==-1/0}function FD(e){return typeof e=="number"&&Number.isInteger(e)&&!Vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Ot(n)}static fromUint8Array(t){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ot(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(e){if(Me(!!e),typeof e=="string"){let t=0;const n=BD.exec(e);if(Me(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:et(e.seconds),nanos:et(e.nanos)}}function et(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Bs(e){return typeof e=="string"?Ot.fromBase64String(e):Ot.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function t0(e){const t=e.mapValue.fields.__previous_value__;return e0(t)?t0(t):t}function ka(e){const t=rr(e.mapValue.fields.__local_write_time__.timestampValue);return new ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Br(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?e0(e)?4:zD(e)?9007199254740991:10:oe()}function qn(e,t){if(e===t)return!0;const n=Br(e);if(n!==Br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ka(e).isEqual(ka(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=rr(i.timestampValue),o=rr(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return Bs(i.bytesValue).isEqual(Bs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return et(i.geoPointValue.latitude)===et(r.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return et(i.integerValue)===et(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=et(i.doubleValue),o=et(r.doubleValue);return s===o?Vu(s)===Vu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Fs(e.arrayValue.values||[],t.arrayValue.values||[],qn);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(Cv(s)!==Cv(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!qn(s[a],o[a])))return!1;return!0}(e,t);default:return oe()}}function Sa(e,t){return(e.values||[]).find(n=>qn(n,t))!==void 0}function zs(e,t){if(e===t)return 0;const n=Br(e),i=Br(t);if(n!==i)return Te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=et(r.integerValue||r.doubleValue),a=et(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Tv(e.timestampValue,t.timestampValue);case 4:return Tv(ka(e),ka(t));case 5:return Te(e.stringValue,t.stringValue);case 6:return function(r,s){const o=Bs(r),a=Bs(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Te(o[l],a[l]);if(u!==0)return u}return Te(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=Te(et(r.latitude),et(s.latitude));return o!==0?o:Te(et(r.longitude),et(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=zs(o[l],a[l]);if(u)return u}return Te(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Ol.mapValue&&s===Ol.mapValue)return 0;if(r===Ol.mapValue)return 1;if(s===Ol.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Te(a[c],u[c]);if(h!==0)return h;const f=zs(o[a[c]],l[u[c]]);if(f!==0)return f}return Te(a.length,u.length)}(e.mapValue,t.mapValue);default:throw oe()}}function Tv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Te(e,t);const n=rr(e),i=rr(t),r=Te(n.seconds,i.seconds);return r!==0?r:Te(n.nanos,i.nanos)}function Us(e){return Bd(e)}function Bd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Z.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Bd(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Bd(i.fields[a])}`;return s+"}"}(e.mapValue):oe();var t,n}function zd(e){return!!e&&"integerValue"in e}function Fm(e){return!!e&&"arrayValue"in e}function Ev(e){return!!e&&"nullValue"in e}function Iv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zl(e){return!!e&&"mapValue"in e}function $o(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=$o(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$o(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n){this.position=t,this.inclusive=n}}function Av(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=zs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{}class rt extends n0{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new $D(t,n,i):n==="array-contains"?new YD(t,i):n==="in"?new WD(t,i):n==="not-in"?new VD(t,i):n==="array-contains-any"?new GD(t,i):new rt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new jD(t,i):new HD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kn extends n0{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new Kn(t,n)}matches(t){return i0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function i0(e){return e.op==="and"}function r0(e){return UD(e)&&i0(e)}function UD(e){for(const t of e.filters)if(t instanceof Kn)return!1;return!0}function Ud(e){if(e instanceof rt)return e.field.canonicalString()+e.op.toString()+Us(e.value);if(r0(e))return e.filters.map(t=>Ud(t)).join(",");{const t=e.filters.map(n=>Ud(n)).join(",");return`${e.op}(${t})`}}function s0(e,t){return e instanceof rt?function(n,i){return i instanceof rt&&n.op===i.op&&n.field.isEqual(i.field)&&qn(n.value,i.value)}(e,t):e instanceof Kn?function(n,i){return i instanceof Kn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,o)=>r&&s0(s,i.filters[o]),!0):!1}(e,t):void oe()}function o0(e){return e instanceof rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`}(e):e instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(o0).join(" ,")+"}"}(e):"Filter"}class $D extends rt{constructor(t,n,i){super(t,n,i),this.key=Z.fromName(i.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class jD extends rt{constructor(t,n){super(t,"in",n),this.keys=a0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class HD extends rt{constructor(t,n){super(t,"not-in",n),this.keys=a0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function a0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class YD extends rt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fm(n)&&Sa(n.arrayValue,this.value)}}class WD extends rt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sa(this.value.arrayValue,n)}}class VD extends rt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Sa(this.value.arrayValue,n)}}class GD extends rt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,n="asc"){this.field=t,this.dir=n}}function qD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t,n){this.comparator=t,this.root=n||mt.EMPTY}insert(t,n){return new lt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(t){return new lt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ll(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ll(this.root,t,this.comparator,!0)}}class Ll{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mt{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??mt.RED,this.left=r??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new mt(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return mt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const t=this.left.check();if(t!==this.right.check())throw oe();return t+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,t,n,i,r){return this}insert(e,t,n){return new mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.comparator=t,this.data=new lt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof at)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new at(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(At.comparator)}static empty(){return new In([])}unionWith(t){let n=new at(At.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Zl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=$o(n)}setAll(t){let n=At.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=$o(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Zl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Xs(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new mn($o(this.value))}}function l0(e){const t=[];return Xs(e.fields,(n,i)=>{const r=new At([n]);if(Zl(i)){const s=l0(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new It(t,0,ue.min(),ue.min(),ue.min(),mn.empty(),0)}static newFoundDocument(t,n,i,r){return new It(t,1,n,ue.min(),i,r,0)}static newNoDocument(t,n){return new It(t,2,n,ue.min(),ue.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new It(t,3,n,ue.min(),ue.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof It&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Rv(e,t=null,n=[],i=[],r=null,s=null,o=null){return new KD(e,t,n,i,r,s,o)}function Bm(e){const t=ce(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ud(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Us(i)).join(",")),t.ft=n}return t.ft}function zm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!s0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pv(e.startAt,t.startAt)&&Pv(e.endAt,t.endAt)}function $d(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function QD(e,t,n,i,r,s,o,a){return new Uc(e,t,n,i,r,s,o,a)}function Um(e){return new Uc(e)}function Mv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function JD(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function XD(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function ZD(e){return e.collectionGroup!==null}function bs(e){const t=ce(e);if(t.dt===null){t.dt=[];const n=XD(t),i=JD(t);if(n!==null&&i===null)n.isKeyField()||t.dt.push(new jo(n)),t.dt.push(new jo(At.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new jo(At.keyField(),s))}}}return t.dt}function vi(e){const t=ce(e);if(!t._t)if(t.limitType==="F")t._t=Rv(t.path,t.collectionGroup,bs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of bs(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new jo(s.field,o))}const i=t.endAt?new Gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gu(t.startAt.position,t.startAt.inclusive):null;t._t=Rv(t.path,t.collectionGroup,n,t.filters,t.limit,i,r)}return t._t}function jd(e,t,n){return new Uc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $c(e,t){return zm(vi(e),vi(t))&&e.limitType===t.limitType}function u0(e){return`${Bm(vi(e))}|lt:${e.limitType}`}function Hd(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>o0(i)).join(", ")}]`),zc(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Us(i)).join(",")),`Target(${n})`}(vi(e))}; limitType=${e.limitType})`}function $m(e,t){return t.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(const r of bs(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(r,s,o){const a=Av(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,bs(n),i)||n.endAt&&!function(r,s,o){const a=Av(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,bs(n),i))}(e,t)}function eR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function c0(e){return(t,n)=>{let i=!1;for(const r of bs(e)){const s=tR(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function tR(e,t,n){const i=e.field.isKeyField()?Z.comparator(t.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?zs(a,l):oe()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function f0(e){return{integerValue:""+e}}function nR(e,t){return FD(t)?f0(t):h0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function iR(e,t,n){return e instanceof qu?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Ca?p0(e,t):e instanceof Ta?m0(e,t):function(i,r){const s=d0(i,r),o=Ov(s)+Ov(i.gt);return zd(s)&&zd(i.gt)?f0(o):h0(i.yt,o)}(e,t)}function rR(e,t,n){return e instanceof Ca?p0(e,t):e instanceof Ta?m0(e,t):n}function d0(e,t){return e instanceof Ku?zd(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}class qu extends jc{}class Ca extends jc{constructor(t){super(),this.elements=t}}function p0(e,t){const n=g0(t);for(const i of e.elements)n.some(r=>qn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ta extends jc{constructor(t){super(),this.elements=t}}function m0(e,t){let n=g0(t);for(const i of e.elements)n=n.filter(r=>!qn(r,i));return{arrayValue:{values:n}}}class Ku extends jc{constructor(t,n){super(),this.yt=t,this.gt=n}}function Ov(e){return et(e.integerValue||e.doubleValue)}function g0(e){return Fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function sR(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Ca&&i instanceof Ca||n instanceof Ta&&i instanceof Ta?Fs(n.elements,i.elements,qn):n instanceof Ku&&i instanceof Ku?qn(n.gt,i.gt):n instanceof qu&&i instanceof qu}(e.transform,t.transform)}class oR{constructor(t,n){this.version=t,this.transformResults=n}}class Hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function eu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Hc{}function y0(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new jm(e.key,Hn.none()):new Xa(e.key,e.data,Hn.none());{const n=e.data,i=mn.empty();let r=new at(At.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Hr(e.key,i,new In(r.toArray()),Hn.none())}}function aR(e,t,n){e instanceof Xa?function(i,r,s){const o=i.value.clone(),a=Nv(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Hr?function(i,r,s){if(!eu(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Nv(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(v0(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ho(e,t,n,i){return e instanceof Xa?function(r,s,o,a){if(!eu(r.precondition,s))return o;const l=r.value.clone(),u=Fv(r.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hr?function(r,s,o,a){if(!eu(r.precondition,s))return o;const l=Fv(r.fieldTransforms,a,s),u=s.data;return u.setAll(v0(r)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(e,t,n,i):function(r,s,o){return eu(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function lR(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=d0(i.transform,r||null);s!=null&&(n===null&&(n=mn.empty()),n.set(i.field,s))}return n||null}function Lv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Fs(n,i,(r,s)=>sR(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xa extends Hc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hr extends Hc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v0(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Nv(e,t,n){const i=new Map;Me(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,rR(o,a,n[r]))}return i}function Fv(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,iR(s,o,t))}return i}class jm extends Hc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends Hc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,we;function hR(e){switch(e){default:return oe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function w0(e){if(e===void 0)return yi("GRPC error has no .code"),U.UNKNOWN;switch(e){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return oe()}}(we=Qe||(Qe={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new lt(Z.comparator);function wi(){return fR}const x0=new lt(Z.comparator);function Io(...e){let t=x0;for(const n of e)t=t.insert(n.key,n);return t}function _0(e){let t=x0;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Sr(){return Yo()}function b0(){return Yo()}function Yo(){return new Zs(e=>e.toString(),(e,t)=>e.isEqual(t))}const dR=new lt(Z.comparator),pR=new at(Z.comparator);function ye(...e){let t=pR;for(const n of e)t=t.add(n);return t}const mR=new at(Te);function k0(){return mR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Za.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Yc(ue.min(),r,k0(),wi(),ye())}}class Za{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Za(i,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,n,i,r){this.It=t,this.removedTargetIds=n,this.key=i,this.Tt=r}}class S0{constructor(t,n){this.targetId=t,this.Et=n}}class C0{constructor(t,n,i=Ot.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Bv{constructor(){this.At=0,this.Rt=Uv(),this.bt=Ot.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=ye(),n=ye(),i=ye();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new Za(this.bt,this.Pt,t,n,i)}xt(){this.vt=!1,this.Rt=Uv()}Nt(t,n){this.vt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class gR{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=wi(),this.qt=zv(),this.Ut=new at(Te)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}jt(t){this.forEachTarget(t,n=>{const i=this.Wt(n);switch(t.state){case 0:this.zt(n)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),i.Dt(t.resumeToken));break;default:oe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((i,r)=>{this.zt(r)&&n(r)})}Jt(t){const n=t.targetId,i=t.Et.count,r=this.Yt(n);if(r){const s=r.target;if($d(s))if(i===0){const o=new Z(s.path);this.Qt(n,o,It.newNoDocument(o,ue.min()))}else Me(i===1);else this.Xt(n)!==i&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&$d(a.target)){const l=new Z(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,It.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let i=ye();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const r=new Yc(t,n,this.Ut,this.Lt,i);return this.Lt=wi(),this.qt=zv(),this.Ut=new at(Te),r}Gt(t,n){if(!this.zt(t))return;const i=this.te(t,n.key)?2:0;this.Wt(t).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const n=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let n=this.Bt.get(t);return n||(n=new Bv,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new at(Te),this.qt=this.qt.insert(t,n)),n}zt(t){const n=this.Yt(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new Bv),this.$t.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.$t.getRemoteKeysForTarget(t).has(n)}}function zv(){return new lt(Z.comparator)}function Uv(){return new lt(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wR=(()=>({and:"AND",or:"OR"}))();class xR{constructor(t,n){this.databaseId=t,this.wt=n}}function Qu(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T0(e,t){return e.wt?t.toBase64():t.toUint8Array()}function _R(e,t){return Qu(e,t.toTimestamp())}function Yn(e){return Me(!!e),ue.fromTimestamp(function(t){const n=rr(t);return new ot(n.seconds,n.nanos)}(e))}function Hm(e,t){return function(n){return new je(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function E0(e){const t=je.fromString(e);return Me(D0(t)),t}function Yd(e,t){return Hm(e.databaseId,t.path)}function lf(e,t){const n=E0(t);if(n.get(1)!==e.databaseId.projectId)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(I0(n))}function Wd(e,t){return Hm(e.databaseId,t)}function bR(e){const t=E0(e);return t.length===4?je.emptyPath():I0(t)}function Vd(e){return new je(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function I0(e){return Me(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $v(e,t,n){return{name:Yd(e,t),fields:n.value.mapValue.fields}}function kR(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(l,u){return l.wt?(Me(u===void 0||typeof u=="string"),Ot.fromBase64String(u||"")):(Me(u===void 0||u instanceof Uint8Array),Ot.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?U.UNKNOWN:w0(l.code);return new ee(u,l.message||"")}(o);n=new C0(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=lf(e,i.document.name),s=Yn(i.document.updateTime),o=i.document.createTime?Yn(i.document.createTime):ue.min(),a=new mn({mapValue:{fields:i.document.fields}}),l=It.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new tu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=lf(e,i.document),s=i.readTime?Yn(i.readTime):ue.min(),o=It.newNoDocument(r,s),a=i.removedTargetIds||[];n=new tu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=lf(e,i.document),s=i.removedTargetIds||[];n=new tu([],s,r,null)}else{if(!("filter"in t))return oe();{t.filter;const i=t.filter;i.targetId;const r=i.count||0,s=new cR(r),o=i.targetId;n=new S0(o,s)}}return n}function SR(e,t){let n;if(t instanceof Xa)n={update:$v(e,t.key,t.value)};else if(t instanceof jm)n={delete:Yd(e,t.key)};else if(t instanceof Hr)n={update:$v(e,t.key,t.data),updateMask:MR(t.fieldMask)};else{if(!(t instanceof uR))return oe();n={verify:Yd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof qu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ku)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw oe()}(0,i))),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:_R(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:oe()}(e,t.precondition)),n}function CR(e,t){return e&&e.length>0?(Me(t!==void 0),e.map(n=>function(i,r){let s=i.updateTime?Yn(i.updateTime):Yn(r);return s.isEqual(ue.min())&&(s=Yn(r)),new oR(s,i.transformResults||[])}(n,t))):[]}function TR(e,t){return{documents:[Wd(e,t.path)]}}function ER(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Wd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return P0(Kn.create(l,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Xr(c.field),direction:PR(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||zc(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function IR(e){let t=bR(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Me(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=A0(c);return h instanceof Kn&&r0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new jo(Zr(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,zc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new Gu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new Gu(f,h)}(n.endAt)),QD(t,r,o,s,a,"F",l,u)}function AR(e,t){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function A0(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Zr(t.unaryFilter.field);return rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Zr(t.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zr(t.unaryFilter.field);return rt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zr(t.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(e):e.fieldFilter!==void 0?function(t){return rt.create(Zr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Kn.create(t.compositeFilter.filters.map(n=>A0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return oe()}}(t.compositeFilter.op))}(e):oe()}function PR(e){return yR[e]}function DR(e){return vR[e]}function RR(e){return wR[e]}function Xr(e){return{fieldPath:e.canonicalString()}}function Zr(e){return At.fromServerFormat(e.fieldPath)}function P0(e){return e instanceof rt?function(t){if(t.op==="=="){if(Iv(t.value))return{unaryFilter:{field:Xr(t.field),op:"IS_NAN"}};if(Ev(t.value))return{unaryFilter:{field:Xr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Iv(t.value))return{unaryFilter:{field:Xr(t.field),op:"IS_NOT_NAN"}};if(Ev(t.value))return{unaryFilter:{field:Xr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(t.field),op:DR(t.op),value:t.value}}}(e):e instanceof Kn?function(t){const n=t.getFilters().map(i=>P0(i));return n.length===1?n[0]:{compositeFilter:{op:RR(t.op),filters:n}}}(e):oe()}function MR(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function D0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&aR(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ho(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ho(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=b0();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=y0(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ye())}isEqual(t){return this.batchId===t.batchId&&Fs(this.mutations,t.mutations,(n,i)=>Lv(n,i))&&Fs(this.baseMutations,t.baseMutations,(n,i)=>Lv(n,i))}}class Ym{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Me(t.mutations.length===i.length);let r=dR;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Ym(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,i,r,s=ue.min(),o=ue.min(),a=Ot.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.ie=t}}function FR(e){const t=IR({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Je=new zR}addToCollectionParentIndex(t,n){return this.Je.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Je.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(ir.min())}updateCollectionGroup(t,n,i){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class zR{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new at(je.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new at(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new $s(0)}static vn(){return new $s(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.changes=new Zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,It.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?$.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ho(i.mutation,r,In.empty(),ot.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ye()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ye()){const r=Sr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Io();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Sr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ye()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=wi();const o=Yo(),a=Yo();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Hr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ho(c.mutation,u,c.mutation.getFieldMask(),ot.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new $R(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Yo();let r=new lt((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||In.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||ye()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=b0();c.forEach(f=>{if(!s.has(f)){const d=y0(n.get(f),i.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ZD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):$.resolve(Sr());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ye())).next(c=>({batchId:a,changes:_0(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(i=>{let r=Io();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const r=n.collectionGroup;let s=Io();return this.indexManager.getCollectionParents(t,r).next(o=>$.forEach(o,a=>{const l=function(u,c){return new Uc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();r.get(u)===null&&(r=r.insert(u,It.newInvalidDocument(u)))});let o=Io();return r.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ho(u.mutation,l,In.empty(),ot.now()),$m(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,n){return $.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Yn(i.createTime)}),$.resolve()}getNamedQuery(t,n){return $.resolve(this.ts.get(n))}saveNamedQuery(t,n){return this.ts.set(n.name,function(i){return{name:i.name,query:FR(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.overlays=new lt(Z.comparator),this.es=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Sr();return $.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.oe(t,n,s)}),$.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),$.resolve()}getOverlaysForCollection(t,n,i){const r=Sr(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new lt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Sr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Sr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return $.resolve(a)}oe(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new LR(n,i));let s=this.es.get(n);s===void 0&&(s=ye(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.ns=new at(ut.ss),this.rs=new at(ut.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,n){const i=new ut(t,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.cs(new ut(t,n))}hs(t,n){t.forEach(i=>this.removeReference(i,n))}ls(t){const n=new Z(new je([])),i=new ut(n,t),r=new ut(n,t+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const n=new Z(new je([])),i=new ut(n,t),r=new ut(n,t+1);let s=ye();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ut(t,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ut{constructor(t,n){this.key=t,this._s=n}static ss(t,n){return Z.comparator(t.key,n.key)||Te(t._s,n._s)}static os(t,n){return Te(t._s,n._s)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new at(ut.ss)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OR(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,n){return $.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ut(n,0),r=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new at(Te);return n.forEach(r=>{const s=new ut(r,0),o=new ut(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),$.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Z.isDocumentKey(s)||(s=s.child(""));const o=new ut(new Z(s),0);let a=new at(Te);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l._s)),!0)},o),$.resolve(this.Is(a))}Is(t){const n=[];return t.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Me(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return $.forEach(n.mutations,r=>{const s=new ut(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,n){const i=new ut(n,0),r=this.gs.firstAfterOrEqual(i);return $.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Ts(t,n){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const n=this.ps(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.Es=t,this.docs=new lt(Z.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return $.resolve(i?i.document.mutableCopy():It.newInvalidDocument(n))}getEntries(t,n){let i=wi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():It.newInvalidDocument(r))}),$.resolve(i)}getAllFromCollection(t,n,i){let r=wi();const s=new Z(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||MD(RD(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return $.resolve(r)}getAllFromCollectionGroup(t,n,i,r){oe()}As(t,n){return $.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new GR(this)}getSize(t){return $.resolve(this.size)}}class GR extends UR{constructor(t){super(),this.Yn=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),$.waitFor(n)}getFromCache(t,n){return this.Yn.getEntry(t,n)}getAllFromCache(t,n){return this.Yn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.persistence=t,this.Rs=new Zs(n=>Bm(n),zm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wm,this.targetCount=0,this.vs=$s.Pn()}forEachTarget(t,n){return this.Rs.forEach((i,r)=>n(r)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),$.resolve()}Dn(t){this.Rs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.vs=new $s(n),this.highestTargetId=n),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,n){return this.Dn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Dn(n),$.resolve()}removeTargetData(t,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const i=this.Rs.get(n)||null;return $.resolve(i)}addMatchingKeys(t,n,i){return this.Ps.us(n,i),$.resolve()}removeMatchingKeys(t,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Ps.ls(n),$.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ps.ds(n);return $.resolve(i)}containsKey(t,n){return $.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.Vs={},this.overlays={},this.Ss=new Nm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new qR(this),this.indexManager=new BR,this.remoteDocumentCache=function(i){return new VR(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new NR(n),this.Ns=new HR(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Vs[t.toKey()];return i||(i=new WR(n,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,n,i){J("MemoryPersistence","Starting transaction:",t);const r=new QR(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,n){return $.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,n)))}}class QR extends LD{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Fs=new Wm,this.$s=null}static Bs(t){return new Vm(t)}get Ls(){if(this.$s)return this.$s;throw oe()}addReference(t,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),$.resolve()}removeReference(t,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.Ls.add(n.toString()),$.resolve()}removeTarget(t,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}ks(){this.$s=new Set}Os(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ls,i=>{const r=Z.fromPath(i);return this.qs(t,r).next(s=>{s||n.removeEntry(r,ue.min())})}).next(()=>(this.$s=null,n.apply(t)))}updateLimboDocument(t,n){return this.qs(t,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(t){return 0}qs(t,n){return $.or([()=>$.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ms(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Si=i,this.Di=r}static Ci(t,n){let i=ye(),r=ye();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Gm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.xi=!1}initialize(t,n){this.Ni=t,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(t,n,i,r){return this.ki(t,n).next(s=>s||this.Oi(t,n,r,i)).next(s=>s||this.Mi(t,n))}ki(t,n){if(Mv(n))return $.resolve(null);let i=vi(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=jd(n,null,"F"),i=vi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=ye(...s);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(t,jd(n,null,"F")):this.Bi(t,u,n,l)}))})))}Oi(t,n,i,r){return Mv(n)||r.isEqual(ue.min())?this.Mi(t,n):this.Ni.getDocuments(t,i).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,i,r)?this.Mi(t,n):(Sv()<=Se.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hd(n)),this.Bi(t,o,n,DD(r,-1)))})}Fi(t,n){let i=new at(c0(t));return n.forEach((r,s)=>{$m(t,s)&&(i=i.add(s))}),i}$i(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,n){return Sv()<=Se.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Hd(n)),this.Ni.getDocumentsMatchingQuery(t,n,ir.min())}Bi(t,n,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n,i,r){this.persistence=t,this.Li=n,this.yt=r,this.qi=new lt(Te),this.Ui=new Zs(s=>Bm(s),zm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.qi))}}function ZR(e,t,n,i){return new XR(e,t,n,i)}async function R0(e,t){const n=ce(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ye();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function eM(e,t){const n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=$.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(v=>{const g=l.docVersions.get(d);Me(g!==null),v.version.compareTo(g)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=ye();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function M0(e){const t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Cs.getLastRemoteSnapshotVersion(n))}function tM(e,t){const n=ce(e),i=t.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];t.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?d=d.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(h,d),function(v,g,S){return v.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,d,c)&&a.push(n.Cs.updateTargetData(s,d))});let l=wi(),u=ye();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(nM(s,o,t.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!i.isEqual(ue.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=r,s))}function nM(e,t,n){let i=ye(),r=ye();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=wi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function iM(e,t){const n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rM(e,t){const n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,t).next(s=>s?(r=s,$.resolve(r)):n.Cs.allocateTargetId(i).next(o=>(r=new Ir(t,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.qi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(i.targetId,i),n.Ui.set(t,i.targetId)),i})}async function Gd(e,t,n){const i=ce(e),r=i.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ja(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}function jv(e,t,n){const i=ce(e);let r=ue.min(),s=ye();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ce(a),h=c.Ui.get(u);return h!==void 0?$.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(i,o,vi(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,t,n?r:ue.min(),n?s:ye())).next(a=>(sM(i,eR(t),a),{documents:a,Hi:s})))}function sM(e,t,n){let i=e.Ki.get(t)||ue.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ki.set(t,i)}class Hv{constructor(){this.activeTargetIds=k0()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oM{constructor(){this.Lr=new Hv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,n,i){this.qr[t]=n}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Hv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{Ur(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,n,i,r,s){const o=this.ho(t,n);J("RestConnection","Sending: ",o,i);const a={};return this.lo(a,r,s),this.fo(t,o,a,i).then(l=>(J("RestConnection","Received: ",l),l),l=>{throw Fd("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",i),l})}_o(t,n,i,r,s,o){return this.ao(t,n,i,r,s)}lo(t,n,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Js,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,n){const i=lM[t];return`${this.oo}/v1/${n}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,n,i,r){return new Promise((s,o)=>{const a=new _D;a.setWithCredentials(!0),a.listenOnce(vD.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case af.NO_ERROR:const u=a.getResponseJson();J("Connection","XHR received:",JSON.stringify(u)),s(u);break;case af.TIMEOUT:J("Connection",'RPC "'+t+'" timed out'),o(new ee(U.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const c=a.getStatus();if(J("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const d=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(g)>=0?g:U.UNKNOWN}(f.status);o(new ee(d,f.message))}else o(new ee(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ee(U.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{J("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,i,15)})}wo(t,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=gD(),o=yD(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new xD({})),this.lo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const l=r.join("");J("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const f=new uM({Hr:v=>{h?J("Connection","Not sending because WebChannel is closed:",v):(c||(J("Connection","Opening WebChannel transport."),u.open(),c=!0),J("Connection","WebChannel sending:",v),u.send(v))},Jr:()=>u.close()}),d=(v,g,S)=>{v.listen(g,p=>{try{S(p)}catch(m){setTimeout(()=>{throw m},0)}})};return d(u,Ml.EventType.OPEN,()=>{h||J("Connection","WebChannel transport opened.")}),d(u,Ml.EventType.CLOSE,()=>{h||(h=!0,J("Connection","WebChannel transport closed"),f.io())}),d(u,Ml.EventType.ERROR,v=>{h||(h=!0,Fd("Connection","WebChannel transport errored:",v),f.io(new ee(U.UNAVAILABLE,"The operation could not be completed")))}),d(u,Ml.EventType.MESSAGE,v=>{var g;if(!h){const S=v.data[0];Me(!!S);const p=S,m=p.error||((g=p[0])===null||g===void 0?void 0:g.error);if(m){J("Connection","WebChannel received error:",m);const y=m.status;let C=function(k){const P=Qe[k];if(P!==void 0)return w0(P)}(y),E=m.message;C===void 0&&(C=U.INTERNAL,E="Unknown error status: "+y+" with message "+m.message),h=!0,f.io(new ee(C,E)),u.close()}else J("Connection","WebChannel received:",S),f.ro(S)}}),d(o,wD.STAT_EVENT,v=>{v.stat===bv.PROXY?J("Connection","Detected buffering proxy"):v.stat===bv.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e){return new xR(e,!0)}class O0{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=n,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-i);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n,i,r,s,o,a,l){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new O0(t,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{t(()=>{const r=new ee(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,n){const i=this.Ko(this.So);this.stream=this.jo(t,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(t){return J("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return n=>{this.Hs.enqueueAndForget(()=>this.So===t?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hM extends L0{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.yt=s}jo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.xo.reset();const n=kR(this.yt,t),i=function(r){if(!("targetChange"in r))return ue.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Yn(s.readTime):ue.min()}(t);return this.listener.Wo(n,i)}zo(t){const n={};n.database=Vd(this.yt),n.addTarget=function(r,s){let o;const a=s.target;return o=$d(a)?{documents:TR(r,a)}:{query:ER(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=T0(r,s.resumeToken):s.snapshotVersion.compareTo(ue.min())>0&&(o.readTime=Qu(r,s.snapshotVersion.toTimestamp())),o}(this.yt,t);const i=AR(this.yt,t);i&&(n.labels=i),this.Bo(n)}Ho(t){const n={};n.database=Vd(this.yt),n.removeTarget=t,this.Bo(n)}}class fM extends L0{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Me(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const n=CR(t.writeResults,t.commitTime),i=Yn(t.commitTime);return this.listener.Zo(i,n)}return Me(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Vd(this.yt),this.Bo(t)}Xo(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>SR(this.yt,i))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ee(U.UNKNOWN,r.toString())})}_o(t,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(t,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(U.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class pM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yi(n),this.ou=!1):J("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{i.enqueueAndForget(async()=>{Yr(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ce(a);l._u.add(4),await el(l),l.gu.set("Unknown"),l._u.delete(4),await Vc(l)}(this))})}),this.gu=new pM(i,r)}}async function Vc(e){if(Yr(e))for(const t of e.wu)await t(!0)}async function el(e){for(const t of e.wu)await t(!1)}function N0(e,t){const n=ce(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Qm(n)?Km(n):eo(n).ko()&&qm(n,t))}function F0(e,t){const n=ce(e),i=eo(n);n.du.delete(t),i.ko()&&B0(n,t),n.du.size===0&&(i.ko()?i.Fo():Yr(n)&&n.gu.set("Unknown"))}function qm(e,t){e.yu.Ot(t.targetId),eo(e).zo(t)}function B0(e,t){e.yu.Ot(t),eo(e).Ho(t)}function Km(e){e.yu=new gR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),eo(e).start(),e.gu.uu()}function Qm(e){return Yr(e)&&!eo(e).No()&&e.du.size>0}function Yr(e){return ce(e)._u.size===0}function z0(e){e.yu=void 0}async function gM(e){e.du.forEach((t,n)=>{qm(e,t)})}async function yM(e,t){z0(e),Qm(e)?(e.gu.hu(t),Km(e)):e.gu.set("Unknown")}async function vM(e,t,n){if(e.gu.set("Online"),t instanceof C0&&t.state===2&&t.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(e,t)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ju(e,i)}else if(t instanceof tu?e.yu.Kt(t):t instanceof S0?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(ue.min()))try{const i=await M0(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.du.get(l);u&&r.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Ot.EMPTY_BYTE_STRING,l.snapshotVersion)),B0(r,a);const u=new Ir(l.target,a,1,l.sequenceNumber);qm(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){J("RemoteStore","Failed to raise snapshot:",i),await Ju(e,i)}}async function Ju(e,t,n){if(!Ja(t))throw t;e._u.add(1),await el(e),e.gu.set("Offline"),n||(n=()=>M0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await Vc(e)})}function U0(e,t){return t().catch(n=>Ju(e,n,t))}async function Gc(e){const t=ce(e),n=sr(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;wM(t);)try{const r=await iM(t.localStore,i);if(r===null){t.fu.length===0&&n.Fo();break}i=r.batchId,xM(t,r)}catch(r){await Ju(t,r)}$0(t)&&j0(t)}function wM(e){return Yr(e)&&e.fu.length<10}function xM(e,t){e.fu.push(t);const n=sr(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function $0(e){return Yr(e)&&!sr(e).No()&&e.fu.length>0}function j0(e){sr(e).start()}async function _M(e){sr(e).eu()}async function bM(e){const t=sr(e);for(const n of e.fu)t.Xo(n.mutations)}async function kM(e,t,n){const i=e.fu.shift(),r=Ym.from(i,t,n);await U0(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Gc(e)}async function SM(e,t){t&&sr(e).Yo&&await async function(n,i){if(r=i.code,hR(r)&&r!==U.ABORTED){const s=n.fu.shift();sr(n).Mo(),await U0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gc(n)}var r}(e,t),$0(e)&&j0(e)}async function Wv(e,t){const n=ce(e);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const i=Yr(n);n._u.add(3),await el(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await Vc(n)}async function CM(e,t){const n=ce(e);t?(n._u.delete(2),await Vc(n)):t||(n._u.add(2),await el(n),n.gu.set("Unknown"))}function eo(e){return e.pu||(e.pu=function(t,n,i){const r=ce(t);return r.su(),new hM(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(e.datastore,e.asyncQueue,{Yr:gM.bind(null,e),Zr:yM.bind(null,e),Wo:vM.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),Qm(e)?Km(e):e.gu.set("Unknown")):(await e.pu.stop(),z0(e))})),e.pu}function sr(e){return e.Iu||(e.Iu=function(t,n,i){const r=ce(t);return r.su(),new fM(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(e.datastore,e.asyncQueue,{Yr:_M.bind(null,e),Zr:SM.bind(null,e),tu:bM.bind(null,e),Zo:kM.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await Gc(e)):(await e.Iu.stop(),e.fu.length>0&&(J("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new Jm(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(e,t){if(yi("AsyncQueue",`${t}: ${e}`),Ja(e))return new ee(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Io(),this.sortedSet=new lt(this.comparator)}static emptySet(t){return new ks(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ks)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ks;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Tu=new lt(Z.comparator)}track(t){const n=t.doc.key,i=this.Tu.get(n);i?t.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,t):t.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Tu=this.Tu.remove(n):t.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):oe():this.Tu=this.Tu.insert(n,t)}Eu(){const t=[];return this.Tu.inorderTraversal((n,i)=>{t.push(i)}),t}}class js{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new js(t,n,ks.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Au=void 0,this.listeners=[]}}class EM{constructor(){this.queries=new Zs(t=>u0(t),$c),this.onlineState="Unknown",this.Ru=new Set}}async function H0(e,t){const n=ce(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new TM),r)try{s.Au=await n.onListen(i)}catch(o){const a=Xm(o,`Initialization of query '${Hd(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&Zm(n)}async function Y0(e,t){const n=ce(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function IM(e,t){const n=ce(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&Zm(n)}function AM(e,t,n){const i=ce(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function Zm(e){e.Ru.forEach(t=>{t.next()})}class W0{constructor(t,n,i){this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new js(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),n=!0):this.Cu(t,this.onlineState)&&(this.xu(t),n=!0),this.Su=t,n}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),n=!0),n}Cu(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(t){t=js.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this.key=t}}class G0{constructor(t){this.key=t}}class PM{constructor(t,n){this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ye(),this.mutatedKeys=ye(),this.Gu=c0(t),this.Qu=new ks(this.Gu)}get ju(){return this.qu}Wu(t,n){const i=n?n.zu:new Vv,r=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,h)=>{const f=r.get(c),d=$m(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let S=!1;f&&d?f.data.isEqual(d.data)?v!==g&&(i.track({type:3,doc:d}),S=!0):this.Hu(f,d)||(i.track({type:2,doc:d}),S=!0,(l&&this.Gu(d,l)>0||u&&this.Gu(d,u)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),S=!0):f&&!d&&(i.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Qu:o,zu:i,$i:a,mutatedKeys:s}}Hu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((u,c)=>function(h,f){const d=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return d(h)-d(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(i);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new js(this.query,t.Qu,r,s,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vv,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=ye(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return t.forEach(i=>{this.Ku.has(i)||n.push(new G0(i))}),this.Ku.forEach(i=>{t.has(i)||n.push(new V0(i))}),n}tc(t){this.qu=t.Hi,this.Ku=ye();const n=this.Wu(t.documents);return this.applyChanges(n,!0)}ec(){return js.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class DM{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class RM{constructor(t){this.key=t,this.nc=!1}}class MM{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Zs(a=>u0(a),$c),this.rc=new Map,this.oc=new Set,this.uc=new lt(Z.comparator),this.cc=new Map,this.ac=new Wm,this.hc={},this.lc=new Map,this.fc=$s.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function OM(e,t){const n=YM(e);let i,r;const s=n.ic.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const o=await rM(n.localStore,vi(t));n.isPrimaryClient&&N0(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await LM(n,t,i,a==="current",o.resumeToken)}return r}async function LM(e,t,n,i,r){e._c=(h,f,d)=>async function(v,g,S,p){let m=g.view.Wu(S);m.$i&&(m=await jv(v.localStore,g.query,!1).then(({documents:E})=>g.view.Wu(E,m)));const y=p&&p.targetChanges.get(g.targetId),C=g.view.applyChanges(m,v.isPrimaryClient,y);return qv(v,g.targetId,C.Xu),C.snapshot}(e,h,f,d);const s=await jv(e.localStore,t,!0),o=new PM(t,s.Hi),a=o.Wu(s.documents),l=Za.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);qv(e,n,u.Xu);const c=new DM(t,n,o);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function NM(e,t){const n=ce(e),i=n.ic.get(t),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(s=>!$c(s,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Gd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),F0(n.remoteStore,i.targetId),qd(n,i.targetId)}).catch(Qa)):(qd(n,i.targetId),await Gd(n.localStore,i.targetId,!0))}async function FM(e,t,n){const i=WM(e);try{const r=await function(s,o){const a=ce(s),l=ot.now(),u=o.reduce((f,d)=>f.add(d.key),ye());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=wi(),v=ye();return a.Gi.getEntries(f,u).next(g=>{d=g,d.forEach((S,p)=>{p.isValidDocument()||(v=v.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(g=>{c=g;const S=[];for(const p of o){const m=lR(p,c.get(p.key).overlayedDocument);m!=null&&S.push(new Hr(p.key,m,l0(m.value.mapValue),Hn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(g=>{h=g;const S=g.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,g.batchId,S)})}).then(()=>({batchId:h.batchId,changes:_0(c)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new lt(Te)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(i,r.batchId,n),await tl(i,r.changes),await Gc(i.remoteStore)}catch(r){const s=Xm(r,"Failed to persist write");n.reject(s)}}async function q0(e,t){const n=ce(e);try{const i=await tM(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.cc.get(s);o&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?Me(o.nc):r.removedDocuments.size>0&&(Me(o.nc),o.nc=!1))}),await tl(n,i,t)}catch(i){await Qa(i)}}function Gv(e,t,n){const i=ce(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ic.forEach((s,o)=>{const a=o.view.bu(t);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=ce(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&Zm(a)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function BM(e,t,n){const i=ce(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.cc.get(t),s=r&&r.key;if(s){let o=new lt(Z.comparator);o=o.insert(s,It.newNoDocument(s,ue.min()));const a=ye().add(s),l=new Yc(ue.min(),new Map,new at(Te),o,a);await q0(i,l),i.uc=i.uc.remove(s),i.cc.delete(t),eg(i)}else await Gd(i.localStore,t,!1).then(()=>qd(i,t,n)).catch(Qa)}async function zM(e,t){const n=ce(e),i=t.batch.batchId;try{const r=await eM(n.localStore,t);Q0(n,i,null),K0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tl(n,r)}catch(r){await Qa(r)}}async function UM(e,t,n){const i=ce(e);try{const r=await function(s,o){const a=ce(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Me(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(i.localStore,t);Q0(i,t,n),K0(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await tl(i,r)}catch(r){await Qa(r)}}function K0(e,t){(e.lc.get(t)||[]).forEach(n=>{n.resolve()}),e.lc.delete(t)}function Q0(e,t,n){const i=ce(e);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function qd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.rc.get(t))e.ic.delete(i),n&&e.sc.wc(i,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(i=>{e.ac.containsKey(i)||J0(e,i)})}function J0(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);n!==null&&(F0(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),eg(e))}function qv(e,t,n){for(const i of n)i instanceof V0?(e.ac.addReference(i.key,t),$M(e,i)):i instanceof G0?(J("SyncEngine","Document no longer in limbo: "+i.key),e.ac.removeReference(i.key,t),e.ac.containsKey(i.key)||J0(e,i.key)):oe()}function $M(e,t){const n=t.key,i=n.path.canonicalString();e.uc.get(n)||e.oc.has(i)||(J("SyncEngine","New document in limbo: "+n),e.oc.add(i),eg(e))}function eg(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new Z(je.fromString(t)),i=e.fc.next();e.cc.set(i,new RM(n)),e.uc=e.uc.insert(n,i),N0(e.remoteStore,new Ir(vi(Um(n.path)),i,2,Nm.at))}}async function tl(e,t,n){const i=ce(e),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,t,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=Gm.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.sc.Wo(r),await async function(a,l){const u=ce(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>$.forEach(l,h=>$.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>$.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Ja(c))throw c;J("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.qi.get(h),d=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(d);u.qi=u.qi.insert(h,v)}}}(i.localStore,s))}async function jM(e,t){const n=ce(e);if(!n.currentUser.isEqual(t)){J("SyncEngine","User change. New user:",t.toKey());const i=await R0(n.localStore,t);n.currentUser=t,function(r,s){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new ee(U.CANCELLED,s))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await tl(n,i.ji)}}function HM(e,t){const n=ce(e),i=n.cc.get(t);if(i&&i.nc)return ye().add(i.key);{let r=ye();const s=n.rc.get(t);if(!s)return r;for(const o of s){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function YM(e){const t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=q0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BM.bind(null,t),t.sc.Wo=IM.bind(null,t.eventManager),t.sc.wc=AM.bind(null,t.eventManager),t}function WM(e){const t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UM.bind(null,t),t}class VM{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=Wc(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,n){return null}Ec(t,n){return null}Ic(t){return ZR(this.persistence,new JR,t.initialUser,this.yt)}yc(t){return new KR(Vm.Bs,this.yt)}gc(t){return new oM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GM{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Gv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),await CM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new EM}createDatastore(t){const n=Wc(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new cM(r));var r;return function(s,o,a,l){return new dM(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return n=this.localStore,i=this.datastore,r=t.asyncQueue,s=a=>Gv(this.syncEngine,a,0),o=Yv.C()?new Yv:new aM,new mM(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(t,n){return function(i,r,s,o,a,l,u){const c=new MM(i,r,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=ce(t);J("RemoteStore","RemoteStore shutting down."),n._u.add(5),await el(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(e,t,n){if(!n)throw new ee(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qM(e,t,n,i){if(t===!0&&i===!0)throw new ee(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Kv(e){if(!Z.isDocumentKey(e))throw new ee(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qv(e){if(Z.isDocumentKey(e))throw new ee(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":oe()}function hi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ee(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(e);throw new ee(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;class Xv{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ee(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ee(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ee(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new bD;switch(n.type){case"gapi":const i=n.client;return new TD(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ee(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Jv.get(t);n&&(J("ComponentProvider","Removing Datastore"),Jv.delete(t),n.terminate())}(this),Promise.resolve()}}function KM(e,t,n,i={}){var r;const s=(e=hi(e,qc))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&Fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=Tt.MOCK_USER;else{o=XI(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new ee(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(l)}e._authCredentials=new kD(new Jk(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new on(this.firestore,t,this._key)}}class nl{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new nl(this.firestore,t,this._query)}}class er extends nl{constructor(t,n,i){super(t,n,Um(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new on(this.firestore,null,new Z(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function QM(e,t,...n){if(e=$t(e),X0("collection","path",t),e instanceof qc){const i=je.fromString(t,...n);return Qv(i),new er(e,null,i)}{if(!(e instanceof on||e instanceof er))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(je.fromString(t,...n));return Qv(i),new er(e.firestore,null,i)}}function cf(e,t,...n){if(e=$t(e),arguments.length===1&&(t=Xk.R()),X0("doc","path",t),e instanceof qc){const i=je.fromString(t,...n);return Kv(i),new on(e,null,new Z(i))}{if(!(e instanceof on||e instanceof er))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(je.fromString(t,...n));return Kv(i),new on(e.firestore,e instanceof er?e.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):yi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=Xk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Xm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function XM(e,t){e.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await R0(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function ZM(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eO(e);J("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>Wv(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Wv(t.remoteStore,s)),e.onlineComponents=t}async function eO(e){return e.offlineComponents||(J("FirestoreClient","Using default OfflineComponentProvider"),await XM(e,new VM)),e.offlineComponents}async function e1(e){return e.onlineComponents||(J("FirestoreClient","Using default OnlineComponentProvider"),await ZM(e,new GM)),e.onlineComponents}function tO(e){return e1(e).then(t=>t.syncEngine)}async function Kd(e){const t=await e1(e),n=t.eventManager;return n.onListen=OM.bind(null,t.syncEngine),n.onUnlisten=NM.bind(null,t.syncEngine),n}function nO(e,t,n={}){const i=new Zi;return e.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new Z0({next:h=>{s.enqueueAndForget(()=>Y0(r,c)),h.fromCache&&a.source==="server"?l.reject(new ee(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new W0(o,u,{includeMetadataChanges:!0,Nu:!0});return H0(r,c)}(await Kd(e),e.asyncQueue,t,n,i)),i.promise}class iO{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new O0(this,"async_queue_retry"),this.Wc=()=>{const n=uf();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const t=uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Zi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!Ja(t))throw t;J("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{this.Kc=i,this.Gc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw yi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(t,n,i){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const r=Jm.createAndSchedule(this,t,n,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&oe()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.Uc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.Uc.indexOf(t);this.Uc.splice(n,1)}}function Zv(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Hs extends qc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new iO,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t1(this),this._firestoreClient.terminate()}}function rO(e,t){const n=typeof e=="object"?e:Wb(),i=typeof e=="string"?e:t||"(default)",r=dm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=KI("firestore");s&&KM(r,...s)}return r}function ng(e){return e._firestoreClient||t1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function t1(e){var t;const n=e._freezeSettings(),i=function(r,s,o,a){return new ND(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new JM(e._authCredentials,e._appCheckCredentials,e._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ys(Ot.fromBase64String(t))}catch(n){throw new ee(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ys(Ot.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ee(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ee(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ee(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Te(this._lat,t._lat)||Te(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/^__.*__$/;class oO{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Xa(t,this.data,n,this.fieldTransforms)}}function i1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class sg{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.yt=i,this.ignoreUndefinedProperties=r,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new sg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Xu(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(t.length===0)throw this.ha("Document fields must not be empty");if(i1(this.sa)&&sO.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class aO{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=i||Wc(t)}da(t,n,i,r=!1){return new sg({sa:t,methodName:n,fa:i,path:At.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function lO(e){const t=e._freezeSettings(),n=Wc(e._databaseId);return new aO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(e,t,n,i,r,s={}){const o=e.da(s.merge||s.mergeFields?2:0,t,n,r);a1("Data must be an object, but it was:",o,i);const a=s1(i,o);let l,u;if(s.merge)l=new In(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=cO(t,h,n);if(!o.contains(f))throw new ee(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fO(c,f)||c.push(f)}l=new In(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new oO(new mn(a),l,u)}function r1(e,t){if(o1(e=$t(e)))return a1("Unsupported field value:",t,e),s1(e,t);if(e instanceof n1)return function(n,i){if(!i1(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&t.sa!==4)throw t.ha("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=r1(o,i.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=$t(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nR(i.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ot.fromDate(n);return{timestampValue:Qu(i.yt,r)}}if(n instanceof ot){const r=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qu(i.yt,r)}}if(n instanceof rg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ys)return{bytesValue:T0(i.yt,n._byteString)};if(n instanceof on){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Hm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${tg(n)}`)}(e,t)}function s1(e,t){const n={};return Zk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(e,(i,r)=>{const s=r1(r,t.ra(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function o1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ot||e instanceof rg||e instanceof Ys||e instanceof on||e instanceof n1)}function a1(e,t,n){if(!o1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=tg(n);throw i==="an object"?t.ha(e+" a custom object"):t.ha(e+" "+i)}}function cO(e,t,n){if((t=$t(t))instanceof ig)return t._internalPath;if(typeof t=="string")return l1(e,t);throw Xu("Field path arguments must be of type string or ",e,!1,void 0,n)}const hO=new RegExp("[~\\*/\\[\\]]");function l1(e,t,n){if(t.search(hO)>=0)throw Xu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ig(...t.split("."))._internalPath}catch{throw Xu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xu(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ee(U.INVALID_ARGUMENT,a+e+l)}function fO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(c1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dO extends u1{data(){return super.data()}}function c1(e,t){return typeof t=="string"?l1(e,t):t instanceof ig?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ee(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pO{convertValue(t,n="none"){switch(Br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw oe()}}convertObject(t,n){const i={};return Xs(t.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new rg(et(t.latitude),et(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=t0(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ka(t));default:return null}}convertTimestamp(t){const n=rr(t);return new ot(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=je.fromString(t);Me(D0(i));const r=new ba(i.get(1),i.get(3)),s=new Z(i.popFirst(5));return r.isEqual(n)||yi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class f1 extends u1{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(c1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class nu extends f1{data(t={}){return super.data(t)}}class d1{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ao(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new nu(this._firestore,this._userDataWriter,i.key,i,new Ao(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const a=new nu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ao(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new nu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ao(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:gO(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}class og extends pO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ys(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new on(this.firestore,null,n)}}function yO(e){e=hi(e,nl);const t=hi(e.firestore,Hs),n=ng(t),i=new og(t);return h1(e._query),nO(n,e._query).then(r=>new d1(t,i,e,r))}function vO(e,t,n){e=hi(e,on);const i=hi(e.firestore,Hs),r=mO(e.converter,t,n);return p1(i,[uO(lO(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Hn.none())])}function wO(e){return p1(hi(e.firestore,Hs),[new jm(e._key,Hn.none())])}function xO(e,...t){var n,i,r;e=$t(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||Zv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Zv(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(e instanceof on)u=hi(e.firestore,Hs),c=Um(e._key.path),l={next:h=>{t[o]&&t[o](_O(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=hi(e,nl);u=hi(h.firestore,Hs),c=h._query;const f=new og(u);l={next:d=>{t[o]&&t[o](new d1(u,f,h,d))},error:t[o+1],complete:t[o+2]},h1(e._query)}return function(h,f,d,v){const g=new Z0(v),S=new W0(f,g,d);return h.asyncQueue.enqueueAndForget(async()=>H0(await Kd(h),S)),()=>{g.bc(),h.asyncQueue.enqueueAndForget(async()=>Y0(await Kd(h),S))}}(ng(u),c,a,l)}function p1(e,t){return function(n,i){const r=new Zi;return n.asyncQueue.enqueueAndForget(async()=>FM(await tO(n),i,r)),r.promise}(ng(e),t)}function _O(e,t,n){const i=n.docs.get(t._key),r=new og(e);return new f1(e,r,t._key,i,new Ao(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Js=n})(Ua),Ls(new Lr("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new Hs(new SD(n.getProvider("auth-internal")),new ID(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ee(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Xi(kv,"3.8.1",e),Xi(kv,"3.8.1","esm2017")})();function ew(){const e=new Date;return[e.getFullYear(),yo(e.getMonth()+1),yo(e.getDate()),yo(e.getHours()),yo(e.getMinutes()),yo(e.getSeconds()),bO(e.getMilliseconds())].join("_")}function yo(e){return("0"+e).slice(-2)}function bO(e){return("00"+e).slice(-3)}function kO(e=!0,t=!1){const n=!e&&t;let i;n&&(i=rO(qb()));const[r,s]=A.useState(A.useContext(Jn)),o=jI();function a(D){s(O=>({...O,is_loading:D}))}function l(D,O,R=!1){D==Je.character_collection_name&&Object.entries(O).forEach(([X,ge])=>{O[X]={...wP,...ge}}),s(F=>({...F,[D]:R?O:{...F[D],...O}}))}async function u(D,O,R){let F=!1;if(r[D][O]!=null&&(F=!0),!n)c(D,O,R);else{F||C();const X=cf(i,D,O);if(await vO(X,R,{merge:!0}),!F){const ge=D;u(Je.ping_collection_name,ge,{need_to_refresh:ew()})}}D==Je.character_collection_name&&![void 0,"none"].includes(R.flash_color)&&o.start_new_timer(O,1,()=>u(D,O,{flash_color:"none"}))}function c(D,O,R){s(F=>{let X={};return F[D]!=null&&(X=F[D][O]),{...F,[D]:{...F[D],[O]:{...X,...R}}}})}function h(D,O){n?wO(cf(i,D,O)).then(()=>{r[D][O].unsubscribe_function(),f(D,O);const R=D;u(Je.ping_collection_name,R,{need_to_refresh:ew()})}):f(D,O)}function f(D,O){C(),s(R=>{const F={...R[D]};return delete F[O],{...R,[D]:{...F}}})}function d(D){const R={current_hp:r.characters[D].current_hp+1,flash_color:Ye.banner_green};u(Je.character_collection_name,D,R)}function v(D){const R={current_hp:r.characters[D].current_hp-1,flash_color:Ye.banner_red};u(Je.character_collection_name,D,R)}function g(D){const R={current_ap:r.characters[D].current_ap+1,flash_color:Ye.banner_dark_purple};u(Je.character_collection_name,D,R)}function S(D){const R={current_ap:r.characters[D].current_ap-1,flash_color:Ye.banner_light_purple};u(Je.character_collection_name,D,R)}function p(){const D=Object.entries(r.items).map(O=>({id:O[0],...O[1]}));return D.sort((O,R)=>O.display_name>R.display_name?1:-1),D}function m(D){return D.reduce((O,R)=>O+"_"+R,"")}function y(){const D=Object.entries(r.quest_abilities).map(O=>({id:O[0],...O[1]}));return D.sort((O,R)=>{let F=!1;const X=m([O.class,O.tree,O.tree_level]),ge=m([R.class,R.tree,R.tree_level]);return X>ge&&(F=!0),F?1:-1}),D}r.get_sorted_item_list=p,r.get_sorted_abilities=y,r.delete_document=h,r.save_document_data=u,r.increase_character_hp=d,r.decrease_character_hp=v,r.increase_character_ap=g,r.decrease_character_ap=S;function C(){a(!0),o.start_new_timer("data_context_loading",.5,()=>a(!1))}async function E(D,O){const R=xO(cf(i,D,O),F=>{let X;if(F.data()!=null&&(X=JSON.parse(JSON.stringify(F.data()))),X!=null&&c(D,F.id,X),D==Je.ping_collection_name){const ge=F.id;N(ge)}});c(D,O,{unsubscribe_function:R})}async function k(){const O=$I.map(R=>{const F=R.ability_name.toLowerCase().replaceAll(" ","_");return{ability_key:R.class.toLowerCase().replaceAll(" ","_")+"_"+F,...R}});l(Je.abilities_collection_name,O,!0)}async function P(){C(),k(),n?[Je.character_collection_name,Je.item_collection_name,Je.ping_collection_name].forEach(async O=>{N(O)}):(l(Je.item_collection_name,zI,!0),l(Je.character_collection_name,UI,!0))}async function N(D){l(D,{},!0),(await yO(QM(i,D))).forEach(R=>{E(D,R.id)})}return A.useEffect(()=>{P()},[t]),r}function ag(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function m1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SO=m1,g1=new Ba("auth","Firebase",m1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new hm("@firebase/auth");function iu(e,...t){tw.logLevel<=Se.ERROR&&tw.error(`Auth (${Ua}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(e,...t){throw lg(e,...t)}function Wn(e,...t){return lg(e,...t)}function CO(e,t,n){const i=Object.assign(Object.assign({},SO()),{[t]:n});return new Ba("auth","Firebase",i).create(t,{appName:e.name})}function lg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return g1.create(e,...t)}function ie(e,t,...n){if(!e)throw lg(t,...n)}function oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw iu(t),new Error(t)}function xi(e,t){e||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;function ai(e){xi(e instanceof Function,"Expected a class definition");let t=nw.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nw.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(e,t){const n=dm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Nu(s,t??{}))return r;Rn(r,"already-initialized")}return n.initialize({options:t})}function EO(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function IO(){return iw()==="http:"||iw()==="https:"}function iw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IO()||eA()||"connection"in navigator)?navigator.onLine:!0}function PO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,n){this.shortDelay=t,this.longDelay=n,xi(n>t,"Short delay should be less than long delay!"),this.isMobile=ZI()||tA()}get(){return AO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new il(3e4,6e4);function Kc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rl(e,t,n,i,r={}){return v1(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=za(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),y1.fetch()(w1(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function v1(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},DO),t);try{const r=new MO(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Nl(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nl(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nl(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nl(e,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CO(e,c,u);Rn(e,c)}}catch(r){if(r instanceof ki)throw r;Rn(e,"network-request-failed")}}async function Qc(e,t,n,i,r={}){const s=await rl(e,t,n,i,r);return"mfaPendingCredential"in s&&Rn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function w1(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?ug(e.config,r):`${e.config.apiScheme}://${r}`}class MO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wn(this.auth,"network-request-failed")),RO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Wn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(e,t){return rl(e,"POST","/v1/accounts:delete",t)}async function LO(e,t){return rl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NO(e,t=!1){const n=$t(e),i=await n.getIdToken(t),r=cg(i);ie(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Wo(hf(r.auth_time)),issuedAtTime:Wo(hf(r.iat)),expirationTime:Wo(hf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hf(e){return Number(e)*1e3}function cg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const r=zb(n);return r?JSON.parse(r):(iu("Failed to decode base64 JWT payload"),null)}catch(r){return iu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function FO(e){const t=cg(e);return ie(t,"internal-error"),ie(typeof t.exp<"u","internal-error"),ie(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ki&&BO(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function BO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wo(this.lastLoginAt),this.creationTime=Wo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ea(e,LO(n,{idToken:i}));ie(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?jO(s.providerUserInfo):[],a=$O(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new x1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function UO(e){const t=$t(e);await Zu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $O(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function jO(e){return e.map(t=>{var{providerId:n}=t,i=ag(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(e,t){const n=await v1(e,{},async()=>{const i=za({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=w1(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y1.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ie(t.idToken,"internal-error"),ie(typeof t.idToken<"u","internal-error"),ie(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ie(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await HO(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ia;return i&&(ie(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(ie(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(ie(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e,t){ie(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ar{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new x1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Ea(this,this.stsTokenManager.getToken(this.auth,t));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return NO(this,t)}reload(){return UO(this)}_assign(t){this!==t&&(ie(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ar(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Zu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ea(this,OO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:C,isAnonymous:E,providerData:k,stsTokenManager:P}=n;ie(y&&P,t,"internal-error");const N=Ia.fromJSON(this.name,P);ie(typeof y=="string",t,"internal-error"),Ii(h,t.name),Ii(f,t.name),ie(typeof C=="boolean",t,"internal-error"),ie(typeof E=="boolean",t,"internal-error"),Ii(d,t.name),Ii(v,t.name),Ii(g,t.name),Ii(S,t.name),Ii(p,t.name),Ii(m,t.name);const D=new Ar({uid:y,auth:t,email:f,emailVerified:C,displayName:h,isAnonymous:E,photoURL:v,phoneNumber:d,tenantId:g,stsTokenManager:N,createdAt:p,lastLoginAt:m});return k&&Array.isArray(k)&&(D.providerData=k.map(O=>Object.assign({},O))),S&&(D._redirectEventId=S),D}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ia;r.updateFromServerResponse(n);const s=new Ar({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Zu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_1.type="NONE";const rw=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e,t,n){return`firebase:${e}:${t}:${n}`}class Ss{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ru(this.userKey,r.apiKey,s),this.fullPersistenceKey=ru("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ar._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ss(ai(rw),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||ai(rw);const o=ru(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ar._fromJSON(t,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ss(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ss(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(S1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(b1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T1(t))return"Blackberry";if(E1(t))return"Webos";if(hg(t))return"Safari";if((t.includes("chrome/")||k1(t))&&!t.includes("edge/"))return"Chrome";if(C1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function b1(e=Mt()){return/firefox\//i.test(e)}function hg(e=Mt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function k1(e=Mt()){return/crios\//i.test(e)}function S1(e=Mt()){return/iemobile/i.test(e)}function C1(e=Mt()){return/android/i.test(e)}function T1(e=Mt()){return/blackberry/i.test(e)}function E1(e=Mt()){return/webos/i.test(e)}function Jc(e=Mt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YO(e=Mt()){var t;return Jc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WO(){return nA()&&document.documentMode===10}function I1(e=Mt()){return Jc(e)||C1(e)||E1(e)||T1(e)||/windows phone/i.test(e)||S1(e)}function VO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(e,t=[]){let n;switch(e){case"Browser":n=sw(Mt());break;case"Worker":n=`${sw(Mt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,n,i){this.app=t,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ow(this),this.idTokenSubscription=new ow(this),this.beforeStateQueue=new GO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ss.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?$t(t):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ie(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ba("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ss.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,i,r):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function Xc(e){return $t(e)}class ow{constructor(t){this.auth=t,this.observer=null,this.addObserver=uA(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function KO(e,t,n){const i=Xc(e);ie(i._canInitEmulator,i,"emulator-config-failed"),ie(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=P1(t),{host:o,port:a}=QO(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||JO()}function P1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QO(e){const t=P1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:aw(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:aw(o)}}}function aw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function JO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}async function XO(e,t){return rl(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return Qc(e,"POST","/v1/accounts:signInWithPassword",Kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(e,t){return Qc(e,"POST","/v1/accounts:signInWithEmailLink",Kc(e,t))}async function tL(e,t){return Qc(e,"POST","/v1/accounts:signInWithEmailLink",Kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends fg{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Aa(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Aa(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return ZO(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return eL(t,{email:this._email,oobCode:this._password});default:Rn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return XO(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return tL(t,{idToken:n,email:this._email,oobCode:this._password});default:Rn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e,t){return Qc(e,"POST","/v1/accounts:signInWithIdp",Kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="http://localhost";class zr extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=ag(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new zr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Cs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Cs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Cs(t,n)}buildRequest(){const t={requestUri:nL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=za(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rL(e){const t=So(Co(e)).link,n=t?So(Co(t)).deep_link_id:null,i=So(Co(e)).deep_link_id;return(i?So(Co(i)).link:null)||i||n||t||e}class dg{constructor(t){var n,i,r,s,o,a;const l=So(Co(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,h=iL((r=l.mode)!==null&&r!==void 0?r:null);ie(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=rL(t);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(t,n){return Aa._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=dg.parseLink(n);return ie(i,"argument-error"),Aa._fromEmailAndCode(t,i.code,i.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends sl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends sl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bi.credential(t.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends sl{constructor(){super("twitter.com")}static credential(t,n){return zr._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await Ar._fromIdTokenResponse(t,i,r),o=lw(i);return new Ws({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=lw(i);return new Ws({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function lw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends ki{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new ec(t,n,i,r)}}function R1(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ec._fromErrorAndOperation(e,s,t,i):s})}async function sL(e,t,n=!1){const i=await Ea(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ws._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await Ea(e,R1(i,r,t,e),n);ie(s.idToken,i,"internal-error");const o=cg(s.idToken);ie(o,i,"internal-error");const{sub:a}=o;return ie(e.uid===a,i,"user-mismatch"),Ws._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(e,t,n=!1){const i="signIn",r=await R1(e,i,t),s=await Ws._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function aL(e,t){return M1(Xc(e),t)}function lL(e,t,n){return aL($t(e),to.credential(t,n))}function uL(e,t,n,i){return $t(e).onIdTokenChanged(t,n,i)}function cL(e,t,n){return $t(e).beforeAuthStateChanged(t,n)}function hL(e,t,n,i){return $t(e).onAuthStateChanged(t,n,i)}function fL(e){return $t(e).signOut()}const tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){const e=Mt();return hg(e)||Jc(e)}const pL=1e3,mL=10;class L1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dL()&&VO(),this.fallbackToPolling=I1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);WO()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,mL):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}L1.type="LOCAL";const gL=L1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}N1.type="SESSION";const F1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Zc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await yL(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=pg("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function wL(e){Vn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function xL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _L(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function bL(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",kL=1,nc="firebaseLocalStorage",U1="fbase_key";class ol{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(e,t){return e.transaction([nc],t?"readwrite":"readonly").objectStore(nc)}function SL(){const e=indexedDB.deleteDatabase(z1);return new ol(e).toPromise()}function Jd(){const e=indexedDB.open(z1,kL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(nc,{keyPath:U1})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(nc)?t(i):(i.close(),await SL(),t(await Jd()))})})}async function uw(e,t,n){const i=eh(e,!0).put({[U1]:t,value:n});return new ol(i).toPromise()}async function CL(e,t){const n=eh(e,!1).get(t),i=await new ol(n).toPromise();return i===void 0?null:i.value}function cw(e,t){const n=eh(e,!0).delete(t);return new ol(n).toPromise()}const TL=800,EL=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>EL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(bL()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await xL(),!this.activeServiceWorker)return;this.sender=new vL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_L()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await uw(t,tc,"1"),await cw(t,tc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>uw(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>CL(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cw(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=eh(r,!1).getAll();return new ol(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const IL=$1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function PL(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Wn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",AL().appendChild(i)})}function DL(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(e,t){return t?ai(t):(ie(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends fg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Cs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ML(e){return M1(e.auth,new mg(e),e.bypassAuthState)}function OL(e){const{auth:t,user:n}=e;return ie(n,t,"internal-error"),oL(n,new mg(e),e.bypassAuthState)}async function LL(e){const{auth:t,user:n}=e;return ie(n,t,"internal-error"),sL(n,new mg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ML;case"linkViaPopup":case"linkViaRedirect":return LL;case"reauthViaPopup":case"reauthViaRedirect":return OL;default:Rn(this.auth,"internal-error")}}resolve(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new il(2e3,1e4);class ps extends j1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ie(t,this.auth,"internal-error"),t}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const t=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,NL.get())};t()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",su=new Map;class BL extends j1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=su.get(this.auth._key());if(!t){try{const i=await zL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}su.set(this.auth._key(),t)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zL(e,t){const n=jL(t),i=$L(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function UL(e,t){su.set(e._key(),t)}function $L(e){return ai(e._redirectPersistence)}function jL(e){return ru(FL,e.config.apiKey,e.name)}async function HL(e,t,n=!1){const i=Xc(e),r=RL(i,t),o=await new BL(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=10*60*1e3;class WL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!H1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YL&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(t))}saveEventToCache(t){this.cachedEventUids.add(hw(t)),this.lastProcessedEventTime=Date.now()}}function hw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function H1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(e,t={}){return rl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KL=/^https?/;async function QL(e){if(e.config.emulator)return;const{authorizedDomains:t}=await GL(e);for(const n of t)try{if(JL(n))return}catch{}Rn(e,"unauthorized-domain")}function JL(e){const t=Qd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!KL.test(n))return!1;if(qL.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new il(3e4,6e4);function fw(){const e=Vn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ZL(e){return new Promise((t,n)=>{var i,r,s;function o(){fw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fw(),n(Wn(e,"network-request-failed"))},timeout:XL.get()})}if(!((r=(i=Vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Vn().gapi)===null||s===void 0)&&s.load)o();else{const a=DL("iframefcb");return Vn()[a]=()=>{gapi.load?o():n(Wn(e,"network-request-failed"))},PL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ou=null,t})}let ou=null;function eN(e){return ou=ou||ZL(e),ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new il(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oN(e){const t=e.config;ie(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ug(t,iN):`https://${e.config.authDomain}/${nN}`,i={apiKey:t.apiKey,appName:e.name,v:Ua},r=sN.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${za(i).slice(1)}`}async function aN(e){const t=await eN(e),n=Vn().gapi;return ie(n,e,"internal-error"),t.open({where:document.body,url:oN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Wn(e,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},tN.get());function l(){Vn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class dw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(e,t,n,i=uN,r=cN){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lN),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Mt().toLowerCase();n&&(a=k1(u)?hN:n),b1(u)&&(t=t||fN,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,v])=>`${f}${d}=${v},`,"");if(YO(u)&&a!=="_self")return pN(t||"",a),new dw(null);const h=window.open(t||"",a,c);ie(h,e,"popup-blocked");try{h.focus()}catch{}return new dw(h)}function pN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="__/auth/handler",gN="emulator/auth/handler";function pw(e,t,n,i,r,s){ie(e.config.authDomain,e,"auth-domain-config-required"),ie(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ua,eventId:r};if(t instanceof D1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",lA(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(t instanceof sl){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${yN(e)}?${za(a).slice(1)}`}function yN({config:e}){return e.emulator?ug(e,gN):`https://${e.authDomain}/${mN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=HL,this._overrideRedirectResult=UL}async _openPopup(t,n,i,r){var s;xi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=pw(t,n,i,Qd(),r);return dN(t,o,pg())}async _openRedirect(t,n,i,r){return await this._originValidation(t),wL(pw(t,n,i,Qd(),r)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(xi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await aN(t),i=new WL(t);return n.register("authEvent",r=>(ie(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ff,{type:ff},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[ff];o!==void 0&&n(!!o),Rn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return I1()||hg()||Jc()}}const wN=vN;var mw="@firebase/auth",gw="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bN(e){Ls(new Lr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{ie(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ie(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(e)},c=new qO(a,l,u);return EO(c,n),c})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ls(new Lr("auth-internal",t=>{const n=Xc(t.getProvider("auth").getImmediate());return(i=>new xN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(mw,gw,_N(e)),Xi(mw,gw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=5*60,SN=$b("authIdTokenMaxAge")||kN;let yw=null;const CN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>SN)return;const r=n==null?void 0:n.token;yw!==r&&(yw=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function TN(e=Wb()){const t=dm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=TO(e,{popupRedirectResolver:wN,persistence:[IL,gL,F1]}),i=$b("authTokenSyncURL");if(i){const s=CN(i);cL(n,s,()=>s(n.currentUser)),uL(n,o=>s(o))}const r=Ub("auth");return r&&KO(n,`http://${r}`),n}bN("Browser");function EN(e){const t=TN(qb());async function n(){return!1}function i(o,a){return lL(t,o,a)}function r(){return fL(t)}function s(o){hL(t,a=>{o(a)})}return{set_user_listener:s,delete_firebase_user:n,login_firebase_user:i,logout_firebase_user:r}}function IN(){const[e,t]=A.useState(A.useContext(Yt)),n=EN();function i(s){return t(o=>({...o,...s}))}function r(){const s=window.innerWidth<Je.mobile_collapse_point;i({window_width:window.innerWidth,window_height:window.innerHeight,is_mobile_view:s})}return A.useEffect(()=>(r(),window.addEventListener("resize",r),n.set_user_listener(s=>{i({user:s,is_auth_checked:!0})}),()=>window.removeEventListener("resize",r)),[]),e.update_global_context=i,e.firebase_auth=n,e}function AN(){const e=A.useContext(Yt);function t(s){s.preventDefault(),e.update_global_context({is_show_rightbar:!1})}let n={backgroundColor:Ye.sidebar_grey,borderRight:"solid 1px #e3e3e3",display:"flex",flexDirection:"column",alignItems:"stretch",paddingTop:"1rem",flexShrink:"0",paddingRight:"1em",paddingLeft:"1em",width:"18em"};e.is_mobile_view&&(n={...n,flexShrink:"1"});const i={position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"10",display:"flex",alignItems:"stretch"},r={flexShrink:0,flexGrow:1,backgroundColor:Ye.sidebar_grey,opacity:".75"};return H("div",{style:i,children:[x("div",{style:r,onClick:t,className:"hover-element"}),x("div",{style:n,children:e.rightbar_content})]})}function vw({is_error:e=!1}){const n=IN(),i=kO(!0,n.user!=null),r={display:"flex",flexGrow:"1",fontFamily:"sans-serif",position:"relative"};return n.is_mobile_view,x(Yt.Provider,{value:n,children:x(Jn.Provider,{value:i,children:H("div",{style:r,children:[(n.is_show_sidebar||!n.is_mobile_view)&&x(PN,{}),n.is_auth_checked?x(DN,{is_error:e}):x(Zd,{}),n.is_show_rightbar?x(AN,{}):""]})})})}function Xd(){const e=A.useContext(Yt),t=Rb();function n(l){l.preventDefault();const u=!e.is_show_sidebar;e.update_global_context({is_show_sidebar:u})}const i={display:"flex",justifyContent:"center",position:"relative",marginBottom:"1em"},r={textDecoration:"none",color:"#121212",display:"inline",paddingLeft:"2em",paddingRight:"2em",fontSize:"1.5em",fontWeight:"bold"},s={height:"1em",width:"auto",marginRight:"1em",marginLeft:"1em",position:"absolute",left:"0"},o=e.is_show_sidebar?NI:LI;function a(){t("/"),e.update_global_context({is_show_sidebar:!1})}return H("div",{style:i,children:[e.is_mobile_view&&x("img",{className:"hover-element",src:o,style:s,onClick:n}),x("div",{className:"hover-element",style:r,onClick:a,children:e.site_title})]})}function PN(){const e=A.useContext(Yt);function t(s){s.preventDefault(),e.update_global_context({is_show_sidebar:!1})}let n={backgroundColor:Ye.sidebar_grey,borderRight:"solid 1px #e3e3e3",display:"flex",flexDirection:"column",alignItems:"stretch",textAlign:"center",paddingTop:"1rem",flexShrink:"0"};e.is_mobile_view&&(n={...n,flexShrink:"1"});const i={position:"fixed",top:"0",left:"0",bottom:"0",right:"0",zIndex:"10",display:"flex",alignItems:"stretch"},r={flexShrink:0,flexGrow:1,backgroundColor:Ye.sidebar_grey,opacity:".75"};return e.is_mobile_view?H("div",{style:i,children:[H("div",{style:n,children:[x(Xd,{}),e.is_auth_checked?x(tv,{}):x(Zd,{})]}),x("div",{style:r,onClick:t,className:"hover-element"})]}):H("div",{style:n,children:[x(Xd,{}),e.is_auth_checked?x(tv,{}):x(Zd,{})]})}function Zd(){return x("img",{height:"25rem",width:"25rem",src:um})}function DN({is_error:e=!1}){const t=A.useContext(Yt);return x("div",{id:"detail",style:{padding:"1rem",flexGrow:"1",flexShrink:"1",display:"flex",flexDirection:"column",alignItems:"stretch"},children:e?x(FI,{}):H(Pe,{children:[t.is_mobile_view&&x(Xd,{}),x(Ob,{})]})})}function Ai({page_title:e,children:t}){return H(Pe,{children:[x("div",{style:{fontSize:"1.5em",marginBottom:"1em"},children:e}),x(RN,{}),x("div",{style:{maxWidth:Je.details_width},children:t})]})}function RN(){const e=A.useContext(Yt),[t,n]=A.useState([]),[i,r]=A.useState("neutral");function s(d){return n([d])}function o(d){return n(v=>[...v,d])}function a(d,v=1){return o("----".repeat(v)+"> "+d)}function l(d){return n(v=>{const g=[...v],S=g.length-1;return g[S]=g[S]+d,[...g]})}function u(){return n([])}A.useEffect(()=>{e.update_global_context({replace_banner:s,append_banner:o,clear_banner:u,append_indent_banner:a,append_inline_banner:l,set_banner_style:r})},[]);let c=Ye.banner_grey;i=="success"&&(c=Ye.banner_green),i=="failure"&&(c=Ye.banner_red),i=="warning"&&(c=Ye.banner_yellow);const h={backgroundColor:c,paddingLeft:".5em",paddingRight:".5em",position:"relative"},f={position:"absolute",padding:".5em",right:"0",top:"0"};return x(Pe,{children:t.length>0&&H(Pe,{children:[H("div",{style:h,children:[t.map(d=>x("p",{children:d},d)),x("div",{onClick:u,className:"hover-element",style:f,children:"x"})]}),x("br",{})]})})}function MN(){return A.useContext(Jn),x(Ob,{})}function ON(){const e=A.useContext(Yt);return H(li.Fragment,{children:[H("p",{children:["Current User: ",e.user!=null?e.user.email:"Not logged in"]}),x("div",{children:x(Y1,{})})]})}function Y1(){const e=A.useContext(Yt),t=e.user;e.is_auth_checked;const n=t!=null&&t.email!=null,[i,r]=A.useState(""),[s,o]=A.useState("");function a(u){return u.preventDefault(),e.firebase_auth.login_firebase_user(i,s)}function l(u){return u.preventDefault(),e.firebase_auth.logout_firebase_user()}return n?x("button",{onClick:l,children:"Log out"}):H("form",{onSubmit:a,children:[x("label",{htmlFor:"username_field",children:"Username: "}),x("input",{label:"Username",type:"text",id:"username_field",name:"username",defaultValue:i,onChange:u=>r(u.target.value)}),x("br",{}),x("label",{htmlFor:"password_field",children:"Password: "}),x("input",{label:"Password",type:"password",id:"password_field",name:"password",defaultValue:s,onChange:u=>o(u.target.value)}),x("br",{}),x("button",{type:"submit",children:"Log in"})]})}function W1(e){if(e==null||e==null)return e;e=e.split(" ");for(var t=0,n=e.length;t<n;t++)e[t].length>0&&!["of","a"].includes(e[t])&&(e[t]=e[t][0].toUpperCase()+e[t].substr(1));return e.join(" ")}const LN=[{item_name:"Alarm Bell",item_type:"weapon"},{item_name:"Amulet",item_type:"weapon"},{item_name:"Animal Lead",item_type:"weapon"},{item_name:"Arrow",item_type:"weapon"},{item_name:"Atlas",item_type:"weapon"},{item_name:"Backpack",item_type:"weapon"},{item_name:"Badge",item_type:"weapon"},{item_name:"Bagpipe",item_type:"weapon"},{item_name:"Ballista",item_type:"weapon"},{item_name:"Band",item_type:"weapon"},{item_name:"Bandage",item_type:"weapon"},{item_name:"Belt",item_type:"weapon"},{item_name:"Bit",item_type:"weapon"},{item_name:"Bolo Gun",item_type:"weapon"},{item_name:"Bolt",item_type:"weapon"},{item_name:"Booby Trap",item_type:"weapon"},{item_name:"Book",item_type:"weapon"},{item_name:"Boots",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Bowl",item_type:"weapon"},{item_name:"Box",item_type:"weapon"},{item_name:"Bracelet",item_type:"weapon"},{item_name:"Bracers",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Brand",item_type:"weapon"},{item_name:"Breastplate",item_type:"weapon"},{item_name:"Brick",item_type:"weapon"},{item_name:"Brooch",item_type:"weapon"},{item_name:"Broom",item_type:"weapon"},{item_name:"Bucket",item_type:"weapon"},{item_name:"Buckler",item_type:"weapon"},{item_name:"Candle",item_type:"weapon"},{item_name:"Cane",item_type:"weapon"},{item_name:"Canteen",item_type:"weapon"},{item_name:"Canvas",item_type:"weapon"},{item_name:"Cape",item_type:"weapon"},{item_name:"Carpet",item_type:"weapon"},{item_name:"Chains",item_type:"weapon",plurality_adapter:"length of"},{item_name:"Chalice",item_type:"weapon"},{item_name:"Chalk",item_type:"weapon"},{item_name:"Charm",item_type:"weapon"},{item_name:"Chest",item_type:"weapon"},{item_name:"Chimes",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Cloak",item_type:"weapon"},{item_name:"Cloth",item_type:"weapon"},{item_name:"Club",item_type:"weapon"},{item_name:"Coin",item_type:"weapon"},{item_name:"Coins",item_type:"weapon",plurality_adapter:"bag of"},{item_name:"Collar",item_type:"weapon"},{item_name:"Comb",item_type:"weapon"},{item_name:"Compass",item_type:"weapon"},{item_name:"Hidden Crossbow",item_type:"weapon"},{item_name:"Heavy Crossbow",item_type:"weapon"},{item_name:"Hand Crossbow",item_type:"weapon"},{item_name:"Crossbow",item_type:"weapon"},{item_name:"Crown",item_type:"weapon"},{item_name:"Crutch",item_type:"weapon"},{item_name:"Crystal",item_type:"weapon"},{item_name:"Cube",item_type:"weapon"},{item_name:"Cudgel",item_type:"weapon"},{item_name:"Dagger",item_type:"weapon"},{item_name:"Dart",item_type:"weapon"},{item_name:"Diary",item_type:"weapon"},{item_name:"Doll",item_type:"weapon"},{item_name:"Drums",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Dulcimer",item_type:"weapon"},{item_name:"Dust",item_type:"weapon",plurality_adapter:"bag of"},{item_name:"Dye",item_type:"weapon",plurality_adapter:"vial of"},{item_name:"Figurine",item_type:"weapon"},{item_name:"Fishing Pole",item_type:"weapon"},{item_name:"Flail",item_type:"weapon"},{item_name:"Flask",item_type:"weapon"},{item_name:"Flute",item_type:"weapon"},{item_name:"Gauntlet",item_type:"weapon"},{item_name:"Gauze",item_type:"weapon",plurality_adapter:"roll of"},{item_name:"Gem",item_type:"weapon"},{item_name:"Ghost",item_type:"weapon"},{item_name:"Glaive",item_type:"weapon"},{item_name:"Gloves",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Goggles",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Gong",item_type:"weapon"},{item_name:"Greatsword",item_type:"weapon"},{item_name:"Halberg",item_type:"weapon"},{item_name:"Hammer",item_type:"weapon"},{item_name:"Tool Hammer",item_type:"weapon"},{item_name:"Spiked Hammer",item_type:"weapon"},{item_name:"Hand Axe",item_type:"weapon"},{item_name:"Handle",item_type:"weapon"},{item_name:"Harness",item_type:"weapon"},{item_name:"Harp",item_type:"weapon"},{item_name:"Helmet",item_type:"weapon"},{item_name:"Herbal Tea Pouch",item_type:"weapon"},{item_name:"Hook",item_type:"weapon"},{item_name:"Horn",item_type:"weapon"},{item_name:"Instrument",item_type:"weapon"},{item_name:"Jar",item_type:"weapon"},{item_name:"Javelin",item_type:"weapon"},{item_name:"Journal",item_type:"weapon"},{item_name:"Key",item_type:"weapon"},{item_name:"Lamp",item_type:"weapon"},{item_name:"Leash",item_type:"weapon"},{item_name:"Ledger",item_type:"weapon"},{item_name:"Leggings",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Letter",item_type:"weapon"},{item_name:"Lever",item_type:"weapon"},{item_name:"Lock",item_type:"weapon"},{item_name:"Long Bow",item_type:"weapon"},{item_name:"Recurve Bow",item_type:"weapon"},{item_name:"Lure",item_type:"weapon"},{item_name:"Lute",item_type:"weapon"},{item_name:"Lyre",item_type:"weapon"},{item_name:"Mace",item_type:"weapon"},{item_name:"Mandolin",item_type:"weapon"},{item_name:"Mantle",item_type:"weapon"},{item_name:"Map",item_type:"weapon"},{item_name:"Marble",item_type:"weapon"},{item_name:"Mask",item_type:"weapon"},{item_name:"Maul",item_type:"weapon"},{item_name:"Mining Charge",item_type:"weapon"},{item_name:"Mirror",item_type:"weapon"},{item_name:"Monster Part",item_type:"weapon"},{item_name:"Morning Star",item_type:"weapon"},{item_name:"Music Box",item_type:"weapon"},{item_name:"Necklace",item_type:"weapon"},{item_name:"Needle",item_type:"weapon"},{item_name:"Net",item_type:"weapon"},{item_name:"Orb",item_type:"weapon"},{item_name:"Paddle",item_type:"weapon"},{item_name:"Painting",item_type:"weapon"},{item_name:"Pearl",item_type:"weapon"},{item_name:"Pelt",item_type:"weapon"},{item_name:"Pendant",item_type:"weapon"},{item_name:"Pet",item_type:"weapon"},{item_name:"Pick",item_type:"weapon"},{item_name:"Pike",item_type:"weapon"},{item_name:"Pin",item_type:"weapon"},{item_name:"Plant",item_type:"weapon"},{item_name:"Pot",item_type:"weapon"},{item_name:"Potion",item_type:"weapon"},{item_name:"Pouch",item_type:"weapon"},{item_name:"Powder",item_type:"weapon",plurality_adapter:"bag of"},{item_name:"Quill",item_type:"weapon"},{item_name:"Quiver",item_type:"weapon"},{item_name:"Ram",item_type:"weapon"},{item_name:"Rapier",item_type:"weapon"},{item_name:"Ring",item_type:"weapon"},{item_name:"Robes",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Rod",item_type:"weapon"},{item_name:"Rope",item_type:"weapon"},{item_name:"Ruby",item_type:"weapon"},{item_name:"Rucksack",item_type:"weapon"},{item_name:"Rune",item_type:"weapon"},{item_name:"Sack",item_type:"weapon"},{item_name:"Saddle",item_type:"weapon"},{item_name:"Saddlebag",item_type:"weapon"},{item_name:"Salt",item_type:"weapon"},{item_name:"Salve",item_type:"weapon"},{item_name:"Sandal",item_type:"weapon"},{item_name:"Scepter",item_type:"weapon"},{item_name:"Scroll",item_type:"weapon"},{item_name:"Seal",item_type:"weapon"},{item_name:"Shackles",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Shield",item_type:"weapon"},{item_name:"Shirt",item_type:"weapon"},{item_name:"Short Bow",item_type:"weapon"},{item_name:"Shovel",item_type:"weapon"},{item_name:"Shroud",item_type:"weapon"},{item_name:"Sickle",item_type:"weapon"},{item_name:"Sleeve",item_type:"weapon"},{item_name:"Sling",item_type:"weapon"},{item_name:"Slippers",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Soil",item_type:"weapon"},{item_name:"Longspear",item_type:"weapon"},{item_name:"Spear",item_type:"weapon"},{item_name:"Spectacles",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Spur",item_type:"weapon"},{item_name:"Staff",item_type:"weapon"},{item_name:"Light Staff",item_type:"weapon"},{item_name:"Blade Staff",item_type:"weapon"},{item_name:"Quarter Staff",item_type:"weapon"},{item_name:"Stake",item_type:"weapon"},{item_name:"Stick",item_type:"weapon"},{item_name:"Stone",item_type:"weapon"},{item_name:"Sword",item_type:"weapon"},{item_name:"Talisman",item_type:"weapon"},{item_name:"Tambourine",item_type:"weapon"},{item_name:"Telescope",item_type:"weapon"},{item_name:"Thread",item_type:"weapon"},{item_name:"Throwing Knife",item_type:"weapon"},{item_name:"Tome",item_type:"weapon"},{item_name:"Tool Knife",item_type:"weapon"},{item_name:"Torch",item_type:"weapon"},{item_name:"Toy",item_type:"weapon"},{item_name:"Trident",item_type:"weapon"},{item_name:"Trinket",item_type:"weapon"},{item_name:"Trip Wire",item_type:"weapon"},{item_name:"Trumpet",item_type:"weapon"},{item_name:"Two Handed Axe",item_type:"weapon"},{item_name:"Vase",item_type:"weapon"},{item_name:"Vest",item_type:"weapon"},{item_name:"Vial",item_type:"weapon"},{item_name:"Wand",item_type:"weapon"},{item_name:"War Pick",item_type:"weapon"},{item_name:"Wet Stone",item_type:"weapon"},{item_name:"Whip",item_type:"weapon"},{item_name:"Whistle",item_type:"weapon"},{item_name:"Statue",item_type:"weapon"},{item_name:"Hourglass",item_type:"weapon"},{item_name:"Cart",item_type:"weapon"},{item_name:"Wagon",item_type:"weapon"},{item_name:"Sigil",item_type:"weapon"},{item_name:"Plume",item_type:"weapon"},{item_name:"Catapult",item_type:"weapon"},{item_name:"Wisp",item_type:"weapon"},{item_name:"Fountain",item_type:"weapon"},{item_name:"Well",item_type:"weapon"},{item_name:"Vault",item_type:"weapon"},{item_name:"Katana",item_type:"weapon"},{item_name:"Battleaxe",item_type:"weapon"},{item_name:"Halberg",item_type:"weapon"},{item_name:"War Hammer",item_type:"weapon"},{item_name:"Short Sword",item_type:"weapon"},{item_name:"Long Sword",item_type:"weapon"},{item_name:"Chainmail",item_type:"weapon"},{item_name:"Studded Armor",item_type:"weapon"},{item_name:"Leather Armor",item_type:"weapon"},{item_name:"Voodoo Doll",item_type:"weapon"},{item_name:"Diorama",item_type:"weapon"},{item_name:"Artifact",item_type:"weapon"},{item_name:"Scimitar",item_type:"weapon"},{item_name:"Spyglass",item_type:"weapon"},{item_name:"Mug",item_type:"weapon"},{item_name:"Tank",item_type:"weapon"},{item_name:"Fish",item_type:"weapon"},{item_name:"Lantern",item_type:"weapon"},{item_name:"Circlet",item_type:"weapon"},{item_name:"Scarf",item_type:"weapon"},{item_name:"Earring",item_type:"weapon"},{item_name:"Relic",item_type:"weapon"},{item_name:"Bone",item_type:"weapon"},{item_name:"Lady",item_type:"weapon"},{item_name:"Lord",item_type:"weapon"},{item_name:"Glass",item_type:"weapon"},{item_name:"Ninja Star",item_type:"weapon"},{item_name:"Contract",item_type:"weapon"},{item_name:"Beacon",item_type:"weapon"},{item_name:"Worm",item_type:"weapon"},{item_name:"Headband",item_type:"weapon"},{item_name:"Headdress",item_type:"weapon"},{item_name:"Chair",item_type:"weapon"},{item_name:"Dowel",item_type:"weapon"},{item_name:"Wheel",item_type:"weapon"},{item_name:"Wig",item_type:"weapon"},{item_name:"Cap",item_type:"weapon"},{item_name:"Fan",item_type:"weapon"},{item_name:"Match",item_type:"weapon"},{item_name:"Matches",item_type:"weapon",plurality_adapter:"box of"},{item_name:"Paste",item_type:"weapon",plurality_adapter:"jar of"},{item_name:"Cauldron",item_type:"weapon"},{item_name:"Pitcher",item_type:"weapon"},{item_name:"Sponge",item_type:"weapon"},{item_name:"Rose",item_type:"weapon"},{item_name:"Lily",item_type:"weapon"},{item_name:"Tulip",item_type:"weapon"},{item_name:"Sunflower",item_type:"weapon"},{item_name:"Marigold",item_type:"weapon"},{item_name:"Daisy",item_type:"weapon"},{item_name:"Orchid",item_type:"weapon"},{item_name:"Daffodil",item_type:"weapon"},{item_name:"Hydrangea",item_type:"weapon"},{item_name:"Cherry blossom",item_type:"weapon"},{item_name:"Poppy",item_type:"weapon"},{item_name:"Lavender",item_type:"weapon"},{item_name:"Jasmine",item_type:"weapon"},{item_name:"Gardenia",item_type:"weapon"},{item_name:"Chrysanthemum",item_type:"weapon"},{item_name:"Hibiscus",item_type:"weapon"},{item_name:"Paintbrush",item_type:"weapon"},{item_name:"Ladder",item_type:"weapon"},{item_name:"Rack",item_type:"weapon"},{item_name:"Poker",item_type:"weapon"},{item_name:"Tongs",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Brush",item_type:"weapon"},{item_name:"Saw",item_type:"weapon"},{item_name:"Drill",item_type:"weapon"},{item_name:"Blanket",item_type:"weapon"},{item_name:"Clasp",item_type:"weapon"},{item_name:"Lilac",item_type:"weapon"},{item_name:"Plow",item_type:"weapon"},{item_name:"Bat",item_type:"weapon"},{item_name:"Chisel",item_type:"weapon"},{item_name:"Bag",item_type:"weapon"},{item_name:"Grinder",item_type:"weapon"},{item_name:"Plank",item_type:"weapon"},{item_name:"Rag",item_type:"weapon"},{item_name:"Beatle",item_type:"weapon"},{item_name:"Firefly",item_type:"weapon"},{item_name:"Gnats",item_type:"weapon",plurality_adapter:"swarm of"},{item_name:"Cat",item_type:"weapon"},{item_name:"Leech",item_type:"weapon"},{item_name:"Flint and Steel",item_type:"weapon"},{item_name:"Razor",item_type:"weapon"},{item_name:"Hatchet",item_type:"weapon"},{item_name:"Cord",item_type:"weapon"},{item_name:"Golem",item_type:"weapon"},{item_name:"Nail",item_type:"weapon"},{item_name:"Handkerchief",item_type:"weapon"},{item_name:"Lens",item_type:"weapon"},{item_name:"Bark",item_type:"weapon",plurality_adapter:"chunk of"},{item_name:"Straw",item_type:"weapon",plurality_adapter:"bundle of"},{item_name:"Wool",item_type:"weapon",plurality_adapter:"tuft of"},{item_name:"Leather",item_type:"weapon",plurality_adapter:"patch of"},{item_name:"Scissors",item_type:"weapon",plurality_adapter:"pair of"},{item_name:"Sash",item_type:"weapon"},{item_name:"Broadsword",item_type:"weapon"},{item_name:"Two-bladed Sword",item_type:"weapon"},{item_name:"Banded Shield",item_type:"weapon"},{item_name:"Syringe",item_type:"weapon"},{item_name:"Great Axe",item_type:"weapon"},{item_name:"Felling Axe",item_type:"weapon"},{item_name:"Throwing Axe",item_type:"weapon"},{item_name:"Spikes",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Lance",item_type:"weapon"},{item_name:"Knuckles",item_type:"weapon"},{item_name:"Scythe",item_type:"weapon"},{item_name:"Barrel",item_type:"weapon"},{item_name:"Basket",item_type:"weapon"},{item_name:"Bedroll",item_type:"weapon"},{item_name:"Incense",item_type:"weapon",plurality_adapter:"block of"},{item_name:"Bell",item_type:"weapon"},{item_name:"Bottle",item_type:"weapon"},{item_name:"Brewing Supples",item_type:"weapon",plurality_adapter:"kit of"},{item_name:"Dice",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Cards",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Hidden Blade",item_type:"weapon"},{item_name:"Arrowhead",item_type:"weapon"},{item_name:"Sled",item_type:"weapon"},{item_name:"Ink Pen",item_type:"weapon"},{item_name:"Lotion",item_type:"weapon"},{item_name:"Magnifying Glass",item_type:"weapon"},{item_name:"Manacles",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Handcuffs",item_type:"weapon",plurality_adapter:"set of"},{item_name:"Monocle",item_type:"weapon"},{item_name:"Mess Kit",item_type:"weapon"},{item_name:"Grenade",item_type:"weapon"},{item_name:"Perfume",item_type:"weapon",plurality_adapter:"vial of"},{item_name:"Scent",item_type:"weapon",plurality_adapter:"vial of"},{item_name:"Oil",item_type:"weapon",plurality_adapter:"flask of"},{item_name:"Poison",item_type:"weapon",plurality_adapter:"bottle of"},{item_name:"Wine",item_type:"weapon",plurality_adapter:"bottle of"},{item_name:"Outfit",item_type:"weapon"},{item_name:"Trowel",item_type:"weapon"},{item_name:"Soap",item_type:"weapon"},{item_name:"Splint",item_type:"weapon"},{item_name:"Pillow",item_type:"weapon"},{item_name:"Tent",item_type:"weapon"},{item_name:"Tinderbox",item_type:"weapon"},{item_name:"Waterskin",item_type:"weapon"},{item_name:"Wineskin",item_type:"weapon"},{item_name:"Egg",item_type:"weapon"},{item_name:"Scales",item_type:"weapon",plurality_adapter:"set of"}],NN=[{prefixes:["Absent"],suffixes:["Absence","Absences","the Absent"]},{prefixes:["Aching"],suffixes:["Aching","Aches"]},{prefixes:["Absolving","Absolved"],suffixes:["Absolution","Absolving"]},{prefixes:["Absorbing","Absorbed"],suffixes:["Absorption","Absorbing"]},{prefixes:["Abstracting","Abstracted"],suffixes:["Abstraction","Abstracting"]},{prefixes:["Abundant","Abundance"],suffixes:["Abundance","Abounding"]},{prefixes:["Accurate","Accuracy"],suffixes:["Accuracy","the Accurate"]},{prefixes:["Adapting","Adapted"],suffixes:["Adaptation","Adapting","the Adapted"]},{prefixes:["Addictive","Addicted","Addicts"],suffixes:["Addicting","Addiction","the Addicted","Addicts","the Addict"]},{prefixes:["Adoring","Adorable","Adored"],suffixes:["Adoring","the Adored","Adoration"]},{prefixes:["Adorned","Adorning"],suffixes:["Adorning"]},{prefixes:["Adultered","Adulterer's"],suffixes:["Adulteration","Adulterers","the Adulterer"]},{prefixes:["Aged","Old","Aging"],suffixes:["Aging","the Aged","The Old","Ages"]},{prefixes:["Agile"],suffixes:["Agility","the Agile"]},{prefixes:["Agonizing","Agonized","Agony"],suffixes:["Agony","Agonizing","the Agonized","the Agony"]},{prefixes:["Air","Aired"],suffixes:["Air","Airs","the Air"]},{prefixes:["Alliance","Allied"],suffixes:["Alliance","Alliances","the Ally","Allies"]},{prefixes:["Altruistic"],suffixes:["Altruism","the Altruistic"]},{prefixes:["Amphibious","Amphibian","Amphibian's"],suffixes:["Amphibians","the Amphibian"]},{prefixes:["Ancestral","Ancestor","Ancestors"],suffixes:["Ancestry","Ancestors","the Ancestors"]},{prefixes:["Anchoring","Anchored"],suffixes:["Anchoring","Anchors"]},{prefixes:["Ancient","Ancient's"],suffixes:["Ancients","the Ancient","the Ancients"]},{prefixes:["Annihilation","Annihilated"],suffixes:["Annihilation","Annihilations"]},{prefixes:["Annoying","Annoyed"],suffixes:["Annoyance","Annoying","the Annoyed"]},{prefixes:["Anxious","Anxiety"],suffixes:["Anxiety","Anxiousness","the Anxious"]},{prefixes:["Armageddon"],suffixes:["Armageddon","Armageddons"]},{prefixes:["Artistic","Art","Artist's"],suffixes:["Art","Artistry","the Artist"]},{prefixes:["Ashen","Ash"],suffixes:["Ash"]},{prefixes:["Aspiring"],suffixes:["Aspiration","Aspiring"]},{prefixes:["Assassination","Assassin's"],suffixes:["Assassination","Assassins","the Assassin"]},{prefixes:["Atheist","Atheist's"],suffixes:["Atheism","Atheists","the Atheist"]},{prefixes:["Atiquated"],suffixes:["Antiquity"]},{prefixes:["Attack"],suffixes:["Attack","Attacks","Attacking"]},{prefixes:["Authentic"],suffixes:["Authenticity"]},{prefixes:["Bandit","Bandit's"],suffixes:["Banditry","Bandits","the Bandit"]},{prefixes:["Barbarous","Barbarian's"],suffixes:["Barbarity","Barbarians","the Barbarian"]},{prefixes:["Bard's"],suffixes:["Bards","Barding","the Bard"]},{prefixes:["Bare","Baren"],suffixes:["Baring","the Baren"]},{prefixes:["Bathing","Bather's"],suffixes:["Bathing","Baths"]},{prefixes:["Beautiful"],suffixes:["Beauty","Beauties","Beautification","the Beautiful"]},{prefixes:["Beckoning","Beckoned"],suffixes:["Beckoning","the Beckoned"]},{prefixes:["Bejeweled","Encrusted","Bejeweling"],suffixes:["Jewelry","Jewels","Bejeweling"]},{prefixes:["Bent"],suffixes:["Bending","Bends","the Bent"]},{prefixes:["Bestial","Beast's"],suffixes:["Beasts","the Beast"]},{prefixes:["Betrayed","Betraying","Betrayer's"],suffixes:["Betrayal","Betraying","the Betrayer","Betrayers"]},{prefixes:["Binding","Bound"],suffixes:["Binding","Bindings","the Bound"]},{prefixes:["Bitter"],suffixes:["Bitterness","the Bitter"]},{prefixes:["Blazing","Blaze"],suffixes:["Blazes","Blazing"]},{prefixes:["Bleak"],suffixes:["Bleakness","the Bleak"]},{prefixes:["Blending","Blended"],suffixes:["Blending","Blends"]},{prefixes:["Blessed","Blessing"],suffixes:["Blessings","Blessing","the Blessed"]},{prefixes:["Blind"],suffixes:["Blinding","the Blind"]},{prefixes:["Blocking","Blocked"],suffixes:["Blocking","Blocks"]},{prefixes:["Blood","Bloody"],suffixes:["Blood","Bloods","the Bloody"]},{prefixes:["Blossom's","Blossoming","Blossom"],suffixes:["Blossoming","Blossoms","the Blossom"]},{prefixes:["Boiling","Boiled"],suffixes:["Boiling","Boils"]},{prefixes:["Bold"],suffixes:["Boldness","the Bold"]},{prefixes:["Bondage","Bonded"],suffixes:["Bonds","Bondage"]},{prefixes:["Bone"],suffixes:["Bones"]},{prefixes:["Boring","Bored"],suffixes:["Boredom","the Bored","Boring"]},{prefixes:["Borrowed"],suffixes:["Borrowing"]},{prefixes:["Bounty"],suffixes:["Bounties"]},{prefixes:["Bouyant"],suffixes:["Bouyancy","the Bouyant"]},{prefixes:["Bovine"],suffixes:["Bovines"]},{prefixes:["Branded","Branding"],suffixes:["Branding","Brands","the Branded"]},{prefixes:["Brass"],suffixes:["Brass"]},{prefixes:["Brazen"],suffixes:["the Brazen"]},{prefixes:["Breath","Breathing"],suffixes:["Breaths","Breathing","the Breathing","the Breathless","Breath"]},{prefixes:["Bridge","Bridging"],suffixes:["Bridges","Bridging"]},{prefixes:["Brief"],suffixes:["Brevity"]},{prefixes:["Brine"],suffixes:["Brine","Brines"]},{prefixes:["Brittle"],suffixes:["the Brittle"]},{prefixes:["Broad"],suffixes:["the Broad"]},{prefixes:["Broken","Breaking"],suffixes:["Breaking","the Broken"]},{prefixes:["Brother's"],suffixes:["Brotherhood","Brothers","the Brotherhood"]},{prefixes:["Burdensome","Burdened"],suffixes:["Burdens","Burdening","the Burdened","the Overburdened"]},{prefixes:["Burglar's","Burglar"],suffixes:["Burglary","Burglars","the Burglar"]},{prefixes:["Burrowing","Burrowed"],suffixes:["Burrowing","Burrows"]},{prefixes:["Bursted","Bursting"],suffixes:["Bursting","Bursts"]},{prefixes:["Butcher","Butchering","Butcher's"],suffixes:["Butchering","Butchers","the Butcher"]},{prefixes:["Calamitous","Calamity"],suffixes:["Calamity","Calamities"]},{prefixes:["Calculated"],suffixes:["Calculation","Calculations","the Calculated"]},{prefixes:["Calm","Calmed","Calming"],suffixes:["Calm","Calming","the Calm","the Calmed"]},{prefixes:["Campfire"],suffixes:["Campfires"]},{prefixes:["Camping","Camp"],suffixes:["Camps","Camping"]},{prefixes:["Canine"],suffixes:["Canines","the Canine"]},{prefixes:["Cannibalistic","Cannibal","Cannibalized"],suffixes:["Cannibalism","Cannibals","the Cannibal"]},{prefixes:["Careless"],suffixes:["Carelessness","the Careless"]},{prefixes:["Carnivorous","Carnivore's"],suffixes:["Carnivores","the Carnivore"]},{prefixes:["Cartographer's","Cartographer"],suffixes:["Cartography","Cartographers","the Cartographer"]},{prefixes:["Carved","Carving"],suffixes:["Carving","Carvings","the Carved"]},{prefixes:["Catasrophic","Catastrophe"],suffixes:["Catastrophe","Catastrophies"]},{prefixes:["Cautious"],suffixes:["Caution","Cautions","the Cautious"]},{prefixes:["Centaur","Centaur's"],suffixes:["Centaurs","the Centaur"]},{prefixes:["Chakra"],suffixes:["Chakras","the Chakra"]},{prefixes:["Chance"],suffixes:["Chance","Chances"]},{prefixes:["Change","Changed","Changing"],suffixes:["Change","Changes","the Changed","Changing"]},{prefixes:["Chaos","Chaotic"],suffixes:["Chaos","the Chaotic"]},{prefixes:["Charismatic"],suffixes:["Charisma"]},{prefixes:["Charity"],suffixes:["Charity","Charitable"]},{prefixes:["Charlatan","Charlatan's"],suffixes:["Charlatans","the Charlatan"]},{prefixes:["Charm","Charming","Charmed"],suffixes:["Charms","Charming"]},{prefixes:["Cheating","Cheater's"],suffixes:["Cheating","Cheats","the Cheater","Cheaters"]},{prefixes:["Cheerful","Cheery"],suffixes:["Cheer","Cheering","the Cheerful"]},{prefixes:["Chipped","Chipping"],suffixes:["Chipping","Chips"]},{prefixes:["Chivalrous"],suffixes:["Chivalry","the Chivalrous"]},{prefixes:[],suffixes:["Chores"]},{prefixes:["Churning","Churned"],suffixes:["Churn","Churning"]},{prefixes:["Clamorous"],suffixes:["Clamor","Clamors"]},{prefixes:["Clan"],suffixes:["Clans"]},{prefixes:["Claw"],suffixes:["Claws"]},{prefixes:["Clean","Cleaned","Cleaning"],suffixes:["Cleaning","the Clean"]},{prefixes:["Cleansed","Cleansing"],suffixes:["Cleansing","Cleanses","the Cleansed"]},{prefixes:["Cleaved","Cleaving"],suffixes:["Cleaving"]},{prefixes:["Climbing"],suffixes:["Climbing","Climbs"]},{prefixes:["Cloning","Clone","Clone's"],suffixes:["Cloning","Clones","the Clone"]},{prefixes:[],suffixes:["Clues"]},{prefixes:["Cohesive"],suffixes:["Cohesion"]},{prefixes:["Cold"],suffixes:["Cold","Colds","the Cold"]},{prefixes:["Collection","Collections","Collector's"],suffixes:["Collection","Collections","the Collector","Collectors"]},{prefixes:["Comedic","Comedy","Comedian's"],suffixes:["Comedy","Comedies","Comedians","the Comedian"]},{prefixes:["Comet"],suffixes:["Comets"]},{prefixes:["Comfort","Comforting","Comforted"],suffixes:["Comfort","Comforting","the Comforted"]},{prefixes:["Command","Commander's","Commandment"],suffixes:["Command","Commanding","Commanders","the Commander","Commands","Commandments","Commandment"]},{prefixes:["Commencement","Commencing"],suffixes:["Commencement","Commencing"]},{prefixes:["Communication","Communications"],suffixes:["Communication","Communications"]},{prefixes:["Compact","Compacted"],suffixes:["Compacting"]},{prefixes:["Complaining","Complaint","Complainer's"],suffixes:["Complaints","Complaining","the Complainer"]},{prefixes:["Complicated","Complex"],suffixes:["Complication","Complications","the Complicated","Complexities"]},{prefixes:["Compression","Compressed"],suffixes:["Compression","Compressing"]},{prefixes:["Compulsive"],suffixes:["Compulsion","Compulsions"]},{prefixes:["Comrade's"],suffixes:["Comraderie","Comrades","the Comrade"]},{prefixes:["Conceited"],suffixes:["Conceit","Conceits","the Conceited"]},{prefixes:["Concentration","Concentrated"],suffixes:["Concentration","Concentrations","the Concentrated"]},{prefixes:["Confidant's"],suffixes:["Confidants","Confiding","the Confidant"]},{prefixes:["Confidence","Confident"],suffixes:["Confidence","the Confident"]},{prefixes:["Connection","Connected"],suffixes:["Connection","Connecting","Connections","the Connected"]},{prefixes:["Conquering","Conquest","Conquered"],suffixes:["Conquering","Conquest","Conquests","the Conquered"]},{prefixes:["Constitution","Constituted"],suffixes:["Constitution","Constitutions"]},{prefixes:["Construction","Constructed"],suffixes:["Construction","Constructions"]},{prefixes:["Contagion","Contagious"],suffixes:["Contagion","the Contagious"]},{prefixes:["Containment","Contained"],suffixes:["Containment","Containing"]},{prefixes:["Contradiction","Contradicted","Contradicting"],suffixes:["Contradiction","Contradicting"]},{prefixes:["Convenience","Convenient"],suffixes:["Convenience","Conveniences"]},{prefixes:["Conversion","Converted"],suffixes:["Conversion","Converts","the Converted"]},{prefixes:["Costly"],suffixes:["Costs"]},{prefixes:["Courage","Courageous"],suffixes:["Courage","the Courageous"]},{prefixes:["Crafting","Crafted"],suffixes:["Crafting","Crafts"]},{prefixes:["Creeping","Creepy"],suffixes:["Creeping","Creeps","the Creepy"]},{prefixes:["Crime","Criminal's"],suffixes:["Crime","Crimes","the Criminal","Criminals"]},{prefixes:["Crossing","Crossed"],suffixes:["Crossing","Crosses","Cross"]},{prefixes:["Crowding","Crowded"],suffixes:["Crowding","Crowds","the Crowd"]},{prefixes:["Cruel"],suffixes:["Cruelty","the Cruel","Cruelties"]},{prefixes:["Crumbling","Crumbled"],suffixes:["Crumbling","Crumbles"]},{prefixes:["Crusty","Crusted"],suffixes:["Crusts","the Crusty","Crusting"]},{prefixes:["Crystal","Crystallic"],suffixes:["Crystals"]},{prefixes:["Cumbersome","Encumbered"],suffixes:["Encumbering","the Encumbered"]},{prefixes:["Cunning"],suffixes:["Cunning","the Cunning"]},{prefixes:["Cursed","Cursing"],suffixes:["Curses","Cursing","the Cursed"]},{prefixes:["Curved","Curving"],suffixes:["Curves","Curving"]},{prefixes:["Damning","Damned"],suffixes:["Damning","the Damned"]},{prefixes:["Dark","Darkness"],suffixes:["Dark","the Dark","Darkness"]},{prefixes:["Death"],suffixes:["Death","the Dead"]},{prefixes:["Deception","Deceiving"],suffixes:["Deception","Deceiving","the Deceived"]},{prefixes:["Decomposed"],suffixes:["Decomposition","Decomposing"]},{prefixes:["Defence","Defending","Defender's","Defended"],suffixes:["Defence","Defences","Defending","the Defender","Defenders"]},{prefixes:["Defying"],suffixes:["Defiance","Defying","the Defier"]},{prefixes:["Delaying"],suffixes:["Delay","Delaying","Delays"]},{prefixes:["Delicate"],suffixes:["Delicate","the Delicate","Delicacies"]},{prefixes:["Democratic"],suffixes:["Democracy"]},{prefixes:["Demolition","Demolisher's"],suffixes:["Demolishing","Demolition","the Demolisher"]},{prefixes:["Dented"],suffixes:["Dents","the Dented"]},{prefixes:["Depressed","Depressing"],suffixes:["Depression","the Depressed","Depressing"]},{prefixes:["Deranged"],suffixes:["Derangement","the Deranged"]},{prefixes:["Desert"],suffixes:["the Desert","Deserts"]},{prefixes:["Desire","Desired"],suffixes:["Desire","Desires","the Desired"]},{prefixes:["Despairing","Despaired"],suffixes:["Despair","Despairing","the Despairing"]},{prefixes:["Desperate"],suffixes:["Desperation","the Desperate"]},{prefixes:["Detailed","Detailing"],suffixes:["Details","Detailing","the Detailed"]},{prefixes:["Deteriorated","Deteriorating"],suffixes:["Deterioration","Deteriorating","Deteriorated"]},{prefixes:["Devil's"],suffixes:["Devils","the Devil","Devilry"]},{prefixes:["Diligent"],suffixes:["Diligence","the Diligent"]},{prefixes:["Diminished","Diminishing"],suffixes:["Diminishing"]},{prefixes:["Directional"],suffixes:["Direction","Directions","the Directed"]},{prefixes:["Discerning"],suffixes:["Discernment","the Discerning"]},{prefixes:["Discreet"],suffixes:["Discresion","the Discreet"]},{prefixes:["Disease"],suffixes:["Disease","the Diseased"]},{prefixes:["Disected"],suffixes:["Disection","the Disected","Disecting"]},{prefixes:["Disposed","Disposing"],suffixes:["Disposal","Disposing","the Disposed"]},{prefixes:["Disrupted","Disruption"],suffixes:["Disruption","Disrupting"]},{prefixes:["Dissenting","Dissident's","Dissenter's"],suffixes:["Dissenting","the Dissident","Dissidents","Dissenters","the Dissenter"]},{prefixes:["Distraction","Distracting","Distracted"],suffixes:["Distraction","Distractions","the Distracted","Distracting"]},{prefixes:["Divergent","Diverting","Diverted"],suffixes:["Divergence","Diverting"]},{prefixes:["Dividing","Divided"],suffixes:["Dividing","Division","the Divided"]},{prefixes:["Divorce","Divorcing","Divorced"],suffixes:["Divorce","Divorcing"]},{prefixes:["Diligent"],suffixes:["Diligence","the Diligent"]},{prefixes:["Dominant","Dominating","Dominated"],suffixes:["Dominance","Dominating","the Dominated"]},{prefixes:["Doppelganger's"],suffixes:["Doppelgangers","the Doppelganger"]},{prefixes:["Doubting","doubted"],suffixes:["Doubt","doubts","the Doubter"]},{prefixes:["Dragon","Dragon's"],suffixes:["the Dragon","Dragons"]},{prefixes:["Draining","Drained"],suffixes:["Draining","the Drained"]},{prefixes:["Dream","Dreaming"],suffixes:["Dreams","Draming"]},{prefixes:["Dreary"],suffixes:[]},{prefixes:["Dreaded"],suffixes:["Dread","Dreads"]},{prefixes:["Drunkard's"],suffixes:["Drunkards","the Drunkard"]},{prefixes:["Dry","Drying"],suffixes:["Dryness","Drying"]},{prefixes:["Dueling","Dueler's"],suffixes:["Dueling","Duels","the Dueler","Duelers"]},{prefixes:["Dull","Dulled","Dulling"],suffixes:["Dulling"]},{prefixes:[],suffixes:["Duration"]},{prefixes:["Durable"],suffixes:["the Durable"]},{prefixes:["Dwarven","Dwarf's","Dwarf"],suffixes:["Dwarves","the Dwarf"]},{prefixes:[],suffixes:["Ears"]},{prefixes:["Earth"],suffixes:["Earth","the Earth"]},{prefixes:["Echoing"],suffixes:["Echos","Echoing"]},{prefixes:["Education","Educating"],suffixes:["Education","Educating","the Educated"]},{prefixes:["Electric","Electrocuted"],suffixes:["Electricity","the Electrocuted"]},{prefixes:["Elemental"],suffixes:["Elements"]},{prefixes:["Elevatated","Elevating"],suffixes:["Elevation","Elevating","the Elevated"]},{prefixes:["Elven","Elfish","Elf's","Elf"],suffixes:["Elves","the Elf"]},{prefixes:["Elusive","Eluded","Eluding"],suffixes:["Eluding"]},{prefixes:["Emotion","Emotional"],suffixes:["Emotions","Emotion","the Emotional"]},{prefixes:["Empowerment","Empowering"],suffixes:["Empowerment","Empowering","the Empowered"]},{prefixes:["Enchanting","Enchanted"],suffixes:["Enchanting","the Enchanted","Enchantments"]},{prefixes:["Enclosed","Enclosing","Closing","Closed"],suffixes:["Enclosures","the Enclosed","Closing"]},{prefixes:["Endurance","Enduring"],suffixes:["Endurance","Enduring"]},{prefixes:["Enhancement","Enhanced","Enhancing"],suffixes:["Enhancement","Enhancing"]},{prefixes:["Enlightening","Enlightened"],suffixes:["Enlightening","the Enlightened","Enlightenment"]},{prefixes:["Entanglement","Entangling","Entangled"],suffixes:["Entanglement","Entangling","the Entangled"]},{prefixes:["Entertainment","Entertaining","Entertaining"],suffixes:["Entertainment","Entertaining","the Entertained"]},{prefixes:["Entrancing","Entranced"],suffixes:["Entrancing","Trances"]},{prefixes:["Erasing","Erased"],suffixes:["Erasure","Erasing","the Erased"]},{prefixes:["Erosion","Eroding","Eroded"],suffixes:["Erosion","Eroding"]},{prefixes:["Escape","Escaping","Escapee's"],suffixes:["Escape","Escapes","Escaping","the Escapee"]},{prefixes:["Etching","Etched"],suffixes:["Etching"]},{prefixes:["Ethereal"],suffixes:["the Ethereal"]},{prefixes:["Evaporating","Evaporated"],suffixes:["Evaporation","Evaporating"]},{prefixes:["Exercise","Exercising"],suffixes:["Exercise","Exercising"]},{prefixes:["Exhausting","Exhausted"],suffixes:["Exhaustion","Exhausting","the Exhausted"]},{prefixes:["Exotic"],suffixes:["the Exotic"]},{prefixes:["Expanse","Expansive","Expanding"],suffixes:["the Expanse","Expanding","Expanses"]},{prefixes:["Explosion","Exploded","Exploding"],suffixes:["Explosion","Explosions"]},{prefixes:["Expulsion"],suffixes:["Expulsion"]},{prefixes:["Extraction"],suffixes:["Extraction","Extracts"]},{prefixes:["Eye"],suffixes:["Eyes"]},{prefixes:["Failure","Failing","Failed","Failure's"],suffixes:["Failure","Failures","Failing"]},{prefixes:["Faith","Faithful"],suffixes:["Faith","the Faith"]},{prefixes:["Faked","Fake"],suffixes:["Fake","Faking"]},{prefixes:["Falling","Fallen"],suffixes:["Falling","Falls","the Fallen"]},{prefixes:["Famous"],suffixes:["Fame","the Famous"]},{prefixes:["Fang"],suffixes:["Fangs"]},{prefixes:["Fatal"],suffixes:["Fatality"]},{prefixes:["Fateful"],suffixes:["Fates","Fate"]},{prefixes:["Fear","Fearful","Fearing"],suffixes:["Fear","Fears","Fearing"]},{prefixes:["Feasting"],suffixes:["Feasting","Feasts"]},{prefixes:["Foot"],suffixes:["Feet"]},{prefixes:["Fertility","Fertile"],suffixes:["Fertility"]},{prefixes:["Festive"],suffixes:["Festivities","Festivals"]},{prefixes:["Fickle"],suffixes:["Fickleness"]},{prefixes:["Fighter's"],suffixes:["Fighters","the Fighter"]},{prefixes:["Finding","Found","Finder's"],suffixes:["Finding","the Finder"]},{prefixes:["Fine"],suffixes:["Finess"]},{prefixes:["Finicky"],suffixes:["the Finicky"]},{prefixes:["Fire","Fired","Flaming"],suffixes:["Fire","Flames","Flaming"]},{prefixes:["Flawed"],suffixes:["Flaws"]},{prefixes:["Flaying","Flayed"],suffixes:["Flaying","the Flayed"]},{prefixes:["Fleeting"],suffixes:["Fleeting"]},{prefixes:["Flickering"],suffixes:["Flickers","Flickering"]},{prefixes:["Flight"],suffixes:["Flight","Flights"]},{prefixes:["Floating"],suffixes:["Floating"]},{prefixes:["Flood","Flooding"],suffixes:["Floods","Flooding"]},{prefixes:["Flower","Flowering"],suffixes:["Flowers","Flowering"]},{prefixes:["Fog","Foggy","Fogging"],suffixes:["Fog","Fogs","Fogging"]},{prefixes:["Force","Forced","Forcing"],suffixes:["Force","Forcing","Forces"]},{prefixes:["Foresight"],suffixes:["Foresight","Foresights"]},{prefixes:["Forgery","Forged"],suffixes:["Forgery","Forgeries","Forges","the Forge"]},{prefixes:["Forgotten","Forgetting"],suffixes:["Forgetting","the Forgotten"]},{prefixes:["Fortification","Fortifying"],suffixes:["Fortification","Fortifying","Fortifications","Forts"]},{prefixes:["Fortune"],suffixes:["Fortune","Fortunes"]},{prefixes:["Found"],suffixes:["Finding","Findings"]},{prefixes:["Fragile"],suffixes:["Fragilty"]},{prefixes:["Framed"],suffixes:["Framing","Frames"]},{prefixes:["Frankenstein"],suffixes:["Frankenstein"]},{prefixes:["Frank"],suffixes:["Frankness"]},{prefixes:["Fraternal"],suffixes:["Fraternity","Fraternities"]},{prefixes:["Frayed","Fraying"],suffixes:["Fraying"]},{prefixes:["Frivolous"],suffixes:["Frivolity"]},{prefixes:["Frowning"],suffixes:["Frowns"]},{prefixes:["Frustrating","Frustrated"],suffixes:["Frustration","Frustrations","the Frustrated"]},{prefixes:["Full","Filling","Filled"],suffixes:["Fullness","Filling","the Full","the Filled"]},{prefixes:["Fungal"],suffixes:["Funguses"]},{prefixes:["Gaining"],suffixes:["Gaining"]},{prefixes:["Game","Gaming","Gambler's","Gambling"],suffixes:["Games","Gaming","Gambling","the Gambler","Gamblers"]},{prefixes:["Garden","Gardening"],suffixes:["Gardens","Gardening"]},{prefixes:["Gas"],suffixes:["Gas","Gasses"]},{prefixes:["Gathering","Gathered"],suffixes:["Gathering"]},{prefixes:["Ghostly"],suffixes:["Ghosts","the Ghost"]},{prefixes:["Gladiator's"],suffixes:["Gladiators","the Gladiator"]},{prefixes:["Glinting"],suffixes:["Glinting"]},{prefixes:["Glittery"],suffixes:["Glitter","Glitters"]},{prefixes:["Glorious"],suffixes:["Glory","Glories"]},{prefixes:["Glowing"],suffixes:["Glowing"]},{prefixes:["Gluttonous"],suffixes:["Gluttony","the Glutton"]},{prefixes:["Goblin's","Goblin"],suffixes:["Goblins","the Goblin"]},{prefixes:["Godly"],suffixes:["Gods","the Gods"]},{prefixes:["Golden"],suffixes:["Gold"]},{prefixes:["Grand"],suffixes:["Grandeur"]},{prefixes:["Grappling"],suffixes:["Grappling","Grapples"]},{prefixes:["Greedy"],suffixes:["Greed","the Greedy"]},{prefixes:["Grim"],suffixes:[]},{prefixes:["Grimy"],suffixes:["the Grimy"]},{prefixes:["Grinning"],suffixes:["Grins","Grinning"]},{prefixes:["Griping"],suffixes:["Gripes"]},{prefixes:["Growth","Growing","Grown"],suffixes:["Growth","Growths","Growing","the Grown"]},{prefixes:["Guidance","Guiding","Guided","Guide's","Guide"],suffixes:["Guidance","Guiding","the Guided","Guides","the Guide"]},{prefixes:["Guile"],suffixes:["Guile"]},{prefixes:["Guilty"],suffixes:["Guilt","the Guilty"]},{prefixes:["Hafling","Hafling's"],suffixes:["the Hafling","Haflings"]},{prefixes:["Haggling"],suffixes:["Haggling","the Haggler"]},{prefixes:["Hallucination","Hallucinating","Hallucinated"],suffixes:["Hallucination","Hallucinations","Hallucinating"]},{prefixes:["Hand","Handy"],suffixes:["Hands"]},{prefixes:["Harrowing","Harrowed"],suffixes:["Harrowing","the Harrowed"]},{prefixes:["Headache"],suffixes:["Headache","Headaches"]},{prefixes:["Healing","Healer's","Healer"],suffixes:["Healing","the Healer","Healers"]},{prefixes:["Heartache"],suffixes:["Heartache","Heartaches","Hearts","the Heart"]},{prefixes:["Heat","Hot","Heating"],suffixes:["Heat","Heating"]},{prefixes:["Heaven","Heavenly"],suffixes:["Heaven","Heavens","the Heavens","the Heavenly"]},{prefixes:["Hell","Hellish"],suffixes:["Hell","Hells","the Hellish"]},{prefixes:["Hiding","Hidden"],suffixes:["Hiding","the Hidden"]},{prefixes:["Hilarious"],suffixes:["Hilarity","the Hilarious"]},{prefixes:["History","Historical"],suffixes:["History","Histories"]},{prefixes:["Holiday"],suffixes:["Holidays"]},{prefixes:["Hollow"],suffixes:["the Hollow"]},{prefixes:["Holy"],suffixes:["Holies","the Holy"]},{prefixes:["Homing"],suffixes:["Homing"]},{prefixes:["Honesty","Honest"],suffixes:["Honesty","the Honest"]},{prefixes:["Hope","Hopeful"],suffixes:["Hope","Hopes","the Hopeful"]},{prefixes:["Horror","Horrible"],suffixes:["Horror","Horrors","the Horrible"]},{prefixes:["Humid"],suffixes:["Humidity"]},{prefixes:["Humble"],suffixes:["Humility","the Humble"]},{prefixes:["Hunger","Hungry"],suffixes:["Hunger","Hungers","the Hungry"]},{prefixes:["Ice","Icy","Icicled"],suffixes:["Ice","Icicles"]},{prefixes:["Ignition","Igniting","Ignited"],suffixes:["Ignition","the Ignited"]},{prefixes:["Illumination","Illuminated","Illuminating"],suffixes:["Illumination","Illuminations","Illuminating","the Illuminated"]},{prefixes:["Illusion","Illusionist's","Illusionist"],suffixes:["Illusion","Illusions","Illusionists","the Illusionist"]},{prefixes:["Immolation","Immolated","Immolating"],suffixes:["Immolation","Immolating"]},{prefixes:["Impeding"],suffixes:["Impediment"]},{prefixes:["Imperial","Emperor's"],suffixes:["Empires","the Emperor","Emperors"]},{prefixes:["Impossible","Impossibility"],suffixes:["Impossibility","Impossibilities","the Impossible"]},{prefixes:["Imposter","Imposter's"],suffixes:["the Imposter"]},{prefixes:["Industrious"],suffixes:["Industry","Industries"]},{prefixes:["Inebriation","Inebriated","Inebriate's"],suffixes:["Inebriation","the Inebriate"]},{prefixes:["Infection","Infected","Infecting"],suffixes:["Infection","Infecting","the Infected"]},{prefixes:["Infinite","Infinity"],suffixes:["Infinity","Infinities","the Infinite"]},{prefixes:["Innocence","Innocent","Innocent's"],suffixes:["Innocence","the Innocent"]},{prefixes:["Insipious"],suffixes:[]},{prefixes:["Inspection","Inspecting","Inspector's"],suffixes:["Inspection","Inspections","Inspectors","the Inspector"]},{prefixes:[],suffixes:["Integrity"]},{prefixes:["Intelligence","Intelligent"],suffixes:["Intelligence","the Intelligent"]},{prefixes:["Interesting","Interested"],suffixes:["Interesting","Interests","the Interested"]},{prefixes:["Intoxicating","Intoxication"],suffixes:["Intoxicating","Intoxication","the Intoxicated"]},{prefixes:["Intricate"],suffixes:["Intricacies","Intricacy"]},{prefixes:["Intrusion","Intrusive","Intruder's"],suffixes:["Intrusion","Intrusions","the Intruder","Intruders"]},{prefixes:["Invasive","Invader's"],suffixes:["Invasion","Invaders","the Invader"]},{prefixes:["Investigation","Investigating","Investigator's"],suffixes:["Investigation","Investigating","Investigators","the Investigator"]},{prefixes:["Invoker's","Invoking","Invocation"],suffixes:["Invokers","the Invoker","Invokation","Invoking"]},{prefixes:["Isolation","Isolated","Isolating"],suffixes:["Isolation","Isolating","the Isolated"]},{prefixes:["Jabbing"],suffixes:["Jabbing","Jabs"]},{prefixes:["Jagged"],suffixes:["Jagged","the Jagged"]},{prefixes:["Jailing","Jailed"],suffixes:["Jailing","Jails"]},{prefixes:["Joining","Joined"],suffixes:["Joining"]},{prefixes:["Judgement","Judging","Judge's"],suffixes:["Judgement","Judges","the Judge","Judging"]},{prefixes:["Juggling","Juggler's"],suffixes:["Juggling","Jugglers","the Juggler"]},{prefixes:["Justice"],suffixes:["Justice"]},{prefixes:["Kindness","Kind"],suffixes:["Kindness","the Kind"]},{prefixes:["King's","King","Kingly"],suffixes:["Kings","the King"]},{prefixes:["Knobby"],suffixes:["Knobs"]},{prefixes:["Large","Oversized"],suffixes:[]},{prefixes:["Lava","Magma"],suffixes:["Lava","Magma"]},{prefixes:["Lavish"],suffixes:["Lavishness","the Lavish"]},{prefixes:["Lazy"],suffixes:["Laziness","the Lazy"]},{prefixes:["Leadership","Leader's","Leading"],suffixes:["Leadership","Leaders","the Leader","Leading"]},{prefixes:["Learning","Learned"],suffixes:["Learning","the Learned"]},{prefixes:["Leeching"],suffixes:["Leeching","Leeches","the Leech"]},{prefixes:["Legion"],suffixes:["Legion","Legions"]},{prefixes:["Leverage","Leveraging"],suffixes:["Leverage","Levers","Leveraging"]},{prefixes:["Liberation","Liberating"],suffixes:["Liberation","Liberating","the Liberated"]},{prefixes:["Lying","Lier's"],suffixes:["Lies","Liers","the Lier"]},{prefixes:["Life","Living"],suffixes:["Life","Lives","Living","the Living","the Alive"]},{prefixes:["Light","Lit"],suffixes:["Light"]},{prefixes:["Literature","Literary"],suffixes:["Literature","the Literate"]},{prefixes:["Logic","Logical"],suffixes:["Logic","the Logical"]},{prefixes:["Longing"],suffixes:["Longing"]},{prefixes:["Lore"],suffixes:["Lore"]},{prefixes:["Losing"],suffixes:["Losing"]},{prefixes:["Lost"],suffixes:["the Lost"]},{prefixes:["Lucid"],suffixes:["Lucidity","the Lucid"]},{prefixes:["Luck","Lucky"],suffixes:["Luck","the Lucky"]},{prefixes:["Luminous"],suffixes:[]},{prefixes:["Mad","Madman's"],suffixes:["Madness","the Mad","Madmen","the Madman"]},{prefixes:["Magician's","Magical"],suffixes:["Magicians","the Magician","Magic","Magics"]},{prefixes:["Malice"],suffixes:["Malice"]},{prefixes:["Mapping","Mapped"],suffixes:["Mapping","the Map","Maps"]},{prefixes:["Masking","Masked"],suffixes:["Masking","Masks","the Masked"]},{prefixes:["Massacre","Massacring"],suffixes:["Massacre","Massacres","Massacring"]},{prefixes:["Masterful","Master's","Masterwork"],suffixes:["Masterful","Masters","the Master","Mastery"]},{prefixes:["Maternity","Maternal"],suffixes:["Maternity","Motherhood","Mothers","the Mother"]},{prefixes:["Mathematics","Mathematical","Mathematician's"],suffixes:["Mathematics","Math","the Mathematician","Mathematicians"]},{prefixes:["Matrimony"],suffixes:["Matrimony"]},{prefixes:["Medication","Medicinal","Medic's"],suffixes:["Medication","Medics","the Medic"]},{prefixes:["Melting","Melted"],suffixes:["Melting"]},{prefixes:["Memorable"],suffixes:["the Memorable","Memory"]},{prefixes:["Mending","Mended"],suffixes:["Mending"]},{prefixes:["Mercy","Merciful"],suffixes:["Mercy","the Merciful"]},{prefixes:["Metallic"],suffixes:["Metallic","Metals"]},{prefixes:[],suffixes:["Mirages"]},{prefixes:["Mired"],suffixes:["Mires"]},{prefixes:["Misdirection","Misdirecting"],suffixes:["Misdirection","Misdirected","the Misdirected"]},{prefixes:["Misfortune"],suffixes:["Misfortune"]},{prefixes:["Misguidance"],suffixes:["Misguidance"]},{prefixes:["Mist","Misty"],suffixes:["Mist","Mists"]},{prefixes:["Moderation","Moderate","Moderating"],suffixes:["Moderation","Moderating","the Moderate"]},{prefixes:["Moldable","Molding","Moldy"],suffixes:["Moldable","Mold","Molds","the Moldy"]},{prefixes:["Monarchal"],suffixes:["Monarchs","the Monarch","Monarchies"]},{prefixes:["Monitoring"],suffixes:["Monitoring"]},{prefixes:["Monster","Monster's"],suffixes:["the Monster","Monsters"]},{prefixes:["Moonlight","Moonlit","Moonlighting"],suffixes:["Moonlight"]},{prefixes:["Morbidity","Morbid"],suffixes:["Morbidity"]},{prefixes:["Morphing","Morphed"],suffixes:["Morphing","the Morphed"]},{prefixes:["Moss","Mossy"],suffixes:["Moss"]},{prefixes:["Movement","Moving"],suffixes:["Movement","Moving","the Moved"]},{prefixes:["Muddy"],suffixes:["Mud","the Muddy"]},{prefixes:["Murder","Murdering","Murderer's"],suffixes:["Murder","Murdering","Murderers","the Murderer"]},{prefixes:["Murky"],suffixes:["Murkiness"]},{prefixes:["Musical","Musician's"],suffixes:["Music","Musicians","the Musician"]},{prefixes:["Mutation","Mutated","Mutating","Mutant's"],suffixes:["Mutation","Mutated","the Mutated","the Mutant","Mutants"]},{prefixes:["Mutilation","Mutilating"],suffixes:["Mutilation","Mutilating","the Mutilated"]},{prefixes:["Mutinous"],suffixes:["Mutiny","Mutinies"]},{prefixes:["Destruction","Destructive"],suffixes:["Mutally Assured Destruction","Destruction"]},{prefixes:["Mystery","Mysterious"],suffixes:["Mystery","Mysteries","the Mysterious"]},{prefixes:["Named"],suffixes:["Names"]},{prefixes:["Narration","Narrated","Narrator's"],suffixes:["Narration","Narrators","the Narrator"]},{prefixes:["Narrow"],suffixes:["the Narrows"]},{prefixes:["Natural","Nature","Naturalist's","Naturalist"],suffixes:["Nature","the Naturalist","Naturalists"]},{prefixes:["Nauseous"],suffixes:["Nausea"]},{prefixes:["Necromantic","Necromancer","Necromancer's"],suffixes:["Necromancy","Necromancers","the Necromancer"]},{prefixes:["Neutrality","Neutral"],suffixes:["Neutrality","the Neutral"]},{prefixes:["New"],suffixes:[]},{prefixes:["Nightmare"],suffixes:["Nightmares"]},{prefixes:["Nimble"],suffixes:["the Nimble"]},{prefixes:["Noble","Noble's"],suffixes:["Nobility","Nobles","the Noble"]},{prefixes:["Nocturnal"],suffixes:["Nights","the Night"]},{prefixes:["Nudging","Nudged"],suffixes:["Nudging","Nudges"]},{prefixes:["Nutrition","Nutritious"],suffixes:["Nutrition","Nutrients"]},{prefixes:["Obedience","Obedient"],suffixes:["Obedience","the Obedient"]},{prefixes:["Obscuring","Obscured"],suffixes:["Obscuring"]},{prefixes:["Oily","Oiled"],suffixes:["Oil","Oils"]},{prefixes:["Omnivorious","Omnivore","Omnivore's"],suffixes:["Omnivores","the Omnivore"]},{prefixes:["Overflow","Overflowing"],suffixes:["Overflow","Overflowing"]},{prefixes:["Overgrown","Overgrowing"],suffixes:["Overgrowth","Overgrowing","the Overgrown"]},{prefixes:["Overloaded","Overloading"],suffixes:["Overload","Overloading","the Overloaded"]},{prefixes:["Pacifism","Pacifist","Pacifist's"],suffixes:["Pacifism","Pacifists","the Pacifist"]},{prefixes:["Padded"],suffixes:["Padding"]},{prefixes:["Painted","Painter","Painter's"],suffixes:["Paint","Paints","Painters","the Painter"]},{prefixes:["Paired"],suffixes:["Pairing"]},{prefixes:["Pandemonium"],suffixes:["Pandemonium"]},{prefixes:["Paradox"],suffixes:["Paradoxes"]},{prefixes:["Passion","Passionate"],suffixes:["Passion","Passions","the Passionate"]},{prefixes:["Paternity","Paternal"],suffixes:["Paternity"]},{prefixes:["Patterned"],suffixes:["Patterns"]},{prefixes:["Peace","Peaceful"],suffixes:["Peace","the Peaceful"]},{prefixes:["Performance","Performer's"],suffixes:["Performance","Performers","the Performer"]},{prefixes:["Permanence","Permanent"],suffixes:["Permanence"]},{prefixes:["Persistence","Persistent","Persisting"],suffixes:["Persistence","the Persistent","Persisting"]},{prefixes:["Persuasion","Persuasive","Persuaded","Persuading"],suffixes:["Persuasion","Persuading","the Persuaded"]},{prefixes:["Playful"],suffixes:["Playfulness","the Playful"]},{prefixes:["Poetic","Poet's"],suffixes:["Poetry","Poets","the Poet"]},{prefixes:["Pointed","Pointing"],suffixes:["Points","Pointing"]},{prefixes:["Poison","Poisoned","Poisoning"],suffixes:["Poison","Poisons","Poisoning"]},{prefixes:["Polarizing","Polarized","Polar"],suffixes:["Polarizing"]},{prefixes:["Porcine"],suffixes:["Swine","Porcines"]},{prefixes:["Portal","Portalling"],suffixes:["Portals","Portalling"]},{prefixes:["Portrayal","Portraying"],suffixes:["Portrayal","Portraying"]},{prefixes:["Impoverishing","Poor"],suffixes:["Poverty","Impoverishing","the Poor"]},{prefixes:["Prank","Pranking","Prankster's"],suffixes:["Pranks","Pranking","Pranksters","the Prankster"]},{prefixes:["Preparation","Prepared","Preparing"],suffixes:["Preparation","Preparing","the Prepared"]},{prefixes:["Presenting","Presentation"],suffixes:["Presence","Presentation"]},{prefixes:["Preservation","Preserving"],suffixes:["Preservation","Preserves","Preserving","the Preserved"]},{prefixes:["Prince","Prince's","Princely"],suffixes:["Princes","the Prince"]},{prefixes:["Princess","Princess's"],suffixes:["the Princess","Princesses"]},{prefixes:["Prismatic"],suffixes:["Prisms"]},{prefixes:["Privileged"],suffixes:["Privilege","Privileges","the Privileged"]},{prefixes:["Procrastination","Procrastinator's"],suffixes:["Procrastination","Procrastinators","the Procrastinator"]},{prefixes:["Progress","Progression","Progressive's","Progressive"],suffixes:["Progress","Progressives","the Progressive"]},{prefixes:["Propelled","Propelling"],suffixes:["Propellant"]},{prefixes:["Prophecy","Prophetic","Prophet's","Prophesying"],suffixes:["Prophecy","Prophecying","Prophets","the Prophet"]},{prefixes:["Pulverizing","Pulverized"],suffixes:["Pulverizing","the Pulverized"]},{prefixes:["Puppeteering"],suffixes:["Puppeteering"]},{prefixes:["Pure","Purification","Purifying","Purified"],suffixes:["Purity","the Pure","the Purified","Purifying","Purification"]},{prefixes:["Putrid"],suffixes:["the Putrid"]},{prefixes:["Qualified"],suffixes:["Quality","Qualification","The Qualified"]},{prefixes:["Quantum"],suffixes:[]},{prefixes:["Queasy"],suffixes:["Queasiness","the Queasy"]},{prefixes:["Queen's","Queenly"],suffixes:["Queens","the Queen"]},{prefixes:["Quenching","Quenched"],suffixes:["Quenching"]},{prefixes:["Questing"],suffixes:["Questing","Quests"]},{prefixes:["Quick","Quickening","Quickened"],suffixes:["the Quick","Quickening"]},{prefixes:["Quiet"],suffixes:["Quiet","the Quiet"]},{prefixes:["Racial","Racing"],suffixes:["Race","Races","Racing"]},{prefixes:["Radiance"],suffixes:["Radiance"]},{prefixes:["Radiant"],suffixes:["Radiant"]},{prefixes:["Radiation"],suffixes:["Radiation"]},{prefixes:["Raging","Enraging","Enraged"],suffixes:["Rage","Raging","Enraging"]},{prefixes:["Rallying"],suffixes:["Rallies","the Rallied"]},{prefixes:["Randomization","Random","Randomized","Randomizing"],suffixes:["Randomization","Randomizing"]},{prefixes:["Rare"],suffixes:["Rarity","the Rare"]},{prefixes:["Ray"],suffixes:["Rays"]},{prefixes:["Reaching"],suffixes:["Reaching"]},{prefixes:["Readiness","Ready","Readying"],suffixes:["Readiness","Readying","the Ready"]},{prefixes:["Reaper","Reaper's","Reaping"],suffixes:["Reapers","the Reaper","Reaping"]},{prefixes:["Rearguard"],suffixes:["the Rearguard"]},{prefixes:["Reasoning"],suffixes:["Reason","Reasoning"]},{prefixes:["Rebellion","Rebellious","Rebel's","Rebelling"],suffixes:["Rebellion","Rebelling","Rebels","the Rebel"]},{prefixes:["Recharging","Recharged"],suffixes:["Recharge"]},{prefixes:["Reciprocity","Reciprocal","Reciprocating"],suffixes:["Reciprocity","Reciprocating"]},{prefixes:["Reckless"],suffixes:["Recklessness","the Reckless"]},{prefixes:["Reckoning","Reckoned"],suffixes:["Reckoning","the Reckoning","the Reckoned"]},{prefixes:["Reclamation","Reclaiming","Reclaimer's","Reclaimed"],suffixes:["Reclamation","Reclaiming","the Reclaimed"]},{prefixes:["Reconciliation","Reconciling"],suffixes:["Reconciliation","Reconciling"]},{prefixes:["Recording","Recorded"],suffixes:["Recording","Records"]},{prefixes:["Recovery","Recovering","Recovered"],suffixes:["Recovery","Recovering","the Recovered"]},{prefixes:["Recruiting","Recruit's"],suffixes:["Recruiting","Recruits","the Recruit"]},{prefixes:["Redoing"],suffixes:["Redo","Redos","Redoing"]},{prefixes:["Reduction","Reducing","Reduced"],suffixes:["Reduction","Reducing"]},{prefixes:["Refilling","Refilled"],suffixes:["Refills","Refilling"]},{prefixes:["Reflection","Reflecting"],suffixes:["Reflection","Reflecting","Reflections"]},{prefixes:["Refrigeration"],suffixes:["Refrigeration"]},{prefixes:["Regal","Royal"],suffixes:["Royalty","Regality"]},{prefixes:["Rehabilitation","Rehabilitating"],suffixes:["Rehabilitation","Rehabilitation"]},{prefixes:["Reinforcing","Reinforced"],suffixes:["Reinforcing","Reinforced"]},{prefixes:["Rejuvination","Rejuvinated","Rejuvinating"],suffixes:["Rejuvination","Rejuvinating","the Rejuvinated"]},{prefixes:["Relaxation","Relaxed","Relaxing"],suffixes:["Relaxation","Relaxing","the Relaxed"]},{prefixes:["Relieving"],suffixes:["Relief","the Relieved"]},{prefixes:["Religious"],suffixes:["Religion","Religions"]},{prefixes:["Remembrance","Remembering"],suffixes:["Remembrance","Remembering"]},{prefixes:["Remorseful"],suffixes:["Remorse","the Remorseful"]},{prefixes:["Rending","Rent"],suffixes:["Rending"]},{prefixes:["Repair","Repairing","Repaired"],suffixes:["Repair","Repairing","the Repaired"]},{prefixes:["Repentance","Repentant","Repenting"],suffixes:["Repentance","Repenting"]},{prefixes:["Replay","Replaying"],suffixes:["Replay","Replays","Replaying"]},{prefixes:["Republican"],suffixes:["the Republic","Republic"]},{prefixes:["Resolving","Resolution","Resolved"],suffixes:["Resolution","Resolving"]},{prefixes:["Restitution"],suffixes:["Restitution"]},{prefixes:["Restoration","Restoring","Restored"],suffixes:["Restoration","Restoration","the Restored"]},{prefixes:["Retraction","Retracting","Retracted"],suffixes:["Retraction","Retracting"]},{prefixes:["Retreat","Retreating"],suffixes:["Retreat","Retreating"]},{prefixes:["Returning","Returned"],suffixes:["Returning","the Returned"]},{prefixes:["Revealing","Revelation","Revealed"],suffixes:["Revealing","the Revealed","Revelation","Revelations"]},{prefixes:["Revenged"],suffixes:["Revenge","the Revenged"]},{prefixes:["Revision","Revised","Revising"],suffixes:["Revision","Revising"]},{prefixes:["Reviving"],suffixes:["Reviving","Revives","the Revived"]},{prefixes:["Revolution","Revolutionary","Revolutionary's"],suffixes:["Revolution","Revolutions","Revolutionaries","the Revolutionary"]},{prefixes:["Risk","Risky"],suffixes:["Risk","Risks"]},{prefixes:["Robust"],suffixes:["Robustness","the Robust"]},{prefixes:["Romance","Romantic"],suffixes:["Romance","Romances","the Romantic"]},{prefixes:["Rough"],suffixes:["Roughing"]},{prefixes:["Rounded","Rounding"],suffixes:["Rounding"]},{prefixes:["Ruined","Ruining"],suffixes:["Ruin","Ruins","Ruining"]},{prefixes:["Rusty","Rusting"],suffixes:["Rust","Rusting"]},{prefixes:["Sabotage","Sabatoged"],suffixes:["Sabotage","Sabotaging"]},{prefixes:["Sacred"],suffixes:["Sanctity","the Sacred"]},{prefixes:["Sacrificial","Sacrificing"],suffixes:["Sacrifices","Sacrificing"]},{prefixes:["Salvation","Saving","Saved"],suffixes:["Salvation","Saving","the Saved"]},{prefixes:["Savage","Savaging"],suffixes:["the Savage","Savaging","Savages"]},{prefixes:["Savant's"],suffixes:["the Savant","Savants"]},{prefixes:["Scarce"],suffixes:["Scarcity","the Scarce"]},{prefixes:["Scarring","Scarred"],suffixes:["Scars","Scarring"]},{prefixes:["Scented"],suffixes:["Scents"]},{prefixes:["Scrying"],suffixes:["Scrying"]},{prefixes:["Sealed","Sealing","Sealer's"],suffixes:["the Sealed","Sealing","Sealers","the Sealer"]},{prefixes:["Searing","Seared"],suffixes:["Searing"]},{prefixes:["Secrecy","Secret"],suffixes:["Secrecy","Secrets"]},{prefixes:["Self Destruction"],suffixes:["Self Destruction"]},{prefixes:["Selfish"],suffixes:["Selfishness","the Selfish"]},{prefixes:["Serenity","Serene"],suffixes:["Serenity","the Serene"]},{prefixes:["Serpentine","Serpent's"],suffixes:["the Serpent","Serpents"]},{prefixes:["Service"],suffixes:["Service","Services"]},{prefixes:["Shady","Shaded"],suffixes:["Shade"]},{prefixes:["Shadow","Shadowed"],suffixes:["Shadow","Shadows","the Shadow"]},{prefixes:["Shame","Shamed","Shameful"],suffixes:["Shame","the Ashamed","the Shamed"]},{prefixes:["Sharp","Sharpening"],suffixes:["Sharpness","Sharpening"]},{prefixes:["Shattered","Shattering"],suffixes:["the Shattered","Shattering"]},{prefixes:["Shelter","Sheltering","Sheltered"],suffixes:["Shelter","Shelters","Sheltering","the Sheltered"]},{prefixes:["Shield","Sheilding","Shielded"],suffixes:["Shields","Shielding"]},{prefixes:["Shimmering"],suffixes:["Shimmering","Shimmers"]},{prefixes:["Shocking","Shocked"],suffixes:["Shocking","the Shocked","Shocks"]},{prefixes:["Short","Shortening"],suffixes:["Shortening"]},{prefixes:["Shrieking"],suffixes:["Shrieks","Shrieking"]},{prefixes:["Shrinking"],suffixes:["Shrinking"]},{prefixes:["Sick","Sickening"],suffixes:["Sickness","Sickening","Sicknesses"]},{prefixes:["Sight","Seeing"],suffixes:["Sight","Seeing","the Seeing"]},{prefixes:["Silence","Silent"],suffixes:["Silence","the Silent"]},{prefixes:["Silvery","Silver"],suffixes:["Silver"]},{prefixes:["Singed","Singeing"],suffixes:["Cinders","Singeing"]},{prefixes:["Sisterhood"],suffixes:["Sisterhood","Sisters"]},{prefixes:["Sleek"],suffixes:["Sleekness"]},{prefixes:["Sleeping","Slumbering"],suffixes:["Sleep","Sleeping","Slumber","Slumbering"]},{prefixes:["Slime","Slimey","Slimed"],suffixes:["Slime","Slimes"]},{prefixes:["Sloth","Slothful"],suffixes:["Sloths","the Sloth"]},{prefixes:["Small"],suffixes:[]},{prefixes:["Smashing","Smashed"],suffixes:["Smashing","the Smashed"]},{prefixes:["Smoke","Smoking","Smoked"],suffixes:["Smoke","Smoking"]},{prefixes:["Sneaking","Sneaky"],suffixes:["Sneaking"]},{prefixes:["Soaring"],suffixes:["Soaring"]},{prefixes:["Soberness","Sober"],suffixes:["Soberness","the Sober"]},{prefixes:["Solidarity"],suffixes:["Solidarity"]},{prefixes:["Solidification","Solidifying","Solid"],suffixes:["Solidification","Solidifying"]},{prefixes:["Song"],suffixes:["Songs","Song"]},{prefixes:["Sorrow","Sad"],suffixes:["Sorrow","Sadness"]},{prefixes:["Space"],suffixes:["Space"]},{prefixes:["Spanning","Spanned"],suffixes:["Spanning","Spans"]},{prefixes:["Sparing","Spared"],suffixes:["Sparing","the Spared"]},{prefixes:["Sparkling"],suffixes:["Sparkles","Sparkling"]},{prefixes:["Speed","Speedy"],suffixes:["Speed"]},{prefixes:["Spider's","Spidery"],suffixes:["Spiders","the Spider"]},{prefixes:["Spirit","Spirit's","Spiritual"],suffixes:["Spirit","the Spirit","Spirits","the Spiritual"]},{prefixes:["Spreading"],suffixes:["Spreading"]},{prefixes:["Squeazing","Squeazed"],suffixes:["Squeazing"]},{prefixes:["Stalling","Stalled"],suffixes:["Stalling"]},{prefixes:["Stamina"],suffixes:["Stamina"]},{prefixes:["Stasis"],suffixes:["Stasis"]},{prefixes:["Stealth","Stealthy"],suffixes:["Stealth","the Stealthy"]},{prefixes:["Stifling","Stifled"],suffixes:["Stifling"]},{prefixes:["Storage"],suffixes:["Storage"]},{prefixes:["Storm","Stormy"],suffixes:["Storms","the Storm"]},{prefixes:["Strong","Strengthening"],suffixes:["Strength","the Strong","Strengthening"]},{prefixes:["Stress","Stressful","Stressing"],suffixes:["Stress","Stressing","the Stressed"]},{prefixes:["Stunning","Stunned"],suffixes:["Stunning","the Stunned"]},{prefixes:["Sublime","Sublimation"],suffixes:["Sublimation","the Sublime"]},{prefixes:["Submersion","Submersive","Submersed","Submersing"],suffixes:["Submersion","Submersing","the Submersed"]},{prefixes:["Subservience","Subservient"],suffixes:["Subservience","the Subservient"]},{prefixes:["Subtle"],suffixes:["Subtlety"]},{prefixes:["Success","Successful"],suffixes:["Success","Successes","the Successful"]},{prefixes:["Suffocation","Suffocated","Suffocated"],suffixes:["Suffocation","Suffocating"]},{prefixes:["Summoning","Summoned"],suffixes:["Summoning","the Summoned","Summons"]},{prefixes:["Sundering","Sundered"],suffixes:["Sundering"]},{prefixes:["Sunlight","Sunlit"],suffixes:["Sunlight"]},{prefixes:["Surgery","Surgical"],suffixes:["Surgery","Surgeries"]},{prefixes:["Surprise","Surprising"],suffixes:["Surprise","Surprising","Suprises"]},{prefixes:["Survival","Suriving","Survivor's"],suffixes:["Survival","Surviving","Survivors","the Survivor"]},{prefixes:["Suspicion","Suspicious","Suspecting","Suspected"],suffixes:["Suspicion","Suspecting","the Suspected"]},{prefixes:["Sustenance","Sustaining","Sustained"],suffixes:["Sustenance","Sustained"]},{prefixes:["Swamp","Swampy"],suffixes:["Swamps","the Swamp"]},{prefixes:["Sweet"],suffixes:["Sweetness"]},{prefixes:["Swimming","Swimmer's"],suffixes:["Swimming","Swimmers","the Swimmer"]},{prefixes:["Synchronization","Synchronized","Synchronizing"],suffixes:["Synchronization","Synchronizing"]},{prefixes:["Tall"],suffixes:["Height"]},{prefixes:["Taming","Tamed","Tame"],suffixes:["Taming","the Tame","the Tamed"]},{prefixes:["Targeted","Targeting"],suffixes:["the Targeted","Targeting","Targets"]},{prefixes:["Tarnished","Tarnishing"],suffixes:["the Tarnished","Tarnishing"]},{prefixes:["Tearful","Crying"],suffixes:["Tears","Crying","Cries"]},{prefixes:["Tedious"],suffixes:["Tedium"]},{prefixes:["Teleportation","Teleporting"],suffixes:["Teleportation","Teleporting"]},{prefixes:["Temptation","Tempting","Tempter's"],suffixes:["Temptation","Tempting","Tempters","the Tempter"]},{prefixes:["Tending","Tended"],suffixes:["Tending"]},{prefixes:["Testing","Tested","Tester's"],suffixes:["Testing","Testers","the Tester"]},{prefixes:["Thirst","Thirsty"],suffixes:["Thirst","the Thirsty"]},{prefixes:["Thrift","Thrifty"],suffixes:["Thrift","the Thrifty"]},{prefixes:["Timing","Timed","Temporal"],suffixes:["Timing"]},{prefixes:["Torture","Tortured","Torturing","Torturer's"],suffixes:["Torture","Torturers","the Torturer","Tortures","Torturing"]},{prefixes:["Toxic"],suffixes:["Toxicity","the Toxic"]},{prefixes:["Toying"],suffixes:["Toying"]},{prefixes:["Tragedy","Tragic"],suffixes:["Tragedy"]},{prefixes:["Tranquillity","Tranquil","Tranquilizing","Tranquilized","Tranquilizer"],suffixes:["Tranquillity","Tranquilizing","Tranquility"]},{prefixes:["Transfiguration","Transfigured","Transfiguring"],suffixes:["Transfiguration","Transfiguring"]},{prefixes:["Transmutation","Transmuted"],suffixes:["Transmutation"]},{prefixes:["Transportation","Transported","Transporting"],suffixes:["Transportation","Transporting"]},{prefixes:["Trapping","Trapped"],suffixes:["Trapping","the Trapped"]},{prefixes:["Travel","Travelling","Travelled"],suffixes:["Travel","Travelling"]},{prefixes:["Treason","Treasonous","Traitor's"],suffixes:["Treason","Traitors","the Traitor"]},{prefixes:["Tremoring"],suffixes:["Tremors","Tremoring"]},{prefixes:["Trial"],suffixes:["Trials"]},{prefixes:["Trickery","Tricky"],suffixes:["Trickery","Tricks"]},{prefixes:["Triumph","Triumphant"],suffixes:["Triumph","Triumphs"]},{prefixes:["Trust","Trusted","Trusting"],suffixes:["Trust","Trusting","the Trusted"]},{prefixes:["Truth","Truthful"],suffixes:["Truth","Truths","Veracity"]},{prefixes:["Tunneling","Tunneled"],suffixes:["Tunneling"]},{prefixes:["Twin"],suffixes:["Twins"]},{prefixes:["Twisted"],suffixes:["the Twisted","Twisting"]},{prefixes:["Tying","Tied"],suffixes:["Tying"]},{prefixes:["Undefined","Undefining"],suffixes:["Undefining","the Undefined"]},{prefixes:["Understanding","Understood"],suffixes:["Understanding","the Understood"]},{prefixes:["Undoing","Undone"],suffixes:["Undoing","the Undone"]},{prefixes:["Unexpected","Unexpecting"],suffixes:["Unexpecting","the Unexpected"]},{prefixes:["United","Uniting"],suffixes:["Uniting","the United"]},{prefixes:["Vagabond's"],suffixes:["the Vagabond","Vagabonds"]},{prefixes:["Validation","Validating","Validated"],suffixes:["Validation","Validating"]},{prefixes:["Valuable","Valued"],suffixes:["Valuable","the Valued"]},{prefixes:["Vampiric","Vampire's"],suffixes:["Vampiric","the Vampire","Vampires"]},{prefixes:["Vanguard"],suffixes:["Vanguards","the Vanguard"]},{prefixes:["Vanity","Vain"],suffixes:["Vanity","the Vain"]},{prefixes:["Vapor","Vaporous","Vaporizing","Vaporized"],suffixes:["Vapor","Vaporizing"]},{prefixes:["Veiled"],suffixes:["Veils"]},{prefixes:["Vested"],suffixes:["Vestiture"]},{prefixes:["Victimization","Victimized","Victim's","Victimizing"],suffixes:["Victimization","Vicitmizing","the Victim","Victims"]},{prefixes:["Vile"],suffixes:["the Vile"]},{prefixes:["Vice"],suffixes:["Vices"]},{prefixes:["Vine"],suffixes:["Vines"]},{prefixes:["Violence","Violent"],suffixes:["Violence","the Violent"]},{prefixes:["Vision","Visionary's"],suffixes:["Vision","Visions","Visionaries","the Visionary"]},{prefixes:["Vitality","Vital"],suffixes:["Vitality"]},{prefixes:["Voyage","Voyaging"],suffixes:["Voyage","Voyaging"]},{prefixes:["Wading"],suffixes:["Wading"]},{prefixes:["Wailing"],suffixes:["Wails","Wailing"]},{prefixes:["Wakening","Awake","Awakening"],suffixes:["Wakening","Awakening","The Awake"]},{prefixes:["Wandering","Wanderer's"],suffixes:["Wandering","Wanderers","the Wanderer"]},{prefixes:["Warmth","Warming","Warmed"],suffixes:["Warmth","Warming"]},{prefixes:["Warped","Warping"],suffixes:["Warping","the Warped"]},{prefixes:["Waste","Wasted","Wasting"],suffixes:["Waste","Wasting","the Wasted"]},{prefixes:["Water"],suffixes:["Water"]},{prefixes:["Weather","Weathered","Weathering"],suffixes:["Weather","Weathering"]},{prefixes:["Weeding"],suffixes:["Weeds","Weeding"]},{prefixes:["Weighty"],suffixes:["Weight"]},{prefixes:["Welding","Welded"],suffixes:["Welding"]},{prefixes:["Wellness"],suffixes:["Wellness","the Well"]},{prefixes:["Werebeast's","Werebeast"],suffixes:["Werebeasts","the Werebeast"]},{prefixes:["Werewolf","Werewolf's"],suffixes:["the Werewolf","Werewolfs"]},{prefixes:["Whimsical"],suffixes:["Whimsy","Whimsies"]},{prefixes:["Wide"],suffixes:["Width"]},{prefixes:["Wild"],suffixes:["the Wild"]},{prefixes:["Wilderness"],suffixes:["Wilderness","the Wilderness"]},{prefixes:["Wind","Windy"],suffixes:["Wind"]},{prefixes:["Wisdom","Wise"],suffixes:["Wisdom","the Wise"]},{prefixes:["Wish","Wishing"],suffixes:["Wishes","Wishing"]},{prefixes:["Withering","Withered"],suffixes:["Withering","the Withered"]},{prefixes:["Wizards","Wizard's","Wizarding"],suffixes:["Wizards","the Wizard","Wizarding"]},{prefixes:["Worship","Worshipping","Worshiper's"],suffixes:["Worship","Worshipping","the Worshiper","Worshippers"]},{prefixes:["Wrestling","Wrestler's"],suffixes:["Wrestling","the Wrestler","Wrestlers"]},{prefixes:["Xenophobia","Xenophobic"],suffixes:["Xenophobia","Xenophobes"]},{prefixes:["Youthful"],suffixes:["Youth","Youths"]},{prefixes:["Creature's"],suffixes:["Creatures","the Creature"]},{prefixes:["Scaring","Scares","Scared"],suffixes:["Scaring","Scares"]},{prefixes:["Fainting"],suffixes:["Fainting"]},{prefixes:["Bacterial"],suffixes:["Bacteria"]},{prefixes:["Recycled","Recycling"],suffixes:["Recycling"]},{prefixes:["Digested","Digesting"],suffixes:["Digestion"]},{prefixes:["Animal"],suffixes:["Animals","the Animal"]},{prefixes:["Malady"],suffixes:["Malady","Maladies"]},{prefixes:["Occupation","Occupier's","Occupying"],suffixes:["Occupation","Occupying","Occupiers","the Occupier"]},{prefixes:["Explorer's","Exploration","Explored"],suffixes:["Explorers","the Explorer","Exploration"]},{prefixes:["Broadcasting"],suffixes:["Broadcasting"]},{prefixes:["Orcish"],suffixes:["Orcs","the Orc"]},{prefixes:["Spawned","Spawning"],suffixes:["Spawning","Spawns"]},{prefixes:["Propagation"],suffixes:["Propagation"]},{prefixes:["Downfall"],suffixes:["Downfalls"]},{prefixes:["Depth"],suffixes:["Depth"]},{prefixes:["Plummetting"],suffixes:["Plummetting"]},{prefixes:["Secure","Securing","Secured","Security"],suffixes:["Securing","Security"]},{prefixes:["Protected","Protection","Protecting"],suffixes:["Protection","the Protected","Protecting"]},{prefixes:["Lasting"],suffixes:["Lasting"]},{prefixes:["Stasis"],suffixes:["Stasis"]},{prefixes:["Labyrinthian"],suffixes:["Labyrinths"]},{prefixes:["Confused","Confusing","Confusion"],suffixes:["Confusion","Confusing","the Confused"]},{prefixes:["Luxury","Luxurious"],suffixes:["Luxury","Luxuries"]},{prefixes:["Precise"],suffixes:["Precision"]},{prefixes:["Casting","Casted"],suffixes:["Casting"]},{prefixes:["Spell"],suffixes:["Spells"]},{prefixes:["Librarian's"],suffixes:["Librarians","the Librarian","Libraries"]},{prefixes:["Open","Opening"],suffixes:["Opening","the Open"]},{prefixes:["Perception","Perceptive"],suffixes:["Perception","Perceptions","the Perceptive"]},{prefixes:["Ambushing","Ambushed"],suffixes:["Galciers"]},{prefixes:["initiative"],suffixes:["Initiative","Initiatives"]},{prefixes:["Signalling"],suffixes:["Signalling","Signals"]},{prefixes:["Sinking","Sunken"],suffixes:["Sinking","the Sunken"]},{prefixes:["Flailing"],suffixes:["Flailing"]},{prefixes:["Soldier's"],suffixes:["the Soldier","Soldiers"]},{prefixes:["Captain's"],suffixes:["the Captain","Captains"]},{prefixes:["Charging","Charged"],suffixes:["Charging","Charges"]},{prefixes:["Splashing","Splashed"],suffixes:["Splashing","Splashes"]},{prefixes:["Grifter's","Grifting"],suffixes:["Grifters","Grifting","the Grifter"]},{prefixes:["Style","Stylized"],suffixes:["Style","Styles"]},{prefixes:["Whirlwind"],suffixes:["Whirlwinds"]},{prefixes:["Hurricane"],suffixes:["Hurricanes"]},{prefixes:["Monsoon"],suffixes:["Monsoons"]},{prefixes:["Flood","Flooding","Flooded"],suffixes:["Flooding","Floods"]},{prefixes:["Bracing","Braced"],suffixes:["Bracing"]},{prefixes:["Outfitting"],suffixes:["Outfitting"]},{prefixes:["Fountain"],suffixes:["Fountains"]},{prefixes:["Guardian","Guardian's","Guarded","Guarding"],suffixes:["Guardians","the Guardian","Guarding","the Guarded"]},{prefixes:["Pensive"],suffixes:["the Pensive"]},{prefixes:["Drowning"],suffixes:["Drowning"]},{prefixes:["Soaking","Soaked"],suffixes:["Soaking"]},{prefixes:["Building","Built"],suffixes:["Building","Buildings"]},{prefixes:["Detection","Detecting","Detected"],suffixes:["Detecting","Detection"]},{prefixes:["Squire's"],suffixes:["Squires","the Squire"]},{prefixes:["Disguising","Disguised","Disguise"],suffixes:["Disguising","Disguise","the Disguised"]},{prefixes:["Waterfall"],suffixes:["Waterfalls"]},{prefixes:["Corrupted","Corruption","Corrupting"],suffixes:["the Corrupted","Corruption","Corrupting"]},{prefixes:["Dormant"],suffixes:["Dormancy"]},{prefixes:["Century"],suffixes:["Centuries"]},{prefixes:["Sentry","Sentry's"],suffixes:["Sentries","the Sentry"]},{prefixes:["Grudging"],suffixes:["Grudging","Grudges"]},{prefixes:["Vaulted"],suffixes:["Vaults"]},{prefixes:["Unassuming"],suffixes:["Unassuming"]},{prefixes:["Gaudy"],suffixes:["the Guady"]},{prefixes:["Showy"],suffixes:["Showcasing"]},{prefixes:["Colossal"],suffixes:["Colossals"]},{prefixes:["Giant"],suffixes:["Giants","the Giant"]},{prefixes:["Sandy","Sand"],suffixes:["Sand","Sands","the Sand"]},{prefixes:["Flashy","Flashing"],suffixes:["Flashing","Flashes"]},{prefixes:["Instruction","Instructing","Instructed"],suffixes:["Instruction","Instructing"]},{prefixes:["Bidding"],suffixes:["Bids","Bidding"]},{prefixes:["Biding"],suffixes:["Biding"]},{prefixes:["Biting","Bitten"],suffixes:["Biting","the Bitten","Bites"]},{prefixes:["Gnawing","Gnawed"],suffixes:["Gnawing"]},{prefixes:["Outcast","Outcast's"],suffixes:["Outcasts","the Outcast"]},{prefixes:["Glacial"],suffixes:["Galciers"]},{prefixes:["White"],suffixes:["White"]},{prefixes:["Black"],suffixes:["Black"]},{prefixes:["Gray"],suffixes:["Gray"]},{prefixes:["Red"],suffixes:["Red"]},{prefixes:["Blue"],suffixes:["Blue"]},{prefixes:["Green"],suffixes:["Green"]},{prefixes:["Yellow"],suffixes:["Yellow"]},{prefixes:["Orange"],suffixes:["Orange"]},{prefixes:["Purple"],suffixes:["Purple"]},{prefixes:["Pink"],suffixes:["Pink"]},{prefixes:["Brown"],suffixes:["Brown"]},{prefixes:["Maroon"],suffixes:["Maroon"]},{prefixes:["Teal"],suffixes:["Teal"]},{prefixes:["Olive"],suffixes:["Olive"]},{prefixes:["Lavender"],suffixes:["Lavender"]},{prefixes:["Crimson"],suffixes:["Crimson"]},{prefixes:["Magenta"],suffixes:["Magenta"]},{prefixes:["Beige"],suffixes:["Beige"]},{prefixes:["Tan"],suffixes:["Tanning"]},{prefixes:["Bronze"],suffixes:["Bronze"]},{prefixes:["Copper"],suffixes:["Copper"]},{prefixes:["Coral"],suffixes:["Coral"]},{prefixes:["Sage"],suffixes:["Sage"]},{prefixes:["Emerald"],suffixes:["Emerald"]},{prefixes:["Violet"],suffixes:["Violet"]},{prefixes:["Indigo"],suffixes:["Indigo"]},{prefixes:["Burgundy"],suffixes:["Burgundy"]},{prefixes:["Turquoise"],suffixes:["Turquoise"]},{prefixes:["Cyan"],suffixes:["Cyan"]},{prefixes:["Anger","Angry"],suffixes:["Anger","the Angry"]},{prefixes:["Disgusted","Disgusting"],suffixes:["Disgusting"]},{prefixes:["Jealous"],suffixes:["Jealousy","the Jealous"]},{prefixes:["Envy","Envied"],suffixes:["the Envious","the Envied","Envy"]},{prefixes:["Love","Loved","Lovely","Lover's"],suffixes:["Love","Loves","Lovers","the Lover"]},{prefixes:["Grateful","Gratitude"],suffixes:["Gratitude"]},{prefixes:["Exciting","Excited"],suffixes:["Exciting","Excitement"]},{prefixes:["Nostalgic","Nolstagia"],suffixes:["Nostalgia"]},{prefixes:["Content","Contentment"],suffixes:["Contentment"]},{prefixes:["Levitation","Levitating","Levitated"],suffixes:["Levitation","Levitating"]},{prefixes:["Diamond"],suffixes:["Diamonds"]},{prefixes:["Ruby"],suffixes:["Rubies"]},{prefixes:["Sapphire"],suffixes:["Sapphires"]},{prefixes:["Emerald"],suffixes:["Emeralds"]},{prefixes:["Aquamarine"],suffixes:["Aquamarines"]},{prefixes:["Amethyst"],suffixes:["Amethysts"]},{prefixes:["Opal"],suffixes:["Opals"]},{prefixes:["Topaz"],suffixes:["Topazes"]},{prefixes:["Garnet"],suffixes:["Garnets"]},{prefixes:["Tourmaline"],suffixes:["Tourmalines"]},{prefixes:["Turquoise"],suffixes:[]},{prefixes:["Jade","Jaded"],suffixes:["Jade","the Jaded"]},{prefixes:["Amber"],suffixes:["Amber"]},{prefixes:["Citrine"],suffixes:["Citrines"]},{prefixes:["Moonstone"],suffixes:["Moonstones","Moonstone"]},{prefixes:["Onyx"],suffixes:["Onyx"]},{prefixes:["Pearl"],suffixes:["Pearls"]},{prefixes:["Blacksmith's","Blacksmithing"],suffixes:["the Blacksmith","Blacksmiths","Blacksmithing"]},{prefixes:["Titanium"],suffixes:["Titanium"]},{prefixes:["Chromium"],suffixes:["Chromium"]},{prefixes:["Magnesium"],suffixes:["Magnesium"]},{prefixes:["Manganese"],suffixes:["Manganese"]},{prefixes:["Cobalt"],suffixes:["Cobalt"]},{prefixes:["Nickel"],suffixes:["Nickel"]},{prefixes:["Aluminum"],suffixes:["Aluminum"]},{prefixes:["Zinc"],suffixes:["Zinc"]},{prefixes:["Platinum"],suffixes:["Platinum"]},{prefixes:["Palladium"],suffixes:["Palladium"]},{prefixes:["Steel"],suffixes:["Steel"]},{prefixes:["Iron"],suffixes:["Iron"]},{prefixes:["Tungsten"],suffixes:["Tungsten"]},{prefixes:["Lithium"],suffixes:["Lithium"]},{prefixes:["Cadmium"],suffixes:["Cadmium"]},{prefixes:["Lead"],suffixes:["Lead"]},{prefixes:["Mercury"],suffixes:["Mercury"]},{prefixes:["Voodoo"],suffixes:["Voodoo"]},{prefixes:["Remnant","Remaining"],suffixes:["Remnants","Remaining"]},{prefixes:["Forest"],suffixes:["Forests","the Forest"]},{prefixes:["Consequence"],suffixes:["Consequences","Consequence"]},{prefixes:["Virus"],suffixes:["Viruses"]},{prefixes:["Swift"],suffixes:["the Swift"]},{prefixes:["Sweeping","Swept"],suffixes:["Sweeping"]},{prefixes:["Odd"],suffixes:["Oddity","Oddities","the Odd"]},{prefixes:["Cancelled","Cancelling"],suffixes:["Cancellation","Cancelling"]},{prefixes:["Trouble","Troublesome","Troubling"],suffixes:["Trouble","Troubles","Troubling"]},{prefixes:["Conflict","Conflicted","Conflicting"],suffixes:["Conflicting","Conflicts","Conflict"]},{prefixes:["Hallowed"],suffixes:[]},{prefixes:["Miniature"],suffixes:["Miniatures"]},{prefixes:["Contention","Contending","Contended"],suffixes:["Contention","Contending"]},{prefixes:["Summer"],suffixes:["Summer"]},{prefixes:["Winter"],suffixes:["Winter"]},{prefixes:["Spring"],suffixes:["Spring"]},{prefixes:["Autumn"],suffixes:["Autumn"]},{prefixes:["Pathing","Pathfinder's"],suffixes:["Pathing","Paths","Pathfinders","the Pathfinder"]},{prefixes:["Commerce"],suffixes:["Commerce"]},{prefixes:["War"],suffixes:["War","Wars"]},{prefixes:["Battle"],suffixes:["Battle","Battles"]},{prefixes:["Yielding","Yielded","Unyielding"],suffixes:["Yielding","Unyielding"]},{prefixes:["Stubborn"],suffixes:["Stubborness","the Stubborn"]},{prefixes:["Wrathful"],suffixes:["Wrath"]},{prefixes:["Slaying"],suffixes:["Slaying","the Slain"]},{prefixes:["Fishing","Fish"],suffixes:["Fish","Fishing"]},{prefixes:["Busy"],suffixes:["Business"]},{prefixes:["Sentient"],suffixes:["Sentience","the Sentient"]},{prefixes:["Sorting","Sorted"],suffixes:["Sorting"]},{prefixes:["Organized","Organizing","Organization"],suffixes:["the Organized","Organizing","Organization"]},{prefixes:["Administration","Administrator's","Administrating"],suffixes:["Administrators","the Administrator","Administrating"]},{prefixes:["Wicked"],suffixes:["Wickedness","the WIcked"]},{prefixes:["Stained","Staining"],suffixes:["Staining","Stains"]},{prefixes:["Fey"],suffixes:["the Fey"]},{prefixes:["Creative","Creativity","Created","Creation","Creating"],suffixes:["Creating","Creativity","the Created","Creation"]},{prefixes:["Witty"],suffixes:["Wit","Wits"]},{prefixes:["Stitching"],suffixes:["Stitching","Stitches"]},{prefixes:["Acceptance","Accepting","Accepted"],suffixes:["Acceptance","Accepting","the Accepted"]},{prefixes:["Rejection","Rejected","Rejecting"],suffixes:["Rejection","the Rejected","Rejecting"]},{prefixes:["Dessert"],suffixes:["Dessert","Desserts"]},{prefixes:["Support","Supported","Supporting"],suffixes:["Supports","Supporting"]},{prefixes:["Scholarship","Scholar's"],suffixes:["Scholars","the Scholar","Scholarship"]},{prefixes:["Trading","Traded"],suffixes:["Trading","the Trade"]},{prefixes:["Lineage"],suffixes:["Lineage"]},{prefixes:["Variance","Varied","Varying","Variation"],suffixes:["Variance","Varying","Variation","Variations"]},{prefixes:["Encasing","Encased"],suffixes:["Encasing"]},{prefixes:["Lake"],suffixes:["Lakes","the Lake"]},{prefixes:["Ocean"],suffixes:["Oceans","the Ocean"]},{prefixes:["Volcanic"],suffixes:["Volcanos"]},{prefixes:["Geographic","Geography"],suffixes:["Geography","Geodes"]},{prefixes:["Heist"],suffixes:["Heists","the Heist"]},{prefixes:["Food","Edible"],suffixes:["Food"]},{prefixes:["Generational","Generation"],suffixes:["Generations"]},{prefixes:["Singularity"],suffixes:["the Singularity","Singularities"]},{prefixes:["Scraping","Scraped"],suffixes:["Scraping"]},{prefixes:["Scrapping","Scrapped"],suffixes:["Scrapping"]},{prefixes:["Majestic"],suffixes:["Majesty"]},{prefixes:["Remarkable"],suffixes:[]},{prefixes:["Verified","Verification","Verifying"],suffixes:["Verification","Verifying"]},{prefixes:["Matrix"],suffixes:["the Matrix"]},{prefixes:["Challenged","Challenging"],suffixes:["Challenging","Challenges","the Challenge"]},{prefixes:["Satisfying","Satisfaction","Satisfied"],suffixes:["Satisfaction","Satisfying","the Satisfied"]},{prefixes:["Counting","Counted","Count's"],suffixes:["Counting","Counts","the Count"]},{prefixes:["Baron's"],suffixes:["Barons","the Baron"]},{prefixes:["Collapsing","Collapsed"],suffixes:["Collapsing"]},{prefixes:["Vortex"],suffixes:["Vortexes","the Vortex"]},{prefixes:["Warning","Warned"],suffixes:["Warning","Warnings"]},{prefixes:["Impactful"],suffixes:["Impact","Impacts"]},{prefixes:["Watching","Watched","Watcher's"],suffixes:["Watching","Watchers","the Watcher"]},{prefixes:["Problem"],suffixes:["Problems"]},{prefixes:["Zombie"],suffixes:["Zombies"]},{prefixes:["Encrypted","Encryption"],suffixes:["Encryption"]},{prefixes:["Crypt"],suffixes:["Crypts"]},{prefixes:["Extreme"],suffixes:["the Extreme"]},{prefixes:["Infiltration","Infiltrating","Infiltrated"],suffixes:["Infiltrating","Infiltration"]},{prefixes:["Spy's","Spying"],suffixes:["Spies","the Spy","Spying"]},{prefixes:["Rocket","Rocketing"],suffixes:["Rocketing","Rockets"]},{prefixes:["Hoarding","Hoarded","Hoarder's"],suffixes:["Hoarders","Hoarding","the Hoarder"]},{prefixes:["Trashy","Trashed"],suffixes:["Trash"]},{prefixes:["Garbage"],suffixes:["Garbage"]},{prefixes:["Wooden"],suffixes:["the Woods","Woods"]},{prefixes:["Codebreaking","Codebreaker's"],suffixes:["Codebreaking","Codebreakers","Codebreaker"]},{prefixes:["Suffering","Sufferer's"],suffixes:["Suffering","Sufferers","the Sufferer"]},{prefixes:["Animation","Animated"],suffixes:["Animation"]},{prefixes:["Earthquake"],suffixes:["Earthquakes"]},{prefixes:["Lightweight"],suffixes:["Lightweights"]},{prefixes:["Heavyweight"],suffixes:["Heavyweights"]},{prefixes:["Cloudy","Clouded"],suffixes:["Clouds","Clouding"]},{prefixes:["Inflammation","Inflamed","Inflaming"],suffixes:["Inflaming","Inflammation"]},{prefixes:["Delivery"],suffixes:["Deliveries"]},{prefixes:["Cutting","Cut"],suffixes:["Cutting","Cuts"]},{prefixes:["Execution","Executioner's"],suffixes:["Execution","Executioners","the Executioner"]},{prefixes:[],suffixes:["Juries","the Jury"]},{prefixes:[],suffixes:["Peers"]},{prefixes:["Great"],suffixes:["Greatness"]},{prefixes:["Mediocre"],suffixes:["Mediocrity"]},{prefixes:["Puzzle","Puzzling"],suffixes:["Puzzles","Puzzling"]},{prefixes:["Passive"],suffixes:["the Passive"]},{prefixes:["Discounted","Discounting"],suffixes:["Discounting","Discounts"]},{prefixes:["Special","Specializing"],suffixes:["Specializing","the Special"]},{prefixes:["Seizing","Seized"],suffixes:["Seizing"]},{prefixes:["Drugging","Drugged"],suffixes:["Drugging","Drugs"]},{prefixes:[],suffixes:["Dregs"]},{prefixes:["Rampage","Rampaging"],suffixes:["Rampaging","Rampages"]},{prefixes:["Devastation","Devastating","Devastated"],suffixes:["Devastation","Devastating","the Devastated"]},{prefixes:["Proximity"],suffixes:["Proximity"]},{prefixes:[],suffixes:["Propinquity"]},{prefixes:["Distance","Distant"],suffixes:["Distance","Distances","the Distant"]},{prefixes:["Keeping","Kept","Keeper's"],suffixes:["Keeping","Keepers","the Keeper"]},{prefixes:["Kinship"],suffixes:["Kinship"]},{prefixes:["Similar","Similarity"],suffixes:["Similarity","the Similar"]},{prefixes:["Relative","Relational","Relationship"],suffixes:["Relationship","Relativity"]},{prefixes:["Toggling"],suffixes:["Toggles"]},{prefixes:["Bottomless"],suffixes:[]},{prefixes:["Ruthless"],suffixes:["the Ruthless"]},{prefixes:["Purging","Purged"],suffixes:["Purging","the Purged"]},{prefixes:["Alluring","Luring","Lured"],suffixes:["Alluring","Luring","Lures"]},{prefixes:["Lamentation","Lamenting"],suffixes:["Lamentation","Lamenting"]},{prefixes:["Regrettable"],suffixes:["Regret"]},{prefixes:["Brain"],suffixes:["Brains"]},{prefixes:["Encompassing","Encompassed"],suffixes:["Encompassing"]},{prefixes:["Scandal","Scandalizing","Scandalized"],suffixes:["Scandalizing","Scandals"]},{prefixes:["Sludge","Sludgy"],suffixes:["Sludge"]},{prefixes:["Depleting","Depletion","Depleted"],suffixes:["Depletion","Depleting"]},{prefixes:["Replenishment","Replenished","Replenishing"],suffixes:["Replenishment","Replenishing"]},{prefixes:["Easing","Eased"],suffixes:["Easing"]},{prefixes:["Restraining","Restrained"],suffixes:["Restraints","Restraint","Restraining"]},{prefixes:["Ninja's"],suffixes:["Ninjas","the Ninja"]},{prefixes:["Contracted","Contractual"],suffixes:["Contracts"]},{prefixes:["Inspiration","Inspiring","Inspired"],suffixes:["the Inspired","Inspiring","Inspiration"]},{prefixes:["Actionable","Action"],suffixes:["Action","Actions"]},{prefixes:["Beacon"],suffixes:["Beacons"]},{prefixes:["Unlucky"],suffixes:["the Unlucky"]},{prefixes:["Hinting"],suffixes:["Hints"]},{prefixes:["Impulsive"],suffixes:["Impulses"]},{prefixes:["Defiling","Defiled"],suffixes:["Defiling","the Defiled"]},{prefixes:["Pretense","Pretender's"],suffixes:["Pretense","Pretenders","the Pretender"]},{prefixes:["Cupid","Cupid's"],suffixes:["Cupid"]},{prefixes:["Portioned","Proportional"],suffixes:["Proportions","Portioning"]},{prefixes:["Nitpick's"],suffixes:["Nitpicks"]},{prefixes:["Dimwit's","Dimwitted"],suffixes:["the Dimwit","Dimwits"]},{prefixes:["Fool's","Foolish","Fooled"],suffixes:["Fools","the Fool","Fooling"]},{prefixes:["Muse's","Musing"],suffixes:["the Muse","Muses"]},{prefixes:["Scheming","Schemer's"],suffixes:["the Schemer","Scheming","Schemers"]},{prefixes:["Domesticated","Domestication","Domesticating"],suffixes:["Domesticating","Domestication","the Domesticated"]},{prefixes:["Babbling","Babbler's"],suffixes:["Babblers","the Babbler","Babbling"]},{prefixes:["Fellowship","Fellowshipping"],suffixes:["Fellowships","the Fellowship","Fellowshipping"]},{prefixes:["Speaking","Spoken"],suffixes:["Speaking","Speech","SPeeches"]},{prefixes:["Weak","Weakness","Weakened","Weakling's"],suffixes:["the Weak","Weakening","Weaklings","the Weakling"]},{prefixes:["Pompous"],suffixes:["the Pompous"]},{prefixes:["Wormy"],suffixes:["Worms","the Worm"]},{prefixes:["Ascending","Ascended"],suffixes:["Ascending"]},{prefixes:["Descending","Descended"],suffixes:["Descending"]},{prefixes:["Exalted"],suffixes:["Exaltation"]},{prefixes:["Exulting"],suffixes:["Exultation"]},{prefixes:["Hermit's"],suffixes:["Hermits","the Hermit"]},{prefixes:["Banished","Banishing"],suffixes:["Banishing","the Banished"]},{prefixes:["Zealous","Zealot's"],suffixes:["Zeal","Zealots","the Zealot"]},{prefixes:["Zesty"],suffixes:["Zest"]},{prefixes:["Dire"],suffixes:[]},{prefixes:["Ruling","Ruler's"],suffixes:["Ruling","Rulers","the Ruler"]},{prefixes:["Amputating","Amputation"],suffixes:["Amputation","Amputating"]},{prefixes:["Vomited","Vomiting"],suffixes:["Vomit","Vomiting"]},{prefixes:["Scriptorian's"],suffixes:["Scriptures","Scriptorians","the Scriptorian"]},{prefixes:["Voting"],suffixes:["Votes"]},{prefixes:["Understating","Understated"],suffixes:["Understating"]},{prefixes:["Overstating","Overstated"],suffixes:["Overstating"]},{prefixes:["Exaggerating","Exaggerated","Exaggeration"],suffixes:["Exaggeration","Exaggerating"]},{prefixes:["Mechanical"],suffixes:["Mechanisms","Machines","the Machine"]},{prefixes:["Expected","Expecting","Expectation"],suffixes:["Expectation","Expectations","Expecting"]},{prefixes:["Smiting","Smitten"],suffixes:["Smite","Smiting"]},{prefixes:["Spiteful"],suffixes:["Spite"]},{prefixes:["Honing","Honed"],suffixes:["Honing"]},{prefixes:["Protagonist's"],suffixes:["the Protagonist"]},{prefixes:["Antagonists's","Antagonizing","Antagonized"],suffixes:["the Antagonist","Antagonizing"]},{prefixes:["Stretchy","Stretching","Stretched"],suffixes:["Stretching"]},{prefixes:["Frightened","Frightful"],suffixes:["Fright"]},{prefixes:["Fleeing"],suffixes:["Fleeing"]},{prefixes:["Ebony"],suffixes:[]},{prefixes:["Charcoal","inky","Soot"],suffixes:["Soot","Ink"]},{prefixes:["Midnight"],suffixes:["Midnight"]},{prefixes:["Obsidian"],suffixes:["Obsidian"]},{prefixes:["Raven"],suffixes:["Ravens","the Raven"]},{prefixes:["Dawning","Dawn"],suffixes:["Dawn","Dawning"]},{prefixes:["Dusk"],suffixes:["Dusk"]},{prefixes:["Smokey"],suffixes:["Smoke"]},{prefixes:["Pitch Black"],suffixes:["Pitch Black"]},{prefixes:["Hunted","Hunter's","Hunting"],suffixes:["Hunting","Hunters","the Hunter"]},{prefixes:["Tracking","Tracked","Tracker's"],suffixes:["Tracking","Trackers","the Tracker"]},{prefixes:["Trail"],suffixes:["Trails"]},{prefixes:["Passage"],suffixes:["Passages"]},{prefixes:["Sunny","Sun"],suffixes:["the Sun","Suns"]},{prefixes:["Moon"],suffixes:["Moons","the Moon"]},{prefixes:["Star","Starry"],suffixes:["Stars"]},{prefixes:["Screaming"],suffixes:["Screaming","Screams"]},{prefixes:["Abomination","Abominable"],suffixes:["Abomination","Abominations"]},{prefixes:["Plain"],suffixes:["Plainness"]},{prefixes:["Precious"],suffixes:["the Precious"]},{prefixes:["Plasma"],suffixes:["Plasma"]},{prefixes:["Delighting","Delightful","Delighted"],suffixes:["Delight","Delights"]},{prefixes:["Beholding"],suffixes:["Beholding"]},{prefixes:["Iniquity"],suffixes:["Iniquity"]},{prefixes:["Vanquishing","Vanquished"],suffixes:["Vanquishing","the Vanquished"]},{prefixes:["Foretelling","Foretold"],suffixes:["Foretelling","the Foretold"]},{prefixes:["Hardened","Hardening","Hard"],suffixes:["Hardening"]},{prefixes:["Captive's","Captive","Captivating","Capturing","Captured"],suffixes:["Capture","Captivating","Captives","the Captive","Capturing"]},{prefixes:["Possessed","Possession"],suffixes:["Possession","the Possessed","Possessing"]},{prefixes:["Manifesting","Manifested"],suffixes:["Manifests","Manifesting","Manifestation","Manifestations"]},{prefixes:["Magnification","Magnified","Magnifying"],suffixes:["Magnifying","Magnification","the Magnified"]},{prefixes:["Scattered","Scattering"],suffixes:["the Scattered","Scattering"]},{prefixes:["Scourged","Scourging"],suffixes:["Scourging","the Sourged"]},{prefixes:["Marvelous","Marveling"],suffixes:["Marveling"]},{prefixes:["Wondering"],suffixes:["Wonder","Wondering"]},{prefixes:["Convinced","Convincing"],suffixes:["Convincing"]},{prefixes:["Angelic"],suffixes:["Angels"]},{prefixes:["Powerful","Powered","Powering"],suffixes:["Power","Powers","Powering","the Powerful"]},{prefixes:["Grateful","Gracious"],suffixes:["Grace"]},{prefixes:["Rejoicing"],suffixes:["Rejoicing"]},{prefixes:["Teaching","Teacher's"],suffixes:["Teachers","the Teacher","Teaching"]},{prefixes:["Treacherous"],suffixes:["Treachery"]},{prefixes:["Denying","Denial","Denied"],suffixes:["Denial","Denying"]},{prefixes:["Mighty"],suffixes:["Might","the Mighty"]},{prefixes:["Soul"],suffixes:["Souls","the Soul"]},{prefixes:["Declared","Declaration","Declaring"],suffixes:["Declaration","Declarations","Declaring"]},{prefixes:["Sufficient","Sufficing"],suffixes:["Sufficiency"]},{prefixes:["Condemned","Condemning"],suffixes:["Condemnation","Condemning"]},{prefixes:["Righteous"],suffixes:["Righteousness","the Righteous"]},{prefixes:["Language"],suffixes:["language","Languages"]},{prefixes:["Reading"],suffixes:["Reading"]},{prefixes:["Indignant"],suffixes:["Indignation"]},{prefixes:["Dignified","Dignifying"],suffixes:["Dignifying","the Dignified"]},{prefixes:["Atrition","Atrophied"],suffixes:["Atrition"]},{prefixes:["Contrite"],suffixes:["Contrition"]},{prefixes:["Pardoned","Pardoning"],suffixes:["Pardons","Pardoning"]},{prefixes:["Council","Councilor's"],suffixes:["Councils","the Council","Councilors","the Councilor"]},{prefixes:["Counseling","Counselor's"],suffixes:["Counsel","Counselors","the Counselor"]},{prefixes:["Rich"],suffixes:["Riches","the Rich"]},{prefixes:["Harvest","Harvested","Harvesting","Harvester's"],suffixes:["the Harvest","Harvests","Harvesting","Harvesters","the Harvester"]},{prefixes:["Recompense"],suffixes:["Recompense","Recompenses"]},{prefixes:["Rewarding"],suffixes:["Rewarding","Rewards"]},{prefixes:["Warding","Warded"],suffixes:["Warding","Wards"]},{prefixes:["Demanding","Demanded"],suffixes:["Demands","Demanding"]},{prefixes:["Demented"],suffixes:["the Demented"]},{prefixes:["Attending","Attendance"],suffixes:["Attending","Attendance"]},{prefixes:["Gouged","Gouging"],suffixes:["Gouging"]},{prefixes:["Oath"],suffixes:["Oaths"]},{prefixes:["Sworn","Forsworn"],suffixes:["the Sworn","the Forsworn"]},{prefixes:["Berserker's"],suffixes:["Berserkers","the Berserker"]},{prefixes:["Eternal"],suffixes:["Eternity"]},{prefixes:["Ferocious","Fierce"],suffixes:["Ferocity","the Ferocious","Fierce"]},{prefixes:["Vicious"],suffixes:["the Vicious","Viciousness"]},{prefixes:[],suffixes:["Millions"]},{prefixes:[],suffixes:["Hundreds"]},{prefixes:[],suffixes:["Thousands"]},{prefixes:[],suffixes:["Billions"]},{prefixes:["Authoritative","Authority's"],suffixes:["Authority","the Authority","Authorities"]},{prefixes:["Temple","Templar's"],suffixes:["Temples","the Temple","Templars","the Templar"]},{prefixes:["Tomb"],suffixes:["Tombs"]},{prefixes:["Pilgrim's"],suffixes:["Pilgrimage","the Pilgrim","Pilgrims"]},{prefixes:["Presuring","Pressured"],suffixes:["Pressure","Pressuring"]},{prefixes:["Heathen's","Heretical"],suffixes:["Heathens","the Heathen"]},{prefixes:["Agricultural"],suffixes:["Agriculture"]},{prefixes:["Oxen"],suffixes:["Oxen","the Ox"]},{prefixes:["Tumultuous"],suffixes:["Tumults"]},{prefixes:["Prist's","Priestly"],suffixes:["the Priest","Priests"]},{prefixes:["Mountain's"],suffixes:["the Mountain","Mountains"]},{prefixes:["Sanctioned"],suffixes:["Sanctions"]},{prefixes:["Turned"],suffixes:["Turning"]},{prefixes:["Recommending","Recommended"],suffixes:["Recommendation","Recommendations","Recommending"]},{prefixes:[],suffixes:["Tribute","Tributes"]},{prefixes:[],suffixes:["Money"]},{prefixes:["Exchanging","Exchanged"],suffixes:["Exchange","Exchanging"]},{prefixes:["Offering","Offered"],suffixes:["Offering"]},{prefixes:["Officer's"],suffixes:["Offices","Officers","the Officer"]},{prefixes:["Freedom","Free","Freed"],suffixes:["Freedom","Freeing","the Free"]},{prefixes:["Treasured"],suffixes:["Treasures","Treasure","the Treasury","Treasuries"]},{prefixes:["Witness's","Witnessing"],suffixes:["the Witness","Witnesses","Witnessing"]},{prefixes:["Court's","Courtly"],suffixes:["Courts","the Court"]},{prefixes:["Licensed"],suffixes:["License","Licenses"]},{prefixes:["Prayer"],suffixes:["Prayer","Prayers"]},{prefixes:["Shambling","Shabby"],suffixes:["Shambling","Shambles"]},{prefixes:["Foul"],suffixes:["the Foul"]},{prefixes:["Wrangling"],suffixes:["Wrangling"]},{prefixes:["Disturbing","Disturbed"],suffixes:["Disturbing","the Disturbed"]},{prefixes:["Chanting"],suffixes:["Chants","Chanting"]},{prefixes:["Servant's","Servile","Serving","Served"],suffixes:["Servants","the Servant","Servility"]},{prefixes:["Eagle's","Eagle"],suffixes:["Eagles","the Eagle"]},{prefixes:["Hawk's","Hawk"],suffixes:["Hawks","the Hawk"]},{prefixes:["Bird's","Bird"],suffixes:["Birds","the Bird"]},{prefixes:["Splippery","Slipping"],suffixes:["Splipping","the Slippery"]},{prefixes:["Flair"],suffixes:["Flair"]},{prefixes:["Flared"],suffixes:["Flares"]},{prefixes:["Golem's"],suffixes:["Golems","the Golem"]},{prefixes:["Cyclops's"],suffixes:["Cyclopses","the Cyclops"]},{prefixes:["Ogre's"],suffixes:["Ogres","the Ogre"]},{prefixes:["Leprechaun's"],suffixes:["Leprechauns","the Leprechaun"]},{prefixes:["Gnome's"],suffixes:["Gnomes","the Gnome"]},{prefixes:["Gorgon's"],suffixes:["Gorgons","the Gorgon"]},{prefixes:["Mermaid's"],suffixes:["Mermaids","the Mermaid"]},{prefixes:["Minotaur's"],suffixes:["Minotaurs","the Minotaur"]},{prefixes:["Faun's"],suffixes:["Fauns","the Faun"]},{prefixes:["Griffen's"],suffixes:["Griffens","the Griffen"]},{prefixes:["Phoenix's"],suffixes:["Phoenixs","the Phoenix"]},{prefixes:["Basilisk's"],suffixes:["Basilisks","the Basilisk"]},{prefixes:["Unicorn's"],suffixes:["Unicorns","the Unicorn"]},{prefixes:["Chimera's"],suffixes:["Chimeras","the Chimera"]},{prefixes:["Hydra's"],suffixes:["Hydras","the Hydra"]},{prefixes:["Banshee's"],suffixes:["Banshees","the Banshee"]},{prefixes:["Wraith's"],suffixes:["Wraiths","the Wraith"]},{prefixes:["Fairy","Fairy's"],suffixes:["Fairies","the Fairy"]},{prefixes:["Slackening","Slackened"],suffixes:["Slack","Slackening"]},{prefixes:["Flaxen"],suffixes:[]},{prefixes:["Windy"],suffixes:["Wind","Winds","the Wind"]},{prefixes:["Flowing"],suffixes:["Flowing","Flow","Flows"]},{prefixes:["Cynical"],suffixes:["Cynicism","the Cynical"]},{prefixes:["Firm"],suffixes:["the Firm","Firmness"]},{prefixes:["Pillared"],suffixes:["Pillars"]},{prefixes:[],suffixes:["Columns"]},{prefixes:["Lightning"],suffixes:["Lighting"]},{prefixes:["Swirly"],suffixes:["Swirling","Swirls"]},{prefixes:["Opressing","Oppressed"],suffixes:["Oppression","Oppressing","the Oppressed"]},{prefixes:["Tyrant's","Tyrannical"],suffixes:["Tyrants","the Tyrants"]},{prefixes:["Boggy"],suffixes:["Bogs"]},{prefixes:["Stinky","Stinking"],suffixes:["Stink","Stench"]},{prefixes:["Filthy"],suffixes:["Filth"]},{prefixes:["Paused"],suffixes:["Pausing","Pauses"]},{prefixes:["Skeletal"],suffixes:["Skeletons"]},{prefixes:["Horned"],suffixes:["Horns","the Horn"]},{prefixes:["Magnetic","Magnetized"],suffixes:["Magnetism","Magnetic"]},{prefixes:["Frail"],suffixes:["Frailty"]},{prefixes:["Orchestral","Orchestra's"],suffixes:["Orchestration","Orchestras","the Orchestra"]},{prefixes:["Universal"],suffixes:["Universality","Universities","the University"]},{prefixes:["Disintegrating","Disintegrated"],suffixes:["Disintegration"]},{prefixes:["Balanced","Balancing"],suffixes:["Balancing","Balance"]},{prefixes:["Nectrotic"],suffixes:["Necrotizing"]},{prefixes:["Warrior's"],suffixes:["Warriors","the Warrior"]},{prefixes:["Errand"],suffixes:["Errands"]},{prefixes:["Skill","Skilled"],suffixes:["Skill","Skills","the Skilled"]},{prefixes:["Thief's"],suffixes:["the Thief","Thieves"]},{prefixes:["Undetected"],suffixes:["Undetecting"]},{prefixes:["Energy","Energized","Energetic"],suffixes:["Energy"]},{prefixes:["Upgraded"],suffixes:["Upgrading","Upgrades"]},{prefixes:["Momentary"],suffixes:["Moments","the Moment"]},{prefixes:["Invisible","Invisibility"],suffixes:["Invisibility","the Invisible"]},{prefixes:["Chemical"],suffixes:["Chemicals"]},{prefixes:["Vulnerable"],suffixes:["the Vulnerable"]},{prefixes:["Threat","Threatened","Threatening"],suffixes:["Threatening","Threats"]},{prefixes:["Identifying","Identification","Identity"],suffixes:["Identification","Identifying"]},{prefixes:["Disaster"],suffixes:["Disaster","Disasters"]},{prefixes:["Rival","Rival's"],suffixes:["Rivals","Rivalry","the Rival"]},{prefixes:["Nemesis"],suffixes:["the Nemesis"]},{prefixes:["Sudden"],suffixes:["Suddenness","the Sudden"]},{prefixes:["Bruising","Bruised"],suffixes:["Bruising","Bruises"]},{prefixes:["Burned","Burning"],suffixes:["Burns","Burning","the Burned"]},{prefixes:["Unleashed","Unleashing"],suffixes:["Unleashing","the Unleashed"]},{prefixes:["Legacy"],suffixes:["Legacy","Legacies"]},{prefixes:["Hostage","Hostage's"],suffixes:["Hostages","the Hostage"]},{prefixes:["legal","Illegal"],suffixes:["Illegality","Legality"]},{prefixes:["Doomed"],suffixes:["Doomed"]},{prefixes:["Booming"],suffixes:["Booming"]},{prefixes:["Bizarre"],suffixes:["the Bizarre"]},{prefixes:["Controversial"],suffixes:["Controversy","Controversies"]},{prefixes:["Banned"],suffixes:["Banning","the Banned","Bans"]},{prefixes:["Hated"],suffixes:["the Hated","Hating","Hate"]},{prefixes:["Acting","Actor's"],suffixes:["Actors","the Actor","Acting"]},{prefixes:["Cringing"],suffixes:["Cringing"]},{prefixes:["Companion","Companion's","Companionable"],suffixes:["Companions","the Companion","Companionship"]},{prefixes:["Elder's","Elderly"],suffixes:["Elders","the Elder"]},{prefixes:["Rumor","Rumored"],suffixes:["Rumors","Rumor"]},{prefixes:["Hysterical"],suffixes:["Hysteria"]},{prefixes:["Slamming","Slammed"],suffixes:["Slamming"]},{prefixes:["Goodbye"],suffixes:["Goodbye","Goodbyes"]},{prefixes:["Venturing"],suffixes:["Venturing","Ventures"]},{prefixes:["Auction","Auctioning"],suffixes:["Auctions","Auctioning"]},{prefixes:["Conservation","Conserving","Conserved"],suffixes:["Conservation"]},{prefixes:["Conversation","Conversed"],suffixes:["Conversating","Conversing"]},{prefixes:["Teasing","Teased"],suffixes:["Teasing"]},{prefixes:["Contaminating","Contaminated"],suffixes:["Contamination","Contaminating","the Contaminated"]},{prefixes:["Unsafe"],suffixes:["the Unsafe"]},{prefixes:["Management","Manager's"],suffixes:["Managing","Management","Managers","the Manager"]},{prefixes:["Hissing"],suffixes:["Hissing"]},{prefixes:["Standard"],suffixes:["Standards","Standardization"]},{prefixes:["Ending","Ended"],suffixes:["Ending","Ends"]},{prefixes:["Shooting"],suffixes:["Shooting","Shots"]},{prefixes:["Maintaining","Maintained"],suffixes:["Maintaining","Maintenance"]},{prefixes:["Morning"],suffixes:["the Morning","Mornings"]},{prefixes:["Mourning","Mourner's"],suffixes:["Mourners","Mourning","the Mourner"]},{prefixes:["Grieving"],suffixes:["Grief"]},{prefixes:["Cultist's"],suffixes:["Cultists","the Cultist","Cults","the Cult"]},{prefixes:["Decree"],suffixes:["Decrees"]},{prefixes:["Nano"],suffixes:["Nanites"]},{prefixes:["Suspending","Suspended","Suspenseful"],suffixes:["Suspense","Suspending"]},{prefixes:["Assitance","Assisting","Assistant's"],suffixes:["Assistans","the Assistant","Assisting","Assistance"]},{prefixes:["Overpowered","Overpowering"],suffixes:["Overpowering","the Overpowered"]},{prefixes:["Perfect","Perfected"],suffixes:["Perfecting","Perfection"]},{prefixes:["Clarifying","Clarified"],suffixes:["Clarity","Clarifying","Clarification"]},{prefixes:["Hearing"],suffixes:["Hearing"]},{prefixes:["Law","Lawful","Unlawful","Lawyer's"],suffixes:["the Law","Lawyers","the Lawyer"]},{prefixes:["Enemy's"],suffixes:["the Enemy","Enemies"]},{prefixes:["Enmity"],suffixes:["Enmity"]},{prefixes:["Baptism","Baptizing","Baptized"],suffixes:["Baptism","the Baptized","Baptizing"]},{prefixes:["Artifical"],suffixes:["the Artificial"]},{prefixes:["Critical"],suffixes:["Criticality"]},{prefixes:["Critter's"],suffixes:["Critters","the Critter"]},{prefixes:["Jittering"],suffixes:["Jitters"]},{prefixes:["Pursuer's","Pursued","Pursuing"],suffixes:["Pursuit","the Pursuit","Pursuits","the Pursuer","Pursuers"]},{prefixes:["Army","Armed"],suffixes:["Armies"]},{prefixes:["Happy"],suffixes:["Happiness"]},{prefixes:["Appetized"],suffixes:["Appetite"]},{prefixes:["Listening","Listener's"],suffixes:["Listening"]},{prefixes:["Aggresive","Aggressor's"],suffixes:["Aggression"]},{prefixes:["Offensive","Offender's","Offended"],suffixes:["Offence","the Offended"]},{prefixes:["Tin"],suffixes:["Tin"]},{prefixes:["Beating","Beaten"],suffixes:["Beating","the Beaten","Beatings"]}],FN=[{type:"power",value:"This Item has Area of Effect"},{type:"limitation",value:"This Item has Limited Charges"},{type:"limitation",value:"This Item Requires Concentration"},{type:"limitation",value:"This Item Can Only be used during a rest"},{type:"limitation",value:"This Item Can Only be used while in safety"},{type:"limitation",value:"This Item Can Only be used in combat"},{type:"limitation",value:"This Item Can Only be used during the Day"},{type:"limitation",value:"This Item Can Only be used during the night"},{type:"limitation",value:"This Item Can Only be used by a commoner"},{type:"limitation",value:"This Item Can Only be used by a minion"},{type:"limitation",value:"This Item Can Only be used by a boss"},{type:"limitation",value:"This Item Can Only be used by a Fighter"},{type:"limitation",value:"This Item Can Only be used by a Spy"},{type:"limitation",value:"This Item Can Only be used by an Invoker"},{type:"limitation",value:"This Item Can Only be used by a Magician"},{type:"limitation",value:"This Item Can Only be used by a Wizard"},{type:"limitation",value:"This Item Can Only be used by a Naturalist"},{type:"limitation",value:"This Item Can Only be used by a Ranger"},{type:"limitation",value:"This Item Can Only be used by a Doctor"},{type:"limitation",value:"This Item Can Only be used outside of combat"},{type:"limitation",value:"This Item is Extremely Easy to Lose"},{type:"power",value:"This Item is Very Difficult to Lose"},{type:"power",value:"This Item Never neads to be repaired"},{type:"limitation",value:"This Item Breaks Easily"},{type:"limitation",value:"This Item has a Very Powerful Kickback"},{type:"power",value:"This Item is Very Reliable"},{type:"limitation",value:"This Item is not Reliable"},{type:"limitation",value:"Using this Item consumes Health"},{type:"power",value:"Using this Item Restores Health"},{type:"power",value:"This Item always has top Initiative, even in Ambushes"},{type:"power",value:"This Item always has bottom initiative, even in Ambushes"},{type:"power",value:"This Item grants counterattacks"},{type:"limitation",value:"This Item can only be used in counterattacks"},{type:"limitation",value:"This Item can only be used from stealth"},{type:"limitation",value:"This Item can only be used for good"},{type:"limitation",value:"This Item can only be used for evil"},{type:"limitation",value:"This Item can only be used Indoors"},{type:"limitation",value:"This Item can only be used Outdoors"},{type:"limitation",value:"This Item can only be used by Males"},{type:"limitation",value:"This Item can only be used by Females"},{type:"limitation",value:"This Item can only be used by Children"},{type:"limitation",value:"This Item can only be used by Adults"},{type:"limitation",value:"This Item can only be used by Fathers"},{type:"limitation",value:"This Item can only be used by Mothers"},{type:"limitation",value:"This Item can only be used in the Morning"},{type:"limitation",value:"This Item can only be used in the Evening"},{type:"limitation",value:"This Item can only be used Before Noon"},{type:"limitation",value:"This Item can only be used After Noon"},{type:"limitation",value:"This Item can only be used during a full moon"},{type:"limitation",value:"This Item is can behave unexpectedly"},{type:"limitation",value:"This Item takes up two inventory slots"},{type:"limitation",value:"This item will randomly either be overpowered or underpowered"},{type:"power",value:"This Item is part of a set and cannot be used without the other members of the set"},{type:"power",value:"This Item is part of a set and gets more powerful with each added item of the set"},{type:"power",value:"This Item takes up no inventory slots"},{type:"power",value:"This item needs a ritual performed in order to recharge its ability after each use."},{type:"power",value:"This item has very short range"},{type:"power",value:"This item has very long range"},{type:"power",value:"This item cannot be held by bare skin"},{type:"power",value:"This item acts like a lighting rod"},{type:"power",value:"This item tends to malfuction and go off at unexpected times"},{type:"power",value:"This item is bound to a quest and can only be used in that quest's pursuit"},{type:"power",value:"This item is linked to a powerful and benevolent entity, and attracts its attention"},{type:"power",value:"This item is linked to a powerful and malicious entity, and attracts its attention"},{type:"power",value:"This item must be used with two hands"},{type:"power",value:"This item's effect has a long duration"},{type:"power",value:"This item's effect has a short duration"},{type:"power",value:"This item stops working after a short span"},{type:"power",value:"This item stops working after a long while"},{type:"power",value:"This item only starts working after it gets used to you"},{type:"power",value:"This item only starts working after you impress it"},{type:"power",value:"This item's effects are temporary"},{type:"power",value:"This item's effects are permanent"},{type:"power",value:"This item must be paired with another object to function"},{type:"power",value:"This item is painful to use"},{type:"power",value:"This item is addictive"},{type:"power",value:"This item is hard to control"},{type:"power",value:"This item is easy control"},{type:"power",value:"This item is bound to the user until death"},{type:"power",value:"This item can only be used once"},{type:"power",value:"This item has a mind of its own"},{type:"power",value:"This item wants to turn to the shadow"},{type:"power",value:"This item wants to turn to the light"},{type:"power",value:"This item can communicate telepathically to the wielder"},{type:"power",value:"This item can speak out loud whatever it does"},{type:"power",value:"This item makes a loud noise when used"},{type:"power",value:"This item is completely silent"},{type:"power",value:"This item has a delayed effect"},{type:"power",value:"This item is coveted by everyone who knows about it"},{type:"power",value:"This item deteriorates irreparably over time"},{type:"power",value:"This item can only be used once per wielder"},{type:"power",value:"After using this item the wielder blacks out for a time, and can't remember what they did."},{type:"power",value:"This item robs future luck to power its abilities"},{type:"power",value:"This item is extremely valued by others"},{type:"power",value:"This item is well known and recognized by others"},{type:"power",value:"This item cannot be traded, or thrown away. It can only be destroyed"},{type:"power",value:"This item melds to the user and cannot be let go once picked up."},{type:"power",value:"This item can only be used if the wielder knows its history and origin."},{type:"power",value:"This item has no effect on those that know its history and origin"},{type:"power",value:"This item prevents the wielder from moving while in use."},{type:"power",value:"This item can only be used when the wielder is moving quickly"},{type:"power",value:"This item robs a treasured memory from the user upon use"},{type:"power",value:"This item gives the wielder false memory"},{type:"power",value:"This item connects the user to an ancient inhabitant"},{type:"power",value:"Using and possessing this item is stigmatized and seen as shameful by others"},{type:"power",value:"This will abnormally attrack thieves"},{type:"power",value:"This item can only be transferred if won in a duel"},{type:"power",value:"This item can only be obtained by killing the previous owner"},{type:"power",value:"This item emits a harmful, spreading byproduct when used"},{type:"power",value:"This item gets bigger each time you use it"},{type:"power",value:"This item gets smaller each time you use it"},{type:"power",value:"This item emits a smoke or glow that reflects its effect"},{type:"power",value:"This item takes up all the wielders standard inventory slots"},{type:"power",value:"This item causes the wielder to feel more paranoid"},{type:"power",value:"This item causes accelerated hair growth in the wielder"},{type:"power",value:"This item causes accelerated hair loss in the wielder"},{type:"power",value:"This item can only be used in the land of its origin"},{type:"power",value:"This item can only be used by those of its maker's race"},{type:"power",value:"This item requires masterery of a certain skill to use"},{type:"power",value:"This item can only be used if taught how by someone who already knows"},{type:"power",value:"This item can only be used by those of noble birth"},{type:"power",value:"This item cannot be used by those of noble birth"},{type:"power",value:"This item has mysterious ties to ancient, unknown magics"},{type:"power",value:"This item causes hallucinations in the wielder"},{type:"power",value:"This item has broken or missing parts"},{type:"power",value:"This item cannot be forcibly removed from its rightful owner"},{type:"power",value:"This item saps the emotions from its wielder"},{type:"power",value:"This item suffers interference when near other magical items"},{type:"power",value:"This item prevents the wielder from lying"},{type:"power",value:"This item turns the wielder into a coward"},{type:"power",value:"This item can change size on command"},{type:"power",value:"This item abandons the user if they retreat from a fight"},{type:"power",value:"This item abandons the user if they start a fight"},{type:"power",value:"This item gives the user indigestion"},{type:"power",value:"This item makes the user extremely hungry and thirsty"},{type:"power",value:"This item makes the user itchy"},{type:"power",value:"This item makes the user obsessed with it over time"},{type:"power",value:"This item is a weak conduit to a distant magician, that flows both ways."},{type:"power",value:"This item is sentient"},{type:"power",value:"This item is a mimic"},{type:"power",value:"This item is so heavy the bearer can only move slowly"},{type:"power",value:"This item is so light the bearer does not notice its weight"},{type:"power",value:"This item urges the bearer to tell lies"},{type:"power",value:"This item is from an unknown ancient civilization"},{type:"power",value:"This item must be examined by an expert to unlock its abilities"},{type:"power",value:"This item can only be activated when wielded by multiple people at once"},{type:"power",value:"This item gets stronger the more people are nearby"},{type:"power",value:"This item gets weaker the more people are nearby"},{type:"power",value:"This item is disguised as a harmless, unassuming object"},{type:"power",value:"This item awakens and attracts evil"},{type:"power",value:"This item gets stronger with each use"},{type:"power",value:"This item gets weaker with each use"},{type:"power",value:"This item generates AP"},{type:"power",value:"This item Steals AP"},{type:"power",value:"This item Consumes AP"},{type:"power",value:"This item Consumes an inventoried item when used"},{type:"power",value:"This item causes the wielder to be sore and tired"},{type:"power",value:"This item can only cause nonfatal injuries"},{type:"power",value:"This item can only cause fatal injuries"},{type:"power",value:"This item can be summoned on command"},{type:"power",value:"This item can becomes invisible when not held by its owner"},{type:"power",value:"This item can quickly phase in and out of the shadown realm"},{type:"power",value:"This item pulls power and entities from the shadow realm"},{type:"power",value:"This item will hold the user back from death, but makes the user more susceptible to injuries"},{type:"power",value:"This item heightens the bearer's senses"},{type:"power",value:"This item dulls the bearer's senses"},{type:"power",value:"This item makes the bearer uncomfortably cold"},{type:"power",value:"This item makes the bearer uncomfortably hot"},{type:"power",value:"This item makes the bearer uncharacteristally carefree and relaxed"},{type:"power",value:"This item will only work if you treat it nicely"},{type:"power",value:"This item requires abnormally expensive upkeep"},{type:"power",value:"This item takes time to trigger"},{type:"power",value:"This item can be triggered remotely"},{type:"power",value:"This item can only be used at midnight"},{type:"power",value:"This item Can only be used at Dawn"},{type:"power",value:"This item Can only be used at Dusk"},{type:"power",value:"This item makes the wielder fall asleep after use"},{type:"power",value:"This item can only be used below ground"},{type:"power",value:"This item cannot be used below ground"},{type:"power",value:"This item demands the sacrifice of a life"},{type:"power",value:"This item only triggers when you get hit or damaged"},{type:"power",value:"You can easily get carried away with this item's ability"},{type:"power",value:"This item keeps track of its successful uses with a visual or physical method"},{type:"power",value:"This item must be used frequently or suffers withdrawals or detriment"},{type:"power",value:"This item stops working if you get hit or damaged"},{type:"power",value:"This item must be used during each combat session"},{type:"power",value:"This item is monitored by interdimensional powers that will interfere if misused"},{type:"power",value:"This item thins the veil to the shadow world"},{type:"power",value:"This item can only be used by the old"},{type:"power",value:"This item causes disconcerting minor time distortions"},{type:"power",value:"This item can only be used underwater"},{type:"power",value:"This item cannot be used underwater"},{type:"power",value:"This item can only be used once per day"},{type:"power",value:"This item must be used at least once per day"},{type:"power",value:"This item leaves permanent scars on the wielder's soul"},{type:"power",value:"This item can only affect magical or ethereal things"},{type:"power",value:"This item requires the user to swear an oath before being able to use"},{type:"power",value:"This item is cursed"},{type:"power",value:"This item reveals its location to the enemy when used"},{type:"power",value:"This was recently lost by a boss, who wants it back"}];function Fl(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function BN(){const e=A.useContext(Yt),[t,n]=A.useState(""),[i,r]=A.useState(""),[s,o]=A.useState(!1),a=[{key:"weighted",value:"Weighted Random"},{key:"full_random",value:"Full Random"},{key:"specific",value:"Specific Structure"}],l=[{key:"The",value:"The"},{key:"A",value:"A/An"}],u=V1(0,100).map(te=>({key:te,value:te})),[c,h]=A.useState(a[0].key),[f,d]=A.useState(1),[v,g]=A.useState(10),[S,p]=A.useState(2),[m,y]=A.useState(1),[C,E]=A.useState(l[0].key),[k,P]=A.useState(!1),[N,D]=A.useState(!1),[O,R]=A.useState(!1),[F,X]=A.useState(!1),[ge,he]=A.useState(10);function Be(te){const _=te.target.value;h(_),_=="full_random"&&(d(1),g(1),p(1),y(1),he(50)),_=="weighted"&&(d(1),g(10),p(2),y(1),he(10))}function pe(te){const _=te.target.checked;_==!1&&O==!0&&R(!1),D(_)}function j(te){const _=te.target.checked;_==!0&&N==!1&&D(!0),R(_)}async function Q(te){te.preventDefault(),o(!0);const q={...Jr(LN)[1],introduction:"",prefix:"",suffix_prefix:"",suffix:"",power:""};let ze=0,be=!1;if(c=="weighted"||c=="full_random"){const nt=[...Fl(f,0),...Fl(v,1),...Fl(S,2),...Fl(m,3)];ze=Jr(nt)[1],be=Jr([...Array(ge).fill(!0),...Array(100-ge).fill(!1)])[1],q.introduction="The",ze==0&&(q.introduction="A"),ze==1&&xw()==!0&&(q.introduction="A")}else c=="specific"?(q.introduction=C,ze=3,k||(q.prefix=void 0,ze=ze-1),N||(q.suffix=void 0,ze=ze-1),O||(q.suffix_prefix=void 0,ze=ze-1),F&&(be=!0)):(e.set_banner_style("failure"),e.replace_banner("This generating mode is not supported."));const xt=[],_t=NN.map(nt=>{const bt=[];return nt.prefixes.forEach(Xt=>bt.push({type:"prefix",value:Xt})),nt.suffixes.forEach(Xt=>bt.push({type:"suffix",value:Xt})),bt});for(let nt=0;nt<ze;nt++){const bt=_t.filter(Mn=>{let Lt=!1;return Mn.forEach(Ci=>{q.prefix!=null&&q.prefix==""&&Ci.type=="prefix"&&(Lt=!0),q.suffix!=null&&q.suffix==""&&Ci.type=="suffix"&&(Lt=!0),q.suffix_prefix!=null&&q.suffix_prefix==""&&q.suffix!=null&&q.suffix!=""&&Ci.type=="prefix"&&(Lt=!0)}),Lt}),[Xt,Xn]=Jr(bt,xt.map(Mn=>Mn[0]));xt.push([Xt,Xn]);const Si=Xn.filter(Mn=>{let Lt=!1;return Mn.type=="prefix"?(q.prefix!=null&&q.prefix==""||q.suffix_prefix!=null&&q.suffix_prefix==""&&q.suffix!=null&&q.suffix!="")&&(Lt=!0):q.suffix!=null&&Mn.type=="suffix"&&q.suffix==""&&(Lt=!0),Lt}),hn=Jr(Si)[1];hn.type=="prefix"?q.prefix==""&&q.suffix!=null&&q.suffix!=""&&q.suffix_prefix==""?xw()?q.prefix=hn.value:q.suffix_prefix=hn.value:q.prefix==""?q.prefix=hn.value:q.suffix_prefix==""&&(q.suffix_prefix=hn.value):hn.type=="suffix"&&(q.suffix=hn.value)}if(n(zN(q)),be){const nt=Jr(FN)[1];r(nt.value)}else r("");o(!1)}const w={fontWeight:"bold",fontSize:"1.25em"};let le={padding:".5em",backgroundColor:Ye.banner_grey,display:"inline-block"};return H("form",{children:[x("div",{className:"gapdiv",style:w,children:"Generate an Item"}),H("div",{className:"gapdiv",children:[x("label",{htmlFor:"generation_mode",children:"Generation Method:"})," ",x("select",{value:c,onChange:Be,id:"generation_mode",children:a.map(te=>x("option",{value:te.key,children:te.value},te.key))})]}),["weighted","full_random"].includes(c)&&H(Pe,{children:[x("div",{className:"gapdiv",children:"Attribute Count Weights"}),H("div",{style:{paddingLeft:"2em"},children:[x(Qr,{label:"No Attributes",id_name:"no_attribute_weight",start_val:f,set_val:d,option_array:u}),x(Qr,{label:"One Attribute",id_name:"one_attribute_weight",start_val:v,set_val:g,option_array:u}),x(Qr,{label:"Two Attributes",id_name:"two_attribute_weight",start_val:S,set_val:p,option_array:u}),x(Qr,{label:"Three Attributes",id_name:"three_attribute_weight",start_val:m,set_val:y,option_array:u})]}),x("div",{className:"gapdiv",children:"Percent Chances"}),x("div",{style:{paddingLeft:"2em"},children:x(Qr,{label:"Power/Limitation",id_name:"power_chance",start_val:ge,set_val:he,option_array:u,note:"%"})})]}),c=="specific"&&H(Pe,{children:[x("div",{className:"gapdiv",children:"Pick Item Name Structure"}),x("div",{className:"gapdiv",children:"<introduction> <prefix> <item> of <suffix_prefix> <suffix>"}),x(Qr,{label:"Introduction",id_name:"item_introduction",start_val:C,set_val:E,option_array:l}),H("div",{className:"gapdiv",children:[H("label",{children:["Prefix:"," "]}),x("input",{type:"checkbox",checked:k,onChange:te=>P(te.target.checked)})]}),H("div",{className:"gapdiv",children:[H("label",{children:["Suffix Prefix:"," "]}),x("input",{type:"checkbox",checked:O,onChange:j})]}),H("div",{className:"gapdiv",children:[H("label",{children:["Suffix:"," "]}),x("input",{type:"checkbox",checked:N,onChange:pe})]}),H("div",{className:"gapdiv",children:[H("label",{children:["Power:"," "]}),x("input",{type:"checkbox",checked:F,onChange:te=>X(te.target.checked)})]})]}),x("div",{className:"gapdiv",children:x("button",{type:"submit",onClick:Q,children:"Generate"})}),s?x("img",{height:"25rem",width:"25rem",src:um}):t!=""&&H(Pe,{children:[x("div",{className:"gapdiv",style:le,children:t}),x("br",{}),i!=""&&H("div",{className:"gapdiv",style:le,children:["Power/Limitation: ",W1(i)]})]})]})}function zN(e){const t=e.prefix!=null&&e.prefix!="",n=e.suffix_prefix!=null&&e.suffix_prefix!="",i=e.suffix!=null&&e.suffix!="",r=i&&e.suffix.slice(0,4).toLowerCase()=="the ";e.plurality_adapter!=null&&e.introduction=="A"&&(e.introduction=ww(e.plurality_adapter)+" "+e.plurality_adapter),e.introduction=="A"&&(e.introduction=ww(t?e.prefix:e.item_name));let s=e.introduction;return t&&(s+=" "+e.prefix),s+=" "+e.item_name,i&&(s+=" of",r&&(s+=" the"),n&&(s+=" "+e.suffix_prefix),s+=" "+(r?e.suffix.slice(4,e.suffix.length):e.suffix)),W1(s)}function ww(e){return["a","e","i","o","u"].includes(e[0].toLowerCase())?"An":"A"}function Qr({label:e,id_name:t,start_val:n,set_val:i,option_array:r,note:s=""}){return H("div",{className:"gapdiv",children:[H("label",{htmlFor:t,children:[e,":"," "]}),x("select",{value:n,onChange:o=>i(o.target.value),id:t,children:r.map(o=>x("option",{value:o.key,children:o.value},o.key))})," ",s]})}function xw(e){const t=[...Array(9).fill(!1),!0];return t[th(0,t.length-1)]}function UN(){return H(Pe,{children:[x($N,{}),x("br",{}),x(jN,{}),x("br",{}),x(BN,{})]})}function $N(){const[e,t]=A.useState(""),[n,i]=A.useState(20);function r(a){a.preventDefault();const l=th(1,n);t(l)}const s={width:"2em",textAlign:"center"},o=V1(2,20);return x(Pe,{children:H("form",{children:[x("label",{htmlFor:"die_size_selector",children:"Die Size:"})," ",x("select",{id:"die_size_selector",name:"die_size",value:n,onChange:a=>i(a.target.value),children:o.map(a=>x("option",{value:a,children:a},a))})," ",x("button",{type:"submit",onClick:r,children:"Roll the Die"})," ",x("input",{type:"text",style:s,value:e,readOnly:!0})]})})}function jN(){const[e,t]=A.useState("");function n(r){r.preventDefault(),t(HN())}return H("form",{children:[x("button",{type:"submit",onClick:n,children:"Pick a Card"}),x("input",{type:"text",style:{textAlign:"center",marginLeft:"1em",width:"8em"},value:e,readOnly:!0})]})}function HN(){const e=["Spades","Hearts","Clubs","Diamonds"],t=["Ace",...Array.from({length:9},(i,r)=>r+2),"Jack","Queen","King"],n=[];return e.forEach(i=>{t.forEach(r=>{n.push(r+" of "+i)})}),n.push("Black Joker"),n.push("Red Joker"),n[th(0,n.length-1)]}function th(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Jr(e,t=[]){let n=_w(e);for(;t.includes(n);)n=_w(e);return[n,e[n]]}function _w(e){return th(0,e.length-1)}function V1(e,t){return Array.from({length:t-e+1},(n,i)=>e+i*1)}function YN(){return x("img",{height:"25rem",width:"25rem",src:um})}function WN({is_loading:e,children:t}){return e?x(YN,{}):t}function VN({character_id:e}){const t=A.useContext(Jn),n=t.characters[e],i=n&&n.items||[],r=i.map((s,o)=>{function a(u){if(u.preventDefault(),!confirm('Drop the item "'+s.item_name+'"'))return;const h=s.item_name,f=s.date_added,v=[...i].filter(({item_name:g,date_added:S},p)=>!(g==h&&S==f));t.save_document_data(configs.character_collection_name,e,{items:v})}const l={display:"flex",justifyContent:"space-between",backgroundColor:Ye.banner_grey};return o%2==1&&(l.backgroundColor=Ye.lighter_grey),H("div",{style:l,children:[H("div",{style:{flexGrow:1,flexShrink:1},children:[o+1,". ",s.item_name]}),x("div",{children:x("button",{type:"button",onClick:a,children:"Drop"})})]},s.date_added||s.item_name)});return x("div",{children:r.map(s=>s)})}function GN({character_id:e}){return H("div",{children:[x("p",{children:x("strong",{children:"Inventory"})}),x(VN,{character_id:e}),x("p",{children:x("strong",{children:"Abilities"})}),x("p",{children:x("strong",{children:"Details"})})]})}function qN(){const e=A.useContext(Jn),t=A.useContext(Yt);let n=[];e[Je.character_collection_name]!=null&&(n=Object.entries(e.characters));function i(r){t.update_global_context({rightbar_content:H(Pe,{children:[x("h3",{children:"Create New Character"}),x(FormCharacterEdit,{})]}),is_show_rightbar:!0})}return x(Pe,{children:H("div",{children:[x("div",{children:x("button",{onClick:i,children:"Create New Character"})}),H(WN,{is_loading:e.is_loading,children:[x("br",{}),x("div",{children:x(KN,{character_iterable:n})})]})]})})}function KN({character_iterable:e}){return H("table",{style:{width:"100%",borderCollapse:"collapse"},children:[x("thead",{children:H("tr",{children:[x("th",{style:{textAlign:"left",width:"100%"},children:"Name"}),x("th",{style:{textAlign:"center",width:"0%"},children:"HP"}),x("th",{style:{textAlign:"center",width:"0%"},children:"AP"})]})}),x("tbody",{children:e.map((n,i)=>{const r=n[0],s={...n[1],id:r};return x(QN,{row_num:i+1,character_data:s},r)})})]})}function QN({character_data:e,row_num:t}){const n=A.useContext(Jn),[i,r]=A.useState(!1);function s(){r(h=>!h)}const o=e.id,a=e.flash_color!=null&&e.flash_color!="none"?e.flash_color:t%2==1?Ye.disabled_grey:Ye.white,l={textAlign:"center"},u={backgroundColor:a,transition:"background-color 0.5s ease"},c={paddingTop:".25em",paddingBottom:".25em"};return H(Pe,{children:[H("tr",{style:u,children:[x("td",{className:"hover-element",onClick:h=>s(),style:c,children:x("div",{style:{paddingLeft:".5em"},children:e.full_name})}),x("td",{style:c,children:H("div",{children:[x("div",{style:l,children:x("button",{onClick:h=>n.increase_character_hp(o),children:"+"})}),x("div",{style:l,children:e.current_hp}),x("div",{style:l,children:x("button",{onClick:h=>n.decrease_character_hp(o),children:"-"})})]})}),H("td",{style:c,children:[x("div",{style:l,children:x("button",{onClick:h=>n.increase_character_ap(o),children:"+"})}),x("div",{style:l,children:e.current_ap}),x("div",{style:l,children:x("button",{onClick:h=>n.decrease_character_ap(o),children:"-"})})]}),x("td",{style:c,children:x("div",{style:{paddingRight:".5em"},children:x("button",{onClick:h=>s(),children:i?x("span",{children:""}):x("span",{children:""})})})})]},o),i?x("tr",{style:u,children:x("td",{colSpan:"4",style:c,children:x("div",{style:{paddingLeft:".5em",paddingRight:".5em"},children:x(GN,{character_id:o})})})},o+"_details"):""]})}function Bl({children:e}){const t=A.useContext(Yt);return x(Pe,{children:t.user==null?H(Pe,{children:[x("p",{children:"Log in to view this content"}),x(Y1,{})]}):x(Pe,{children:e})})}function JN(){}function XN({id:e,label:t,value:n="",on_change:i=JN,required:r=!0,read_only:s=!1}){function o(l){l.preventDefault(),i!=null&&i(l.target.value)}const a={backgroundColor:s?Ye.disabled_grey:Ye.white,borderWidth:"1px"};return H(Pe,{children:[t!=null?H("div",{children:[H("label",{htmlFor:e,children:[t,":"]})," "]}):"",x("div",{children:x("input",{style:a,type:"text",id:e,onChange:o,value:n,required:r,readOnly:s?"readOnly":""})})]})}function ZN(){}function eF({id:e,label:t,value:n="",on_change:i=ZN,required:r=!1,read_only:s=!1}){function o(l){l.preventDefault(),i!=null&&i(l.target.value)}const a={backgroundColor:s?Ye.disabled_grey:Ye.white,borderWidth:"1px",width:"100%",height:"6rem",resize:"none",boxSizing:"border-box"};return H(Pe,{children:[t!=null?H("div",{children:[H("label",{htmlFor:e,children:[t,":"]})," "]}):"",x("div",{children:x("textarea",{style:a,value:n,onChange:o,required:r,readOnly:s?"readOnly":""})})]})}function tF({form_mode:e,set_form_mode:t,item_id_to_edit:n,set_item_id_to_edit:i,set_flash_message:r}){const s=A.useContext(Jn);let o="",a="";const[l,u]=A.useState(o),[c,h]=A.useState(a);A.useEffect(()=>{const S=s.items[n];S!=null?(u(S.display_name),h(S.description)):(u(o),h(a))},[n]);function f(S){S.preventDefault();const p=n||l.toLowerCase().replaceAll(" ","_"),m=s.items[p];if(n==null&&m!=null){r('Item already exists, under the name "'+m.display_name+'" with key "'+p+'". Delete that one in order to free up the display name (which is used to generate the database key');return}s.save_document_data(Je.item_collection_name,p,{display_name:l,description:c}),n!=null?r("Item Edited!"):(r("Item Created!"),i(p)),t("view")}function d(S){S.preventDefault(),t("create"),r(void 0),i(void 0)}function v(S){S.preventDefault(),s.delete_document(Je.item_collection_name,event_target_value),r("Item Deleted"),i(void 0)}function g(S){S.preventDefault(),i(S.target.value),r(void 0),t("edit")}return H("form",{onSubmit:f,children:[x("h3",{children:e=="create"?"Create Item":e=="edit"?"Edit Item":"Item Details"}),x(XN,{id:"item_display_name",label:"Display Name",value:l,on_change:u,read_only:e=="view"?"readonly":""}),x(eF,{id:"item_display_name",label:"Description",value:c,on_change:h,read_only:e=="view"?"readonly":""}),e!="view"?x("button",{type:"submit",children:e=="create"?"Create":"Save"}):x("button",{value:n,onClick:g,children:"Edit"}),e=="edit"&&H(Pe,{children:[" ",x("button",{value:n,onClick:v,children:"Delete"})]}),(e=="edit"||e=="view")&&H(Pe,{children:[" ",x("button",{onClick:d,children:"Back to Create New"})]})]})}function nF(){const e="create",[t,n]=A.useState(void 0),[i,r]=A.useState(void 0),[s,o]=A.useState(e),l=A.useContext(Jn).get_sorted_item_list();return H(Pe,{children:[x(tF,{...{form_mode:s,set_form_mode:o,item_id_to_edit:t,set_item_id_to_edit:n,set_flash_message:r}}),x("div",{children:""}),i!=null?H("div",{children:[" ",i]}):x("div",{children:""}),x("h3",{children:"Items"}),l.map((c,h)=>{const f={key:c.id,item_data:c,row_num:h+1,set_item_id_to_edit:n,set_flash_message:r,form_mode:s,set_form_mode:o};return x(iF,{...f})})]})}function iF({item_data:e,row_num:t,set_item_id_to_edit:n,set_flash_message:i,form_mode:r,set_form_mode:s}){const o={display:"flex",backgroundColor:t%2==1?Ye.disabled_grey:Ye.white,justifyContent:"space-between",maxWidth:"20rem"};function a(u){u.preventDefault(),n(u.target.value),i(void 0),s("edit")}function l(u){u.preventDefault(),n(u.target.value),i(void 0),s("view")}return x(Pe,{children:H("div",{style:o,children:[x("div",{children:e.display_name}),x("div",{children:r=="edit"?"":H(Pe,{children:[x("button",{value:e.id,onClick:l,children:"view"})," ",x("button",{value:e.id,onClick:a,children:"edit"})]})})]},e.id)})}function rF(){A.useContext(Yt);const e=A.useContext(Jn);function t(n){n.preventDefault(),df(e.characters,"rpg_assistant_characters_backup.json"),df(e.items,"rpg_assistant_items_backup.json"),df(e.data_reload_ping,"rpg_assistant_data_reload_ping_backup.json")}return H(Pe,{children:[x("p",{children:"Download collections as JSON files. Useful for backups"}),x("div",{children:x("button",{onClick:t,children:"Download"})})]})}function df(e,t){const n=JSON.stringify(e,null,2),i=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(i),s=document.createElement("a");s.download=t,s.href=r,s.click()}function sF(){const[e,t]=A.useState("");return H("div",{children:[x(lF,{ability_name_search_value:e,set_ability_name_search_value:t}),x(oF,{ability_name_search_value:e})]})}function oF({ability_name_search_value:e}){const i=A.useContext(Jn).get_sorted_abilities().filter(r=>{const s=e.toLowerCase(),o=r.ability_name.toLowerCase();return e==""||o.includes(s)});return x("div",{children:i.map(r=>x(aF,{ability_data:r},r.ability_key))})}function aF({ability_data:e}){return H("div",{children:[x("h2",{children:e.ability_name}),H("p",{children:["Class: ",e.class]}),H("p",{children:["Class Tree: ",e.tree]}),H("p",{children:["Tree Level: ",e.tree_level]}),H("p",{children:["Action Point Cost: ",e.action_point_cost]}),x("p",{children:e.description})]})}function lF({ability_name_search_value:e,set_ability_name_search_value:t}){function n(r){r.preventDefault(),t(r.target.value)}function i(r){r.preventDefault(),t("")}return x("div",{children:H("form",{children:[H("div",{style:{display:"inline-block",marginRight:"5px"},children:[x("label",{htmlFor:"search_value",children:x("span",{style:{marginRight:"5px"},children:"Search Ability Name:"})}),x("input",{id:"search_value",value:e,onChange:n})]}),x("div",{style:{display:"inline-block"},children:x("button",{onClick:i,children:"clear"})})]})})}const vn={convert_edge_to_long_diagonal:G1,convert_edge_to_short_diagonal:uF,convert_edge_to_point_height:cF};function G1(e){return e*2}function uF(e){return Math.sqrt(3)*e}function cF(e){return(G1(e)-e)/2}function hF({edge_length:e}){const t={position:"relative",height:vn.convert_edge_to_long_diagonal(e)+"px",width:vn.convert_edge_to_short_diagonal(e)+"px",display:"inline-block",fontSize:"0"};return H("div",{style:t,children:[x(dF,{edge_length:e}),x(fF,{edge_length:e}),x(pF,{edge_length:e})]})}function fF({edge_length:e}){const t={height:e.toString()+"px",width:vn.convert_edge_to_short_diagonal(e).toString()+"px",marginTop:vn.convert_edge_to_point_height(e)+"px",backgroundColor:"green"};return x("div",{style:t})}function dF({edge_length:e}){const t={width:"0",borderBottom:"",position:"absolute",top:0,borderBottom:vn.convert_edge_to_point_height(e)+"px solid green",borderLeft:vn.convert_edge_to_short_diagonal(e)/2+"px solid transparent",borderRight:vn.convert_edge_to_short_diagonal(e)/2+"px solid transparent"};return x("div",{style:t})}function pF({edge_length:e}){const t={width:"0",borderBottom:"",position:"absolute",bottom:0,borderTop:vn.convert_edge_to_point_height(e)+"px solid green",borderLeft:vn.convert_edge_to_short_diagonal(e)/2+"px solid transparent",borderRight:vn.convert_edge_to_short_diagonal(e)/2+"px solid transparent"};return x("div",{style:t})}function mF({num_hexes_wide:e,num_hexes_tall:t,hex_edge_px_length:n}){const i=Array.from({length:t},(r,s)=>x(yF,{hex_edge_px_length:n,num_hexes:e,row_number:s+1},s));return x(Pe,{children:i})}function gF(){return x("div",{style:{display:"inline-block",width:"2px"}})}function yF({hex_edge_px_length:e,num_hexes:t,row_number:n}){const i={fontSize:"0",whiteSpace:"nowrap"};n>1&&(i.marginTop="-"+vn.convert_edge_to_point_height(e-2).toString()+"px"),n%2==0&&(i.marginLeft=(vn.convert_edge_to_short_diagonal(e)/2).toString()+"px");const r=Array.from({length:t},(s,o)=>H("div",{style:{display:"inline-block"},children:[x(hF,{edge_length:e}),x(gF,{})]},o));return x("div",{style:i,children:r})}function vF(){return A.useContext(Yt),H(Pe,{children:[H("p",{children:[x(lm,{to:"rules",children:x("button",{children:"Map Gen Rules"})},"map_gen_rules"),' - Note this is just a sample grid. It has no interaction yet. The real deal will allow you to "draw" your map right in the browser in a collaborative experience.']}),x(mF,{num_hexes_wide:"4",num_hexes_tall:"4",hex_edge_px_length:"60"})]})}const bw=["http","https","mailto","tel"];function wF(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const i=t.indexOf(":");if(i===-1)return t;let r=-1;for(;++r<bw.length;){const s=bw[r];if(i===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return r=t.indexOf("?"),r!==-1&&i>r||(r=t.indexOf("#"),r!==-1&&i>r)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var q1=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};function Vo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kw(e.position):"start"in e||"end"in e?kw(e):"line"in e||"column"in e?ep(e):""}function ep(e){return Sw(e&&e.line)+":"+Sw(e&&e.column)}function kw(e){return ep(e&&e.start)+"-"+ep(e&&e.end)}function Sw(e){return e&&typeof e=="number"?e:1}class _n extends Error{constructor(t,n,i){const r=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const o=i.indexOf(":");o===-1?r[1]=i:(r[0]=i.slice(0,o),r[1]=i.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Vo(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}_n.prototype.file="";_n.prototype.name="";_n.prototype.reason="";_n.prototype.message="";_n.prototype.stack="";_n.prototype.fatal=null;_n.prototype.column=null;_n.prototype.line=null;_n.prototype.source=null;_n.prototype.ruleId=null;_n.prototype.position=null;const Fn={basename:xF,dirname:_F,extname:bF,join:kF,sep:"/"};function xF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');al(e);let n=0,i=-1,r=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;r--;)if(e.charCodeAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let o=-1,a=t.length-1;for(;r--;)if(e.charCodeAt(r)===47){if(s){n=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(e.charCodeAt(r)===t.charCodeAt(a--)?a<0&&(i=r):(a=-1,i=o));return n===i?i=o:i<0&&(i=e.length),e.slice(n,i)}function _F(e){if(al(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.charCodeAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function bF(e){al(e);let t=e.length,n=-1,i=0,r=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){i=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?r<0?r=t:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":e.slice(r,n)}function kF(...e){let t=-1,n;for(;++t<e.length;)al(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":SF(n)}function SF(e){al(e);const t=e.charCodeAt(0)===47;let n=CF(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function CF(e,t){let n="",i=0,r=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length>0){n="",i=0,r=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(r+1,o):n=e.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function al(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const TF={cwd:EF};function EF(){return"/"}function tp(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function IF(e){if(typeof e=="string")e=new URL(e);else if(!tp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return AF(e)}function AF(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const i=t.charCodeAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const pf=["history","path","basename","stem","extname","dirname"];class K1{constructor(t){let n;t?typeof t=="string"||PF(t)?n={value:t}:tp(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=TF.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<pf.length;){const s=pf[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)pf.includes(r)||(this[r]=n[r])}get path(){return this.history[this.history.length-1]}set path(t){tp(t)&&(t=IF(t)),gf(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Fn.dirname(this.path):void 0}set dirname(t){Cw(this.basename,"dirname"),this.path=Fn.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Fn.basename(this.path):void 0}set basename(t){gf(t,"basename"),mf(t,"basename"),this.path=Fn.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Fn.extname(this.path):void 0}set extname(t){if(mf(t,"extname"),Cw(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fn.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Fn.basename(this.path,this.extname):void 0}set stem(t){gf(t,"stem"),mf(t,"stem"),this.path=Fn.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,i){const r=new _n(t,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(t,n,i){const r=this.message(t,n,i);return r.fatal=null,r}fail(t,n,i){const r=this.message(t,n,i);throw r.fatal=!0,r}}function mf(e,t){if(e&&e.includes(Fn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fn.sep+"`")}function gf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Cw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function PF(e){return q1(e)}function Tw(e){if(e)throw e}var au=Object.prototype.hasOwnProperty,Q1=Object.prototype.toString,Ew=Object.defineProperty,Iw=Object.getOwnPropertyDescriptor,Aw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Q1.call(t)==="[object Array]"},Pw=function(t){if(!t||Q1.call(t)!=="[object Object]")return!1;var n=au.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&au.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var r;for(r in t);return typeof r>"u"||au.call(t,r)},Dw=function(t,n){Ew&&n.name==="__proto__"?Ew(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Rw=function(t,n){if(n==="__proto__")if(au.call(t,n)){if(Iw)return Iw(t,n).value}else return;return t[n]},Mw=function e(){var t,n,i,r,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)i=Rw(a,n),r=Rw(t,n),a!==r&&(c&&r&&(Pw(r)||(s=Aw(r)))?(s?(s=!1,o=i&&Aw(i)?i:[]):o=i&&Pw(i)?i:{},Dw(a,{name:n,newValue:e(c,o,r)})):typeof r<"u"&&Dw(a,{name:n,newValue:r}));return a};function np(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function DF(){const e=[],t={run:n,use:i};return t;function n(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(l,...u){const c=e[++s];let h=-1;if(l){o(l);return}for(;++h<r.length;)(u[h]===null||u[h]===void 0)&&(u[h]=r[h]);r=u,c?RF(c,a)(...u):o(null,...u)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return e.push(r),t}}function RF(e,t){let n;return i;function i(...o){const a=e.length>o.length;let l;a&&o.push(r);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return r(c)}a||(l instanceof Promise?l.then(s,r):l instanceof Error?r(l):s(l))}function r(o,...a){n||(n=!0,t(o,...a))}function s(o){r(null,o)}}const MF=X1().freeze(),J1={}.hasOwnProperty;function X1(){const e=DF(),t=[];let n={},i,r=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=l,s.parse=u,s.stringify=c,s.run=h,s.runSync=f,s.process=d,s.processSync=v,s;function s(){const g=X1();let S=-1;for(;++S<t.length;)g.use(...t[S]);return g.data(Mw(!0,{},n)),g}function o(g,S){return typeof g=="string"?arguments.length===2?(wf("data",i),n[g]=S,s):J1.call(n,g)&&n[g]||null:g?(wf("data",i),n=g,s):n}function a(){if(i)return s;for(;++r<t.length;){const[g,...S]=t[r];if(S[0]===!1)continue;S[0]===!0&&(S[0]=void 0);const p=g.call(s,...S);typeof p=="function"&&e.use(p)}return i=!0,r=Number.POSITIVE_INFINITY,s}function l(g,...S){let p;if(wf("use",i),g!=null)if(typeof g=="function")E(g,...S);else if(typeof g=="object")Array.isArray(g)?C(g):y(g);else throw new TypeError("Expected usable value, not `"+g+"`");return p&&(n.settings=Object.assign(n.settings||{},p)),s;function m(k){if(typeof k=="function")E(k);else if(typeof k=="object")if(Array.isArray(k)){const[P,...N]=k;E(P,...N)}else y(k);else throw new TypeError("Expected usable value, not `"+k+"`")}function y(k){C(k.plugins),k.settings&&(p=Object.assign(p||{},k.settings))}function C(k){let P=-1;if(k!=null)if(Array.isArray(k))for(;++P<k.length;){const N=k[P];m(N)}else throw new TypeError("Expected a list of plugins, not `"+k+"`")}function E(k,P){let N=-1,D;for(;++N<t.length;)if(t[N][0]===k){D=t[N];break}D?(np(D[1])&&np(P)&&(P=Mw(!0,D[1],P)),D[1]=P):t.push([...arguments])}}function u(g){s.freeze();const S=vo(g),p=s.Parser;return yf("parse",p),Ow(p,"parse")?new p(String(S),S).parse():p(String(S),S)}function c(g,S){s.freeze();const p=vo(S),m=s.Compiler;return vf("stringify",m),Lw(g),Ow(m,"compile")?new m(g,p).compile():m(g,p)}function h(g,S,p){if(Lw(g),s.freeze(),!p&&typeof S=="function"&&(p=S,S=void 0),!p)return new Promise(m);m(null,p);function m(y,C){e.run(g,vo(S),E);function E(k,P,N){P=P||g,k?C(k):y?y(P):p(null,P,N)}}}function f(g,S){let p,m;return s.run(g,S,y),Nw("runSync","run",m),p;function y(C,E){Tw(C),p=E,m=!0}}function d(g,S){if(s.freeze(),yf("process",s.Parser),vf("process",s.Compiler),!S)return new Promise(p);p(null,S);function p(m,y){const C=vo(g);s.run(s.parse(C),C,(k,P,N)=>{if(k||!P||!N)E(k);else{const D=s.stringify(P,N);D==null||(NF(D)?N.value=D:N.result=D),E(k,N)}});function E(k,P){k||!P?y(k):m?m(P):S(null,P)}}}function v(g){let S;s.freeze(),yf("processSync",s.Parser),vf("processSync",s.Compiler);const p=vo(g);return s.process(p,m),Nw("processSync","process",S),p;function m(y){S=!0,Tw(y)}}}function Ow(e,t){return typeof e=="function"&&e.prototype&&(OF(e.prototype)||t in e.prototype)}function OF(e){let t;for(t in e)if(J1.call(e,t))return!0;return!1}function yf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function vf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function wf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Lw(e){if(!np(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Nw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vo(e){return LF(e)?e:new K1(e)}function LF(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function NF(e){return typeof e=="string"||q1(e)}const FF={};function BF(e,t){const n=t||FF,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Z1(e,i,r)}function Z1(e,t,n){if(zF(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Fw(e.children,t,n)}return Array.isArray(e)?Fw(e,t,n):""}function Fw(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=Z1(e[r],t,n);return i.join("")}function zF(e){return Boolean(e&&typeof e=="object")}function Qn(e,t,n,i){const r=e.length;let s=0,o;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function pn(e,t){return e.length>0?(Qn(e,e.length,0,t),e):t}const Bw={}.hasOwnProperty;function UF(e){const t={};let n=-1;for(;++n<e.length;)$F(t,e[n]);return t}function $F(e,t){let n;for(n in t){const r=(Bw.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Bw.call(r,o)||(r[o]=[]);const a=s[o];jF(r[o],Array.isArray(a)?a:a?[a]:[])}}}function jF(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Qn(e,0,0,i)}const HF=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Un=fr(/[A-Za-z]/),rn=fr(/[\dA-Za-z]/),YF=fr(/[#-'*+\--9=?A-Z^-~]/);function ip(e){return e!==null&&(e<32||e===127)}const rp=fr(/\d/),WF=fr(/[\dA-Fa-f]/),VF=fr(/[!-/:-@[-`{-~]/);function ne(e){return e!==null&&e<-2}function Jt(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const GF=fr(HF),qF=fr(/\s/);function fr(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Re(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ce(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ce(l)&&s++<r?(e.consume(l),a):(e.exit(n),t(l))}}const KF={tokenize:QF};function QF(e){const t=e.attempt(this.parser.constructs.contentInitial,i,r);let n;return t;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Re(e,t,"linePrefix")}function r(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ne(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const JF={tokenize:XF},zw={tokenize:ZF};function XF(e){const t=this,n=[];let i=0,r,s,o;return a;function a(y){if(i<n.length){const C=n[i];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(y)}return u(y)}function l(y){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&m();const C=t.events.length;let E=C,k;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){k=t.events[E][1].end;break}p(i);let P=C;for(;P<t.events.length;)t.events[P][1].end=Object.assign({},k),P++;return Qn(t.events,E+1,0,t.events.slice(C)),t.events.length=P,u(y)}return a(y)}function u(y){if(i===n.length){if(!r)return f(y);if(r.currentConstruct&&r.currentConstruct.concrete)return v(y);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(zw,c,h)(y)}function c(y){return r&&m(),p(i),f(y)}function h(y){return t.parser.lazy[t.now().line]=i!==n.length,o=t.now().offset,v(y)}function f(y){return t.containerState={},e.attempt(zw,d,v)(y)}function d(y){return i++,n.push([t.currentConstruct,t.containerState]),f(y)}function v(y){if(y===null){r&&m(),p(0),e.consume(y);return}return r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:r}),g(y)}function g(y){if(y===null){S(e.exit("chunkFlow"),!0),p(0),e.consume(y);return}return ne(y)?(e.consume(y),S(e.exit("chunkFlow")),i=0,t.interrupt=void 0,a):(e.consume(y),g)}function S(y,C){const E=t.sliceStream(y);if(C&&E.push(null),y.previous=s,s&&(s.next=y),s=y,r.defineSkip(y.start),r.write(E),t.parser.lazy[y.start.line]){let k=r.events.length;for(;k--;)if(r.events[k][1].start.offset<o&&(!r.events[k][1].end||r.events[k][1].end.offset>o))return;const P=t.events.length;let N=P,D,O;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(D){O=t.events[N][1].end;break}D=!0}for(p(i),k=P;k<t.events.length;)t.events[k][1].end=Object.assign({},O),k++;Qn(t.events,N+1,0,t.events.slice(P)),t.events.length=k}}function p(y){let C=n.length;for(;C-- >y;){const E=n[C];t.containerState=E[1],E[0].exit.call(t,e)}n.length=y}function m(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}function ZF(e,t,n){return Re(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uw(e){if(e===null||Jt(e)||qF(e))return 1;if(GF(e))return 2}function gg(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const s=e[r].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const sp={name:"attention",tokenize:t2,resolveAll:e2};function e2(e,t){let n=-1,i,r,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[i][1].end),f=Object.assign({},e[n][1].start);$w(h,-l),$w(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[i][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},r={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[i][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[i][1].end.offset-e[i][1].start.offset&&(u=pn(u,[["enter",e[i][1],t],["exit",e[i][1],t]])),u=pn(u,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=pn(u,gg(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),u=pn(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=pn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Qn(e,i-1,n-i+3,u),n=i+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function t2(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Uw(i);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Uw(l),h=!c||c===2&&r||n.includes(l),f=!r||r===2&&c||n.includes(i);return u._open=Boolean(s===42?h:h&&(r||!f)),u._close=Boolean(s===42?f:f&&(c||!h)),t(l)}}function $w(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const n2={name:"autolink",tokenize:i2};function i2(e,t,n){let i=0;return r;function r(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(d){return Un(d)?(e.consume(d),o):u(d)}function o(d){return d===43||d===45||d===46||rn(d)?(i=1,a(d)):u(d)}function a(d){return d===58?(e.consume(d),i=0,l):(d===43||d===45||d===46||rn(d))&&i++<32?(e.consume(d),a):(i=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||ip(d)?n(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),c):YF(d)?(e.consume(d),u):n(d)}function c(d){return rn(d)?h(d):n(d)}function h(d){return d===46?(e.consume(d),i=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):f(d)}function f(d){if((d===45||rn(d))&&i++<63){const v=d===45?f:h;return e.consume(d),v}return n(d)}}const nh={tokenize:r2,partial:!0};function r2(e,t,n){return i;function i(s){return Ce(s)?Re(e,r,"linePrefix")(s):r(s)}function r(s){return s===null||ne(s)?t(s):n(s)}}const eS={name:"blockQuote",tokenize:s2,continuation:{tokenize:o2},exit:a2};function s2(e,t,n){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ce(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function o2(e,t,n){const i=this;return r;function r(o){return Ce(o)?Re(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(eS,t,n)(o)}}function a2(e){e.exit("blockQuote")}const tS={name:"characterEscape",tokenize:l2};function l2(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),r}function r(s){return VF(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const jw=document.createElement("i");function yg(e){const t="&"+e+";";jw.innerHTML=t;const n=jw.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const nS={name:"characterReference",tokenize:u2};function u2(e,t,n){const i=this;let r=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=rn,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=WF,c):(e.enter("characterReferenceValue"),s=7,o=rp,c(h))}function c(h){if(h===59&&r){const f=e.exit("characterReferenceValue");return o===rn&&!yg(i.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&r++<s?(e.consume(h),c):n(h)}}const Hw={tokenize:h2,partial:!0},Yw={name:"codeFenced",tokenize:c2,concrete:!0};function c2(e,t,n){const i=this,r={tokenize:E,partial:!0};let s=0,o=0,a;return l;function l(k){return u(k)}function u(k){const P=i.events[i.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===a?(o++,e.consume(k),c):o<3?n(k):(e.exit("codeFencedFenceSequence"),Ce(k)?Re(e,h,"whitespace")(k):h(k))}function h(k){return k===null||ne(k)?(e.exit("codeFencedFence"),i.interrupt?t(k):e.check(Hw,g,C)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(k))}function f(k){return k===null||ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Ce(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Re(e,d,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),f)}function d(k){return k===null||ne(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===null||ne(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),v)}function g(k){return e.attempt(r,C,S)(k)}function S(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p}function p(k){return s>0&&Ce(k)?Re(e,m,"linePrefix",s+1)(k):m(k)}function m(k){return k===null||ne(k)?e.check(Hw,g,C)(k):(e.enter("codeFlowValue"),y(k))}function y(k){return k===null||ne(k)?(e.exit("codeFlowValue"),m(k)):(e.consume(k),y)}function C(k){return e.exit("codeFenced"),t(k)}function E(k,P,N){let D=0;return O;function O(he){return k.enter("lineEnding"),k.consume(he),k.exit("lineEnding"),R}function R(he){return k.enter("codeFencedFence"),Ce(he)?Re(k,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):F(he)}function F(he){return he===a?(k.enter("codeFencedFenceSequence"),X(he)):N(he)}function X(he){return he===a?(D++,k.consume(he),X):D>=o?(k.exit("codeFencedFenceSequence"),Ce(he)?Re(k,ge,"whitespace")(he):ge(he)):N(he)}function ge(he){return he===null||ne(he)?(k.exit("codeFencedFence"),P(he)):N(he)}}}function h2(e,t,n){const i=this;return r;function r(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?n(o):t(o)}}const xf={name:"codeIndented",tokenize:d2},f2={tokenize:p2,partial:!0};function d2(e,t,n){const i=this;return r;function r(u){return e.enter("codeIndented"),Re(e,s,"linePrefix",4+1)(u)}function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ne(u)?e.attempt(f2,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||ne(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function p2(e,t,n){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?n(o):ne(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r):Re(e,s,"linePrefix",4+1)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ne(o)?r(o):n(o)}}const m2={name:"codeText",tokenize:v2,resolve:g2,previous:y2};function g2(e){let t=e.length-4,n=3,i,r;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)r===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(r=i):(i===t||e[i][1].type==="lineEnding")&&(e[r][1].type="codeTextData",i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return e}function y2(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function v2(e,t,n){let i=0,r,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),i++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),r=0,c(h)):ne(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ne(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}function iS(e){const t={};let n=-1,i,r,s,o,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(i=e[n],n&&i[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,w2(e,n)),n=t[n],u=!0);else if(i[1]._container){for(s=n,r=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(r&&(e[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);r&&(i[1].end=Object.assign({},e[r][1].start),a=e.slice(r,n),a.unshift(i),Qn(e,r,n-r+1,a))}}return!u}function w2(e,t){const n=e[t][1],i=e[t][2];let r=t-1;const s=[],o=n._tokenizer||i.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,h,f=-1,d=n,v=0,g=0;const S=[g];for(;d;){for(;e[++r][1]!==d;);s.push(r),d._tokenizer||(c=i.sliceStream(d),d.next||c.push(null),h&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(g=f+1,S.push(g),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):S.pop(),f=S.length;f--;){const p=a.slice(S[f],S[f+1]),m=s.pop();l.unshift([m,m+p.length-1]),Qn(e,m,2,p)}for(f=-1;++f<l.length;)u[v+l[f][0]]=v+l[f][1],v+=l[f][1]-l[f][0]-1;return u}const x2={tokenize:k2,resolve:b2},_2={tokenize:S2,partial:!0};function b2(e){return iS(e),e}function k2(e,t){let n;return i;function i(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):ne(a)?e.check(_2,o,s)(a):(e.consume(a),r)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function S2(e,t,n){const i=this;return r;function r(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Re(e,s,"linePrefix")}function s(o){if(o===null||ne(o))return n(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}}function rS(e,t,n,i,r,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(p){return p===60?(e.enter(i),e.enter(r),e.enter(s),e.consume(p),e.exit(s),f):p===null||p===32||p===41||ip(p)?n(p):(e.enter(i),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(p))}function f(p){return p===62?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===62?(e.exit("chunkString"),e.exit(a),f(p)):p===null||p===60||ne(p)?n(p):(e.consume(p),p===92?v:d)}function v(p){return p===60||p===62||p===92?(e.consume(p),d):d(p)}function g(p){return!c&&(p===null||p===41||Jt(p))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(i),t(p)):c<u&&p===40?(e.consume(p),c++,g):p===41?(e.consume(p),c--,g):p===null||p===32||p===40||ip(p)?n(p):(e.consume(p),p===92?S:g)}function S(p){return p===40||p===41||p===92?(e.consume(p),g):g(p)}}function sS(e,t,n,i,r,s){const o=this;let a=0,l;return u;function u(d){return e.enter(i),e.enter(r),e.consume(d),e.exit(r),e.enter(s),c}function c(d){return a>999||d===null||d===91||d===93&&!l||d===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):d===93?(e.exit(s),e.enter(r),e.consume(d),e.exit(r),e.exit(i),t):ne(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||ne(d)||a++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l||(l=!Ce(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(e.consume(d),a++,h):h(d)}}function oS(e,t,n,i,r,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(i),e.enter(r),e.consume(f),e.exit(r),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(r),e.consume(f),e.exit(r),e.exit(i),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):ne(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Re(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||ne(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:c)}function h(f){return f===o||f===92?(e.consume(f),c):c(f)}}function Go(e,t){let n;return i;function i(r){return ne(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i):Ce(r)?Re(e,i,n?"linePrefix":"lineSuffix")(r):t(r)}}function Ts(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const C2={name:"definition",tokenize:E2},T2={tokenize:I2,partial:!0};function E2(e,t,n){const i=this;let r;return s;function s(d){return e.enter("definition"),o(d)}function o(d){return sS.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function a(d){return r=Ts(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):n(d)}function l(d){return Jt(d)?Go(e,u)(d):u(d)}function u(d){return rS(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(T2,h,h)(d)}function h(d){return Ce(d)?Re(e,f,"whitespace")(d):f(d)}function f(d){return d===null||ne(d)?(e.exit("definition"),i.parser.defined.push(r),t(d)):n(d)}}function I2(e,t,n){return i;function i(a){return Jt(a)?Go(e,r)(a):n(a)}function r(a){return oS(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ce(a)?Re(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ne(a)?t(a):n(a)}}const A2={name:"hardBreakEscape",tokenize:P2};function P2(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),r}function r(s){return ne(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const D2={name:"headingAtx",tokenize:M2,resolve:R2};function R2(e,t){let n=e.length-2,i=3,r,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Qn(e,i,n-i+1,[["enter",r,t],["enter",s,t],["exit",s,t],["exit",r,t]])),e}function M2(e,t,n){let i=0;return r;function r(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Jt(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ne(c)?(e.exit("atxHeading"),t(c)):Ce(c)?Re(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Jt(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const O2=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ww=["pre","script","style","textarea"],L2={name:"htmlFlow",tokenize:z2,resolveTo:B2,concrete:!0},N2={tokenize:$2,partial:!0},F2={tokenize:U2,partial:!0};function B2(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function z2(e,t,n){const i=this;let r,s,o,a,l;return u;function u(_){return c(_)}function c(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),h}function h(_){return _===33?(e.consume(_),f):_===47?(e.consume(_),s=!0,g):_===63?(e.consume(_),r=3,i.interrupt?t:w):Un(_)?(e.consume(_),o=String.fromCharCode(_),S):n(_)}function f(_){return _===45?(e.consume(_),r=2,d):_===91?(e.consume(_),r=5,a=0,v):Un(_)?(e.consume(_),r=4,i.interrupt?t:w):n(_)}function d(_){return _===45?(e.consume(_),i.interrupt?t:w):n(_)}function v(_){const q="CDATA[";return _===q.charCodeAt(a++)?(e.consume(_),a===q.length?i.interrupt?t:F:v):n(_)}function g(_){return Un(_)?(e.consume(_),o=String.fromCharCode(_),S):n(_)}function S(_){if(_===null||_===47||_===62||Jt(_)){const q=_===47,ze=o.toLowerCase();return!q&&!s&&Ww.includes(ze)?(r=1,i.interrupt?t(_):F(_)):O2.includes(o.toLowerCase())?(r=6,q?(e.consume(_),p):i.interrupt?t(_):F(_)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(_):s?m(_):y(_))}return _===45||rn(_)?(e.consume(_),o+=String.fromCharCode(_),S):n(_)}function p(_){return _===62?(e.consume(_),i.interrupt?t:F):n(_)}function m(_){return Ce(_)?(e.consume(_),m):O(_)}function y(_){return _===47?(e.consume(_),O):_===58||_===95||Un(_)?(e.consume(_),C):Ce(_)?(e.consume(_),y):O(_)}function C(_){return _===45||_===46||_===58||_===95||rn(_)?(e.consume(_),C):E(_)}function E(_){return _===61?(e.consume(_),k):Ce(_)?(e.consume(_),E):y(_)}function k(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),l=_,P):Ce(_)?(e.consume(_),k):N(_)}function P(_){return _===l?(e.consume(_),l=null,D):_===null||ne(_)?n(_):(e.consume(_),P)}function N(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Jt(_)?E(_):(e.consume(_),N)}function D(_){return _===47||_===62||Ce(_)?y(_):n(_)}function O(_){return _===62?(e.consume(_),R):n(_)}function R(_){return _===null||ne(_)?F(_):Ce(_)?(e.consume(_),R):n(_)}function F(_){return _===45&&r===2?(e.consume(_),Be):_===60&&r===1?(e.consume(_),pe):_===62&&r===4?(e.consume(_),le):_===63&&r===3?(e.consume(_),w):_===93&&r===5?(e.consume(_),Q):ne(_)&&(r===6||r===7)?(e.exit("htmlFlowData"),e.check(N2,te,X)(_)):_===null||ne(_)?(e.exit("htmlFlowData"),X(_)):(e.consume(_),F)}function X(_){return e.check(F2,ge,te)(_)}function ge(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),he}function he(_){return _===null||ne(_)?X(_):(e.enter("htmlFlowData"),F(_))}function Be(_){return _===45?(e.consume(_),w):F(_)}function pe(_){return _===47?(e.consume(_),o="",j):F(_)}function j(_){if(_===62){const q=o.toLowerCase();return Ww.includes(q)?(e.consume(_),le):F(_)}return Un(_)&&o.length<8?(e.consume(_),o+=String.fromCharCode(_),j):F(_)}function Q(_){return _===93?(e.consume(_),w):F(_)}function w(_){return _===62?(e.consume(_),le):_===45&&r===2?(e.consume(_),w):F(_)}function le(_){return _===null||ne(_)?(e.exit("htmlFlowData"),te(_)):(e.consume(_),le)}function te(_){return e.exit("htmlFlow"),t(_)}}function U2(e,t,n){const i=this;return r;function r(o){return ne(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return i.parser.lazy[i.now().line]?n(o):t(o)}}function $2(e,t,n){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(nh,t,n)}}const j2={name:"htmlText",tokenize:H2};function H2(e,t,n){const i=this;let r,s,o;return a;function a(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),l}function l(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),E):w===63?(e.consume(w),y):Un(w)?(e.consume(w),N):n(w)}function u(w){return w===45?(e.consume(w),c):w===91?(e.consume(w),s=0,v):Un(w)?(e.consume(w),m):n(w)}function c(w){return w===45?(e.consume(w),d):n(w)}function h(w){return w===null?n(w):w===45?(e.consume(w),f):ne(w)?(o=h,pe(w)):(e.consume(w),h)}function f(w){return w===45?(e.consume(w),d):h(w)}function d(w){return w===62?Be(w):w===45?f(w):h(w)}function v(w){const le="CDATA[";return w===le.charCodeAt(s++)?(e.consume(w),s===le.length?g:v):n(w)}function g(w){return w===null?n(w):w===93?(e.consume(w),S):ne(w)?(o=g,pe(w)):(e.consume(w),g)}function S(w){return w===93?(e.consume(w),p):g(w)}function p(w){return w===62?Be(w):w===93?(e.consume(w),p):g(w)}function m(w){return w===null||w===62?Be(w):ne(w)?(o=m,pe(w)):(e.consume(w),m)}function y(w){return w===null?n(w):w===63?(e.consume(w),C):ne(w)?(o=y,pe(w)):(e.consume(w),y)}function C(w){return w===62?Be(w):y(w)}function E(w){return Un(w)?(e.consume(w),k):n(w)}function k(w){return w===45||rn(w)?(e.consume(w),k):P(w)}function P(w){return ne(w)?(o=P,pe(w)):Ce(w)?(e.consume(w),P):Be(w)}function N(w){return w===45||rn(w)?(e.consume(w),N):w===47||w===62||Jt(w)?D(w):n(w)}function D(w){return w===47?(e.consume(w),Be):w===58||w===95||Un(w)?(e.consume(w),O):ne(w)?(o=D,pe(w)):Ce(w)?(e.consume(w),D):Be(w)}function O(w){return w===45||w===46||w===58||w===95||rn(w)?(e.consume(w),O):R(w)}function R(w){return w===61?(e.consume(w),F):ne(w)?(o=R,pe(w)):Ce(w)?(e.consume(w),R):D(w)}function F(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),r=w,X):ne(w)?(o=F,pe(w)):Ce(w)?(e.consume(w),F):(e.consume(w),ge)}function X(w){return w===r?(e.consume(w),r=void 0,he):w===null?n(w):ne(w)?(o=X,pe(w)):(e.consume(w),X)}function ge(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||Jt(w)?D(w):(e.consume(w),ge)}function he(w){return w===47||w===62||Jt(w)?D(w):n(w)}function Be(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function pe(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),j}function j(w){return Ce(w)?Re(e,Q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):Q(w)}function Q(w){return e.enter("htmlTextData"),o(w)}}const vg={name:"labelEnd",tokenize:K2,resolveTo:q2,resolveAll:G2},Y2={tokenize:Q2},W2={tokenize:J2},V2={tokenize:X2};function G2(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function q2(e,t){let n=e.length,i=0,r,s,o,a;for(;n--;)if(r=e[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;e[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+i+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=pn(a,e.slice(s+1,s+i+3)),a=pn(a,[["enter",c,t]]),a=pn(a,gg(t.parser.constructs.insideSpan.null,e.slice(s+i+4,o-3),t)),a=pn(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=pn(a,e.slice(o+1)),a=pn(a,[["exit",l,t]]),Qn(e,s,e.length,a),e}function K2(e,t,n){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(f){return s?s._inactive?h(f):(o=i.parser.defined.includes(Ts(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(Y2,c,o?c:h)(f):f===91?e.attempt(W2,c,o?u:h)(f):o?c(f):h(f)}function u(f){return e.attempt(V2,c,h)(f)}function c(f){return t(f)}function h(f){return s._balanced=!0,n(f)}}function Q2(e,t,n){return i;function i(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),r}function r(h){return Jt(h)?Go(e,s)(h):s(h)}function s(h){return h===41?c(h):rS(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Jt(h)?Go(e,l)(h):c(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?oS(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return Jt(h)?Go(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function J2(e,t,n){const i=this;return r;function r(a){return sS.call(i,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(Ts(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function X2(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),r}function r(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Z2={name:"labelStartImage",tokenize:eB,resolveAll:vg.resolveAll};function eB(e,t,n){const i=this;return r;function r(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):t(a)}}const tB={name:"labelStartLink",tokenize:nB,resolveAll:vg.resolveAll};function nB(e,t,n){const i=this;return r;function r(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):t(o)}}const _f={name:"lineEnding",tokenize:iB};function iB(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Re(e,t,"linePrefix")}}const lu={name:"thematicBreak",tokenize:rB};function rB(e,t,n){let i=0,r;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return r=u,a(u)}function a(u){return u===r?(e.enter("thematicBreakSequence"),l(u)):i>=3&&(u===null||ne(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===r?(e.consume(u),i++,l):(e.exit("thematicBreakSequence"),Ce(u)?Re(e,a,"whitespace")(u):a(u))}}const Wt={name:"list",tokenize:aB,continuation:{tokenize:lB},exit:cB},sB={tokenize:hB,partial:!0},oB={tokenize:uB,partial:!0};function aB(e,t,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(d){const v=i.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||d===i.containerState.marker:rp(d)){if(i.containerState.type||(i.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(lu,n,u)(d):u(d);if(!i.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return n(d)}function l(d){return rp(d)&&++o<10?(e.consume(d),l):(!i.interrupt||o<2)&&(i.containerState.marker?d===i.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):n(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||d,e.check(nh,i.interrupt?n:c,e.attempt(sB,f,h))}function c(d){return i.containerState.initialBlankLine=!0,s++,f(d)}function h(d){return Ce(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function lB(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(nh,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Re(e,t,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!Ce(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(oB,t,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,Re(e,e.attempt(Wt,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function uB(e,t,n){const i=this;return Re(e,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(s):n(s)}}function cB(e){e.exit(this.containerState.type)}function hB(e,t,n){const i=this;return Re(e,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function r(s){const o=i.events[i.events.length-1];return!Ce(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Vw={name:"setextUnderline",tokenize:dB,resolveTo:fB};function fB(e,t){let n=e.length,i,r,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(r=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",o,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[s][1].end)):e[i][1]=o,e.push(["exit",o,t]),e}function dB(e,t,n){const i=this;let r;return s;function s(u){let c=i.events.length,h;for(;c--;)if(i.events[c][1].type!=="lineEnding"&&i.events[c][1].type!=="linePrefix"&&i.events[c][1].type!=="content"){h=i.events[c][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||h)?(e.enter("setextHeadingLine"),r=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===r?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Ce(u)?Re(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ne(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const pB={tokenize:mB};function mB(e){const t=this,n=e.attempt(nh,i,e.attempt(this.parser.constructs.flowInitial,r,Re(e,e.attempt(this.parser.constructs.flow,r,e.attempt(x2,r)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gB={resolveAll:lS()},yB=aS("string"),vB=aS("text");function aS(e){return{tokenize:t,resolveAll:lS(e==="text"?wB:void 0)};function t(n){const i=this,r=this.parser.constructs[e],s=n.attempt(r,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=r[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(i,i.previous))return!0}return!1}}}function lS(e){return t;function t(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return e?e(n,i):n}}function wB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],r=t.sliceStream(i);let s=r.length,o=-1,a=0,l;for(;s--;){const u=r[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-a,offset:i.end.offset-a,_index:i.start._index+s,_bufferIndex:s?o:i.start._bufferIndex+o},end:Object.assign({},i.end)};i.end=Object.assign({},u.start),i.start.offset===i.end.offset?Object.assign(i,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function xB(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},s=[];let o=[],a=[];const l={consume:m,enter:y,exit:C,attempt:P(E),check:P(k),interrupt:P(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:f,now:v,defineSkip:g,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function h(R){return o=pn(o,R),S(),o[o.length-1]!==null?[]:(N(t,0),u.events=gg(s,u.events,u),u.events)}function f(R,F){return bB(d(R),F)}function d(R){return _B(o,R)}function v(){const{line:R,column:F,offset:X,_index:ge,_bufferIndex:he}=i;return{line:R,column:F,offset:X,_index:ge,_bufferIndex:he}}function g(R){r[R.line]=R.column,O()}function S(){let R;for(;i._index<o.length;){const F=o[i._index];if(typeof F=="string")for(R=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===R&&i._bufferIndex<F.length;)p(F.charCodeAt(i._bufferIndex));else p(F)}}function p(R){c=c(R)}function m(R){ne(R)?(i.line++,i.column=1,i.offset+=R===-3?2:1,O()):R!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=R}function y(R,F){const X=F||{};return X.type=R,X.start=v(),u.events.push(["enter",X,u]),a.push(X),X}function C(R){const F=a.pop();return F.end=v(),u.events.push(["exit",F,u]),F}function E(R,F){N(R,F.from)}function k(R,F){F.restore()}function P(R,F){return X;function X(ge,he,Be){let pe,j,Q,w;return Array.isArray(ge)?te(ge):"tokenize"in ge?te([ge]):le(ge);function le(be){return xt;function xt(_t){const nt=_t!==null&&be[_t],bt=_t!==null&&be.null,Xt=[...Array.isArray(nt)?nt:nt?[nt]:[],...Array.isArray(bt)?bt:bt?[bt]:[]];return te(Xt)(_t)}}function te(be){return pe=be,j=0,be.length===0?Be:_(be[j])}function _(be){return xt;function xt(_t){return w=D(),Q=be,be.partial||(u.currentConstruct=be),be.name&&u.parser.constructs.disable.null.includes(be.name)?ze():be.tokenize.call(F?Object.assign(Object.create(u),F):u,l,q,ze)(_t)}}function q(be){return R(Q,w),he}function ze(be){return w.restore(),++j<pe.length?_(pe[j]):Be}}}function N(R,F){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Qn(u.events,F,u.events.length-F,R.resolve(u.events.slice(F),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function D(){const R=v(),F=u.previous,X=u.currentConstruct,ge=u.events.length,he=Array.from(a);return{restore:Be,from:ge};function Be(){i=R,u.previous=F,u.currentConstruct=X,u.events.length=ge,a=he,O()}}function O(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function _B(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let o;if(n===r)o=[e[n].slice(i,s)];else{if(o=e.slice(n,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(e[r].slice(0,s))}return o}function bB(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}const kB={[42]:Wt,[43]:Wt,[45]:Wt,[48]:Wt,[49]:Wt,[50]:Wt,[51]:Wt,[52]:Wt,[53]:Wt,[54]:Wt,[55]:Wt,[56]:Wt,[57]:Wt,[62]:eS},SB={[91]:C2},CB={[-2]:xf,[-1]:xf,[32]:xf},TB={[35]:D2,[42]:lu,[45]:[Vw,lu],[60]:L2,[61]:Vw,[95]:lu,[96]:Yw,[126]:Yw},EB={[38]:nS,[92]:tS},IB={[-5]:_f,[-4]:_f,[-3]:_f,[33]:Z2,[38]:nS,[42]:sp,[60]:[n2,j2],[91]:tB,[92]:[A2,tS],[93]:vg,[95]:sp,[96]:m2},AB={null:[sp,gB]},PB={null:[42,95]},DB={null:[]},RB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PB,contentInitial:SB,disable:DB,document:kB,flow:TB,flowInitial:CB,insideSpan:AB,string:EB,text:IB},Symbol.toStringTag,{value:"Module"}));function MB(e){const n=UF([RB,...(e||{}).extensions||[]]),i={defined:[],lazy:{},constructs:n,content:r(KF),document:r(JF),flow:r(pB),string:r(yB),text:r(vB)};return i;function r(s){return o;function o(a){return xB(i,s,a)}}}const Gw=/[\0\t\n\r]/g;function OB(){let e=1,t="",n=!0,i;return r;function r(s,o,a){const l=[];let u,c,h,f,d;for(s=t+s.toString(o),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Gw.lastIndex=h,u=Gw.exec(s),f=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(f),!u){t=s.slice(h);break}if(d===10&&h===f&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),h<f&&(l.push(s.slice(h,f)),e+=f-h),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:i=!0,e=1}h=f+1}return a&&(i&&l.push(-5),t&&l.push(t),l.push(null)),l}}function LB(e){for(;!iS(e););return e}function uS(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const NB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FB(e){return e.replace(NB,BB)}function BB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return uS(n.slice(s?2:1),s?16:10)}return yg(n)||e}const cS={}.hasOwnProperty,zB=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),UB(n)(LB(MB(n).document().write(OB()(e,t,!0))))};function UB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ro),autolinkProtocol:R,autolinkEmail:R,atxHeading:a(Lt),blockQuote:a(Xt),characterEscape:R,characterReference:R,codeFenced:a(Xn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Xn,l),codeText:a(Si,l),codeTextData:R,data:R,codeFlowValue:R,definition:a(hn),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Mn),hardBreakEscape:a(Ci),hardBreakTrailing:a(Ci),htmlFlow:a(Ti,l),htmlFlowData:R,htmlText:a(Ti,l),htmlTextData:R,image:a(Vr),label:l,link:a(ro),listItem:a(ph),listItemValue:v,listOrdered:a(Gr,d),listUnordered:a(Gr),paragraph:a(mh),reference:ze,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Lt),strong:a(ul),thematicBreak:a(M)},exit:{atxHeading:c(),atxHeadingSequence:P,autolink:c(),autolinkEmail:bt,autolinkProtocol:nt,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:xt,characterReferenceMarkerNumeric:xt,characterReferenceValue:_t,codeFenced:c(m),codeFencedFence:p,codeFencedFenceInfo:g,codeFencedFenceMeta:S,codeFlowValue:F,codeIndented:c(y),codeText:c(pe),codeTextData:F,data:F,definition:c(),definitionDestinationString:k,definitionLabelString:C,definitionTitleString:E,emphasis:c(),hardBreakEscape:c(ge),hardBreakTrailing:c(ge),htmlFlow:c(he),htmlFlowData:F,htmlText:c(Be),htmlTextData:F,image:c(Q),label:le,labelText:w,lineEnding:X,link:c(j),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:be,resourceDestinationString:te,resourceTitleString:_,resource:q,setextHeading:c(O),setextHeadingLineSequence:D,setextHeadingText:N,strong:c(),thematicBreak:c()}};hS(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(b){let T={type:"root",children:[]};const L={stack:[T],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:f,setData:s,getData:o},W=[];let Y=-1;for(;++Y<b.length;)if(b[Y][1].type==="listOrdered"||b[Y][1].type==="listUnordered")if(b[Y][0]==="enter")W.push(Y);else{const re=W.pop();Y=r(b,re,Y)}for(Y=-1;++Y<b.length;){const re=t[b[Y][0]];cS.call(re,b[Y][1].type)&&re[b[Y][1].type].call(Object.assign({sliceSerialize:b[Y][2].sliceSerialize},L),b[Y][1])}if(L.tokenStack.length>0){const re=L.tokenStack[L.tokenStack.length-1];(re[1]||qw).call(L,void 0,re[0])}for(T.position={start:Pi(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:Pi(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},Y=-1;++Y<t.transforms.length;)T=t.transforms[Y](T)||T;return T}function r(b,T,L){let W=T-1,Y=-1,re=!1,K,Oe,fe,Ae;for(;++W<=L;){const xe=b[W];if(xe[1].type==="listUnordered"||xe[1].type==="listOrdered"||xe[1].type==="blockQuote"?(xe[0]==="enter"?Y++:Y--,Ae=void 0):xe[1].type==="lineEndingBlank"?xe[0]==="enter"&&(K&&!Ae&&!Y&&!fe&&(fe=W),Ae=void 0):xe[1].type==="linePrefix"||xe[1].type==="listItemValue"||xe[1].type==="listItemMarker"||xe[1].type==="listItemPrefix"||xe[1].type==="listItemPrefixWhitespace"||(Ae=void 0),!Y&&xe[0]==="enter"&&xe[1].type==="listItemPrefix"||Y===-1&&xe[0]==="exit"&&(xe[1].type==="listUnordered"||xe[1].type==="listOrdered")){if(K){let Nt=W;for(Oe=void 0;Nt--;){const Ft=b[Nt];if(Ft[1].type==="lineEnding"||Ft[1].type==="lineEndingBlank"){if(Ft[0]==="exit")continue;Oe&&(b[Oe][1].type="lineEndingBlank",re=!0),Ft[1].type="lineEnding",Oe=Nt}else if(!(Ft[1].type==="linePrefix"||Ft[1].type==="blockQuotePrefix"||Ft[1].type==="blockQuotePrefixWhitespace"||Ft[1].type==="blockQuoteMarker"||Ft[1].type==="listItemIndent"))break}fe&&(!Oe||fe<Oe)&&(K._spread=!0),K.end=Object.assign({},Oe?b[Oe][1].start:xe[1].end),b.splice(Oe||W,0,["exit",K,xe[2]]),W++,L++}xe[1].type==="listItemPrefix"&&(K={type:"listItem",_spread:!1,start:Object.assign({},xe[1].start),end:void 0},b.splice(W,0,["enter",K,xe[2]]),W++,L++,fe=void 0,Ae=!0)}}return b[T][1]._spread=re,L}function s(b,T){n[b]=T}function o(b){return n[b]}function a(b,T){return L;function L(W){u.call(this,b(W),W),T&&T.call(this,W)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(b,T,L){return this.stack[this.stack.length-1].children.push(b),this.stack.push(b),this.tokenStack.push([T,L]),b.position={start:Pi(T.start)},b}function c(b){return T;function T(L){b&&b.call(this,L),h.call(this,L)}}function h(b,T){const L=this.stack.pop(),W=this.tokenStack.pop();if(W)W[0].type!==b.type&&(T?T.call(this,b,W[0]):(W[1]||qw).call(this,b,W[0]));else throw new Error("Cannot close `"+b.type+"` ("+Vo({start:b.start,end:b.end})+"): its not open");return L.position.end=Pi(b.end),L}function f(){return BF(this.stack.pop())}function d(){s("expectingFirstListItemValue",!0)}function v(b){if(o("expectingFirstListItemValue")){const T=this.stack[this.stack.length-2];T.start=Number.parseInt(this.sliceSerialize(b),10),s("expectingFirstListItemValue")}}function g(){const b=this.resume(),T=this.stack[this.stack.length-1];T.lang=b}function S(){const b=this.resume(),T=this.stack[this.stack.length-1];T.meta=b}function p(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function m(){const b=this.resume(),T=this.stack[this.stack.length-1];T.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function y(){const b=this.resume(),T=this.stack[this.stack.length-1];T.value=b.replace(/(\r?\n|\r)$/g,"")}function C(b){const T=this.resume(),L=this.stack[this.stack.length-1];L.label=T,L.identifier=Ts(this.sliceSerialize(b)).toLowerCase()}function E(){const b=this.resume(),T=this.stack[this.stack.length-1];T.title=b}function k(){const b=this.resume(),T=this.stack[this.stack.length-1];T.url=b}function P(b){const T=this.stack[this.stack.length-1];if(!T.depth){const L=this.sliceSerialize(b).length;T.depth=L}}function N(){s("setextHeadingSlurpLineEnding",!0)}function D(b){const T=this.stack[this.stack.length-1];T.depth=this.sliceSerialize(b).charCodeAt(0)===61?1:2}function O(){s("setextHeadingSlurpLineEnding")}function R(b){const T=this.stack[this.stack.length-1];let L=T.children[T.children.length-1];(!L||L.type!=="text")&&(L=I(),L.position={start:Pi(b.start)},T.children.push(L)),this.stack.push(L)}function F(b){const T=this.stack.pop();T.value+=this.sliceSerialize(b),T.position.end=Pi(b.end)}function X(b){const T=this.stack[this.stack.length-1];if(o("atHardBreak")){const L=T.children[T.children.length-1];L.position.end=Pi(b.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(T.type)&&(R.call(this,b),F.call(this,b))}function ge(){s("atHardBreak",!0)}function he(){const b=this.resume(),T=this.stack[this.stack.length-1];T.value=b}function Be(){const b=this.resume(),T=this.stack[this.stack.length-1];T.value=b}function pe(){const b=this.resume(),T=this.stack[this.stack.length-1];T.value=b}function j(){const b=this.stack[this.stack.length-1];if(o("inReference")){const T=o("referenceType")||"shortcut";b.type+="Reference",b.referenceType=T,delete b.url,delete b.title}else delete b.identifier,delete b.label;s("referenceType")}function Q(){const b=this.stack[this.stack.length-1];if(o("inReference")){const T=o("referenceType")||"shortcut";b.type+="Reference",b.referenceType=T,delete b.url,delete b.title}else delete b.identifier,delete b.label;s("referenceType")}function w(b){const T=this.sliceSerialize(b),L=this.stack[this.stack.length-2];L.label=FB(T),L.identifier=Ts(T).toLowerCase()}function le(){const b=this.stack[this.stack.length-1],T=this.resume(),L=this.stack[this.stack.length-1];if(s("inReference",!0),L.type==="link"){const W=b.children;L.children=W}else L.alt=T}function te(){const b=this.resume(),T=this.stack[this.stack.length-1];T.url=b}function _(){const b=this.resume(),T=this.stack[this.stack.length-1];T.title=b}function q(){s("inReference")}function ze(){s("referenceType","collapsed")}function be(b){const T=this.resume(),L=this.stack[this.stack.length-1];L.label=T,L.identifier=Ts(this.sliceSerialize(b)).toLowerCase(),s("referenceType","full")}function xt(b){s("characterReferenceType",b.type)}function _t(b){const T=this.sliceSerialize(b),L=o("characterReferenceType");let W;L?(W=uS(T,L==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):W=yg(T);const Y=this.stack.pop();Y.value+=W,Y.position.end=Pi(b.end)}function nt(b){F.call(this,b);const T=this.stack[this.stack.length-1];T.url=this.sliceSerialize(b)}function bt(b){F.call(this,b);const T=this.stack[this.stack.length-1];T.url="mailto:"+this.sliceSerialize(b)}function Xt(){return{type:"blockquote",children:[]}}function Xn(){return{type:"code",lang:null,meta:null,value:""}}function Si(){return{type:"inlineCode",value:""}}function hn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Mn(){return{type:"emphasis",children:[]}}function Lt(){return{type:"heading",depth:void 0,children:[]}}function Ci(){return{type:"break"}}function Ti(){return{type:"html",value:""}}function Vr(){return{type:"image",title:null,url:"",alt:null}}function ro(){return{type:"link",title:null,url:"",children:[]}}function Gr(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function ph(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function mh(){return{type:"paragraph",children:[]}}function ul(){return{type:"strong",children:[]}}function I(){return{type:"text",value:""}}function M(){return{type:"thematicBreak"}}}function Pi(e){return{line:e.line,column:e.column,offset:e.offset}}function hS(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?hS(e,i):$B(e,i)}}function $B(e,t){let n;for(n in t)if(cS.call(t,n)){if(n==="canContainEols"){const i=t[n];i&&e[n].push(...i)}else if(n==="transforms"){const i=t[n];i&&e[n].push(...i)}else if(n==="enter"||n==="exit"){const i=t[n];i&&Object.assign(e[n],i)}}}function qw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vo({start:t.start,end:t.end})+") is still open")}function jB(e){Object.assign(this,{Parser:n=>{const i=this.data("settings");return zB(n,Object.assign({},i,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function HB(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function YB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function WB(e,t){const n=t.value?t.value+`
`:"",i=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};i&&(r.className=["language-"+i]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function VB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function no(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&rn(e.charCodeAt(n+1))&&rn(e.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(i,n),encodeURIComponent(o)),i=n+r+1,o=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function fS(e,t){const n=String(t.identifier).toUpperCase(),i=no(n.toLowerCase()),r=e.footnoteOrder.indexOf(n);let s;r===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=r+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,l),e.applyData(t,l)}function qB(e,t){const n=e.footnoteById;let i=1;for(;i in n;)i++;const r=String(i);return n[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:t.children}],position:t.position},fS(e,{type:"footnoteReference",identifier:r,position:t.position})}function KB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QB(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function dS(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+i};const r=e.all(t),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function JB(e,t){const n=e.definition(t.identifier);if(!n)return dS(e,t);const i={src:no(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,r),e.applyData(t,r)}function XB(e,t){const n={src:no(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function ZB(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function ez(e,t){const n=e.definition(t.identifier);if(!n)return dS(e,t);const i={href:no(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tz(e,t){const n={href:no(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function nz(e,t,n){const i=e.all(t),r=n?iz(n):pS(t),s={},o=[];if(typeof t.checked=="boolean"){const c=i[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},i.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const c=i[a];(r||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!r?o.push(...c.children):o.push(c)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function iz(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=pS(n[i])}return t}function pS(e){const t=e.spread;return t??e.children.length>1}function rz(e,t){const n={},i=e.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function sz(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oz(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function az(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const wg=mS("start"),xg=mS("end");function lz(e){return{start:wg(e),end:xg(e)}}function mS(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function uz(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=wg(t.children[1]),l=xg(t.children[t.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function cz(e,t,n){const i=n?n.children:void 0,s=(i?i.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],f={},d=o?o[l]:void 0;d&&(f.align=d);let v={type:"element",tagName:s,properties:f,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(t,v)),u.push(v)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function hz(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Kw=9,Qw=32;function fz(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const s=[];for(;i;)s.push(Jw(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return s.push(Jw(t.slice(r),r>0,!1)),s.join("")}function Jw(e,t,n){let i=0,r=e.length;if(t){let s=e.codePointAt(i);for(;s===Kw||s===Qw;)i++,s=e.codePointAt(i)}if(n){let s=e.codePointAt(r-1);for(;s===Kw||s===Qw;)r--,s=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}function dz(e,t){const n={type:"text",value:fz(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function pz(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const mz={blockquote:HB,break:YB,code:WB,delete:VB,emphasis:GB,footnoteReference:fS,footnote:qB,heading:KB,html:QB,imageReference:JB,image:XB,inlineCode:ZB,linkReference:ez,link:tz,listItem:nz,list:rz,paragraph:sz,root:oz,strong:az,table:uz,tableCell:hz,tableRow:cz,text:dz,thematicBreak:pz,toml:zl,yaml:zl,definition:zl,footnoteDefinition:zl};function zl(){return null}const gS=function(e){if(e==null)return wz;if(typeof e=="string")return vz(e);if(typeof e=="object")return Array.isArray(e)?gz(e):yz(e);if(typeof e=="function")return ih(e);throw new Error("Expected function, string, or object as test")};function gz(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gS(e[n]);return ih(i);function i(...r){let s=-1;for(;++s<t.length;)if(t[s].call(this,...r))return!0;return!1}}function yz(e){return ih(t);function t(n){let i;for(i in e)if(n[i]!==e[i])return!1;return!0}}function vz(e){return ih(t);function t(n){return n&&n.type===e}}function ih(e){return t;function t(n,...i){return Boolean(n&&typeof n=="object"&&"type"in n&&Boolean(e.call(this,n,...i)))}}function wz(){return!0}const xz=!0,Xw=!1,_z="skip",bz=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null);const r=gS(t),s=i?-1:1;o(e,void 0,[])();function o(a,l,u){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,v,g;if((!t||r(a,l,u[u.length-1]||null))&&(f=kz(n(a,u)),f[0]===Xw))return f;if(a.children&&f[0]!==_z)for(v=(i?a.children.length:-1)+s,g=u.concat(a);v>-1&&v<a.children.length;){if(d=o(a.children[v],v,g)(),d[0]===Xw)return d;v=typeof d[1]=="number"?d[1]:v+s}return f}}};function kz(e){return Array.isArray(e)?e:typeof e=="number"?[xz,e]:[e]}const _g=function(e,t,n,i){typeof t=="function"&&typeof n!="function"&&(i=n,n=t,t=null),bz(e,t,r,i);function r(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function Sz(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const Zw={}.hasOwnProperty;function Cz(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return _g(e,"definition",i=>{const r=ex(i.identifier);r&&!Zw.call(t,r)&&(t[r]=i)}),n;function n(i){const r=ex(i);return r&&Zw.call(t,r)?t[r]:null}}function ex(e){return String(e||"").toUpperCase()}const ic={}.hasOwnProperty;function Tz(e,t){const n=t||{},i=n.allowDangerousHtml||!1,r={};return o.dangerous=i,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...mz,...n.handlers},o.definition=Cz(e),o.footnoteById=r,o.footnoteOrder=[],o.footnoteCounts={},o.patch=Ez,o.applyData=Iz,o.one=a,o.all=l,o.wrap=Pz,o.augment=s,_g(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();ic.call(r,c)||(r[c]=u)}),o;function s(u,c){if(u&&"data"in u&&u.data){const h=u.data;h.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=h.hName),c.type==="element"&&h.hProperties&&(c.properties={...c.properties,...h.hProperties}),"children"in c&&c.children&&h.hChildren&&(c.children=h.hChildren)}if(u){const h="type"in u?u:{position:u};Sz(h)||(c.position={start:wg(h),end:xg(h)})}return c}function o(u,c,h,f){return Array.isArray(h)&&(f=h,h={}),s(u,{type:"element",tagName:c,properties:h||{},children:f||[]})}function a(u,c){return yS(o,u,c)}function l(u){return bg(o,u)}}function Ez(e,t){e.position&&(t.position=lz(e))}function Iz(e,t){let n=t;if(e&&e.data){const i=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;typeof i=="string"&&(n.type==="element"?n.tagName=i:n={type:"element",tagName:i,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function yS(e,t,n){const i=t&&t.type;if(!i)throw new Error("Expected node, got `"+t+"`");return ic.call(e.handlers,i)?e.handlers[i](e,t,n):e.passThrough&&e.passThrough.includes(i)?"children"in t?{...t,children:bg(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):Az(e,t)}function bg(e,t){const n=[];if("children"in t){const i=t.children;let r=-1;for(;++r<i.length;){const s=yS(e,i[r],t);if(s){if(r&&i[r-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function Az(e,t){const n=t.data||{},i="value"in t&&!(ic.call(n,"hProperties")||ic.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:bg(e,t)};return e.patch(t,i),e.applyData(t,i)}function Pz(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Dz(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[n]];if(!i)continue;const r=e.all(i),s=String(i.identifier).toUpperCase(),o=no(s.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[s];){const h={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const u=r[r.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const h=u.children[u.children.length-1];h&&h.type==="text"?h.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else r.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(r,!0)};e.patch(i,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function vS(e,t){const n=Tz(e,t),i=n.one(e,null),r=Dz(n);return r&&i.children.push({type:"text",value:`
`},r),Array.isArray(i)?{type:"root",children:i}:i}const Rz=function(e,t){return e&&"run"in e?Oz(e,t):Lz(e||t)},Mz=Rz;function Oz(e,t){return(n,i,r)=>{e.run(vS(n,t),i,s=>{r(s)})}}function Lz(e){return t=>vS(t,e)}var se={},Nz={get exports(){return se},set exports(e){se=e}},Fz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bz=Fz,zz=Bz;function wS(){}function xS(){}xS.resetWarningCache=wS;var Uz=function(){function e(i,r,s,o,a,l){if(l!==zz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xS,resetWarningCache:wS};return n.PropTypes=n,n};Nz.exports=Uz();class ll{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}ll.prototype.property={};ll.prototype.normal={};ll.prototype.space=null;function _S(e,t){const n={},i={};let r=-1;for(;++r<e.length;)Object.assign(n,e[r].property),Object.assign(i,e[r].normal);return new ll(n,i,t)}function op(e){return e.toLowerCase()}class bn{constructor(t,n){this.property=t,this.attribute=n}}bn.prototype.space=null;bn.prototype.boolean=!1;bn.prototype.booleanish=!1;bn.prototype.overloadedBoolean=!1;bn.prototype.number=!1;bn.prototype.commaSeparated=!1;bn.prototype.spaceSeparated=!1;bn.prototype.commaOrSpaceSeparated=!1;bn.prototype.mustUseProperty=!1;bn.prototype.defined=!1;let $z=0;const me=Wr(),Xe=Wr(),bS=Wr(),z=Wr(),Ne=Wr(),Es=Wr(),Zt=Wr();function Wr(){return 2**++$z}const ap=Object.freeze(Object.defineProperty({__proto__:null,boolean:me,booleanish:Xe,commaOrSpaceSeparated:Zt,commaSeparated:Es,number:z,overloadedBoolean:bS,spaceSeparated:Ne},Symbol.toStringTag,{value:"Module"})),bf=Object.keys(ap);class kg extends bn{constructor(t,n,i,r){let s=-1;if(super(t,n),tx(this,"space",r),typeof i=="number")for(;++s<bf.length;){const o=bf[s];tx(this,bf[s],(i&ap[o])===ap[o])}}}kg.prototype.defined=!0;function tx(e,t,n){n&&(e[t]=n)}const jz={}.hasOwnProperty;function io(e){const t={},n={};let i;for(i in e.properties)if(jz.call(e.properties,i)){const r=e.properties[i],s=new kg(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[op(i)]=i,n[op(s.attribute)]=i}return new ll(t,n,e.space)}const kS=io({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),SS=io({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function CS(e,t){return t in e?e[t]:t}function TS(e,t){return CS(e,t.toLowerCase())}const ES=io({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:TS,properties:{xmlns:null,xmlnsXLink:null}}),IS=io({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Xe,ariaAutoComplete:null,ariaBusy:Xe,ariaChecked:Xe,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Ne,ariaCurrent:null,ariaDescribedBy:Ne,ariaDetails:null,ariaDisabled:Xe,ariaDropEffect:Ne,ariaErrorMessage:null,ariaExpanded:Xe,ariaFlowTo:Ne,ariaGrabbed:Xe,ariaHasPopup:null,ariaHidden:Xe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ne,ariaLevel:z,ariaLive:null,ariaModal:Xe,ariaMultiLine:Xe,ariaMultiSelectable:Xe,ariaOrientation:null,ariaOwns:Ne,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Xe,ariaReadOnly:Xe,ariaRelevant:null,ariaRequired:Xe,ariaRoleDescription:Ne,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Xe,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null}}),Hz=io({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:TS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Es,acceptCharset:Ne,accessKey:Ne,action:null,allow:null,allowFullScreen:me,allowPaymentRequest:me,allowUserMedia:me,alt:null,as:null,async:me,autoCapitalize:null,autoComplete:Ne,autoFocus:me,autoPlay:me,capture:me,charSet:null,checked:me,cite:null,className:Ne,cols:z,colSpan:null,content:null,contentEditable:Xe,controls:me,controlsList:Ne,coords:z|Es,crossOrigin:null,data:null,dateTime:null,decoding:null,default:me,defer:me,dir:null,dirName:null,disabled:me,download:bS,draggable:Xe,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:me,formTarget:null,headers:Ne,height:z,hidden:me,high:z,href:null,hrefLang:null,htmlFor:Ne,httpEquiv:Ne,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:me,itemId:null,itemProp:Ne,itemRef:Ne,itemScope:me,itemType:Ne,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:me,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:me,muted:me,name:null,nonce:null,noModule:me,noValidate:me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:me,optimum:z,pattern:null,ping:Ne,placeholder:null,playsInline:me,poster:null,preload:null,readOnly:me,referrerPolicy:null,rel:Ne,required:me,reversed:me,rows:z,rowSpan:z,sandbox:Ne,scope:null,scoped:me,seamless:me,selected:me,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Xe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:me,useMap:null,value:Xe,width:z,wrap:null,align:null,aLink:null,archive:Ne,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:me,declare:me,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:me,noHref:me,noShade:me,noWrap:me,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Xe,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:me,disableRemotePlayback:me,prefix:null,property:null,results:z,security:null,unselectable:null}}),Yz=io({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:CS,properties:{about:Zt,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Ne,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:me,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Es,g2:Es,glyphName:Es,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Zt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ne,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zt,rev:Zt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zt,requiredFeatures:Zt,requiredFonts:Zt,requiredFormats:Zt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Zt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zt,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zt,to:null,transform:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Wz=/^data[-\w.:]+$/i,nx=/-[a-z]/g,Vz=/[A-Z]/g;function Gz(e,t){const n=op(t);let i=t,r=bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Wz.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nx,Kz);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nx.test(s)){let o=s.replace(Vz,qz);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}r=kg}return new r(i,t)}function qz(e){return"-"+e.toLowerCase()}function Kz(e){return e.charAt(1).toUpperCase()}const ix={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Qz=_S([SS,kS,ES,IS,Hz],"html"),Jz=_S([SS,kS,ES,IS,Yz],"svg");function Xz(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{_g(t,"element",(n,i,r)=>{const s=r;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof i=="number"&&(o=!e.allowElement(n,i,s)),o&&typeof i=="number")return e.unwrapDisallowed&&n.children?s.children.splice(i,1,...n.children):s.children.splice(i,1),i})}}var lp={},Zz={get exports(){return lp},set exports(e){lp=e}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),ah=Symbol.for("react.provider"),lh=Symbol.for("react.context"),eU=Symbol.for("react.server_context"),uh=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),tU=Symbol.for("react.offscreen"),AS;AS=Symbol.for("react.module.reference");function kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sg:switch(e=e.type,e){case rh:case oh:case sh:case ch:case hh:return e;default:switch(e=e&&e.$$typeof,e){case eU:case lh:case uh:case dh:case fh:case ah:return e;default:return t}}case Cg:return t}}}Ie.ContextConsumer=lh;Ie.ContextProvider=ah;Ie.Element=Sg;Ie.ForwardRef=uh;Ie.Fragment=rh;Ie.Lazy=dh;Ie.Memo=fh;Ie.Portal=Cg;Ie.Profiler=oh;Ie.StrictMode=sh;Ie.Suspense=ch;Ie.SuspenseList=hh;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return kn(e)===lh};Ie.isContextProvider=function(e){return kn(e)===ah};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sg};Ie.isForwardRef=function(e){return kn(e)===uh};Ie.isFragment=function(e){return kn(e)===rh};Ie.isLazy=function(e){return kn(e)===dh};Ie.isMemo=function(e){return kn(e)===fh};Ie.isPortal=function(e){return kn(e)===Cg};Ie.isProfiler=function(e){return kn(e)===oh};Ie.isStrictMode=function(e){return kn(e)===sh};Ie.isSuspense=function(e){return kn(e)===ch};Ie.isSuspenseList=function(e){return kn(e)===hh};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rh||e===oh||e===sh||e===ch||e===hh||e===tU||typeof e=="object"&&e!==null&&(e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===ah||e.$$typeof===lh||e.$$typeof===uh||e.$$typeof===AS||e.getModuleId!==void 0)};Ie.typeOf=kn;(function(e){e.exports=Ie})(Zz);const nU=cx(lp);function iU(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function rU(e){return e.join(" ").trim()}function sU(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var rc={},oU={get exports(){return rc},set exports(e){rc=e}},rx=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,aU=/\n/g,lU=/^\s*/,uU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cU=/^:\s*/,hU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fU=/^[;\s]*/,dU=/^\s+|\s+$/g,pU=`
`,sx="/",ox="*",yr="",mU="comment",gU="declaration",yU=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function r(v){var g=v.match(aU);g&&(n+=g.length);var S=v.lastIndexOf(pU);i=~S?v.length-S:i+v.length}function s(){var v={line:n,column:i};return function(g){return g.position=new o(v),u(),g}}function o(v){this.start=v,this.end={line:n,column:i},this.source=t.source}o.prototype.content=e;function a(v){var g=new Error(t.source+":"+n+":"+i+": "+v);if(g.reason=v,g.filename=t.source,g.line=n,g.column=i,g.source=e,!t.silent)throw g}function l(v){var g=v.exec(e);if(g){var S=g[0];return r(S),e=e.slice(S.length),g}}function u(){l(lU)}function c(v){var g;for(v=v||[];g=h();)g!==!1&&v.push(g);return v}function h(){var v=s();if(!(sx!=e.charAt(0)||ox!=e.charAt(1))){for(var g=2;yr!=e.charAt(g)&&(ox!=e.charAt(g)||sx!=e.charAt(g+1));)++g;if(g+=2,yr===e.charAt(g-1))return a("End of comment missing");var S=e.slice(2,g-2);return i+=2,r(S),e=e.slice(g),i+=2,v({type:mU,comment:S})}}function f(){var v=s(),g=l(uU);if(g){if(h(),!l(cU))return a("property missing ':'");var S=l(hU),p=v({type:gU,property:ax(g[0].replace(rx,yr)),value:S?ax(S[0].replace(rx,yr)):yr});return l(fU),p}}function d(){var v=[];c(v);for(var g;g=f();)g!==!1&&(v.push(g),c(v));return v}return u(),d()};function ax(e){return e?e.replace(dU,yr):yr}var vU=yU;function PS(e,t){var n=null;if(!e||typeof e!="string")return n;for(var i,r=vU(e),s=typeof t=="function",o,a,l=0,u=r.length;l<u;l++)i=r[l],o=i.property,a=i.value,s?t(o,a,i):a&&(n||(n={}),n[o]=a);return n}oU.exports=PS;rc.default=PS;const wU=rc,up={}.hasOwnProperty,xU=new Set(["table","thead","tbody","tfoot","tr"]);function DS(e,t){const n=[];let i=-1,r;for(;++i<t.children.length;)r=t.children[i],r.type==="element"?n.push(_U(e,r,i,t)):r.type==="text"?(t.type!=="element"||!xU.has(t.tagName)||!iU(r))&&n.push(r.value):r.type==="raw"&&!e.options.skipHtml&&n.push(r.value);return n}function _U(e,t,n,i){const r=e.options,s=r.transformLinkUri===void 0?wF:r.transformLinkUri,o=e.schema,a=t.tagName,l={};let u=o,c;if(o.space==="html"&&a==="svg"&&(u=Jz,e.schema=u),t.properties)for(c in t.properties)up.call(t.properties,c)&&kU(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const h=DS(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},d=r.components&&up.call(r.components,a)?r.components[a]:a,v=typeof d=="string"||d===li.Fragment;if(!nU.isValidElementType(d))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=n,a==="a"&&r.linkTarget&&(l.target=typeof r.linkTarget=="function"?r.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):r.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!v&&a==="code"&&i.type==="element"&&i.tagName!=="pre"&&(l.inline=!0),!v&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&r.transformImageUri&&(l.src=r.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!v&&a==="li"&&i.type==="element"){const g=bU(t);l.checked=g&&g.properties?Boolean(g.properties.checked):null,l.index=kf(i,t),l.ordered=i.tagName==="ol"}return!v&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),v||(l.isHeader=a==="th")),!v&&a==="tr"&&i.type==="element"&&(l.isHeader=Boolean(i.tagName==="thead")),r.sourcePos&&(l["data-sourcepos"]=TU(f)),!v&&r.rawSourcePos&&(l.sourcePosition=t.position),!v&&r.includeElementIndex&&(l.index=kf(i,t),l.siblingCount=kf(i)),v||(l.node=t),h.length>0?li.createElement(d,l,h):li.createElement(d,l)}function bU(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function kf(e,t){let n=-1,i=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&i++;return i}function kU(e,t,n,i){const r=Gz(i.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=r.commaSeparated?sU(s):rU(s)),r.property==="style"&&typeof s=="string"&&(s=SU(s)),r.space&&r.property?e[up.call(ix,r.property)?ix[r.property]:r.property]=s:r.attribute&&(e[r.attribute]=s))}function SU(e){const t={};try{wU(e,n)}catch{}return t;function n(i,r){const s=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;t[s.replace(/-([a-z])/g,CU)]=r}}function CU(e,t){return t.toUpperCase()}function TU(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const lx={}.hasOwnProperty,EU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ul={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function RS(e){for(const s in Ul)if(lx.call(Ul,s)&&lx.call(e,s)){const o=Ul[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${EU}#${o.id}> for more info)`),delete Ul[s]}const t=MF().use(jB).use(e.remarkPlugins||[]).use(Mz,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Xz,e),n=new K1;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const i=t.runSync(t.parse(n),n);if(i.type!=="root")throw new TypeError("Expected a `root` node");let r=li.createElement(li.Fragment,{},DS({options:e,schema:Qz,listDepth:0},i));return e.className&&(r=li.createElement("div",{className:e.className},r)),r}RS.propTypes={children:se.string,className:se.string,allowElement:se.func,allowedElements:se.arrayOf(se.string),disallowedElements:se.arrayOf(se.string),unwrapDisallowed:se.bool,remarkPlugins:se.arrayOf(se.oneOfType([se.object,se.func,se.arrayOf(se.oneOfType([se.bool,se.string,se.object,se.func,se.arrayOf(se.any)]))])),rehypePlugins:se.arrayOf(se.oneOfType([se.object,se.func,se.arrayOf(se.oneOfType([se.bool,se.string,se.object,se.func,se.arrayOf(se.any)]))])),sourcePos:se.bool,rawSourcePos:se.bool,skipHtml:se.bool,includeElementIndex:se.bool,transformLinkUri:se.oneOfType([se.func,se.bool]),linkTarget:se.oneOfType([se.func,se.string]),transformImageUri:se.func,components:se.object};const IU=`# Map Gen Rules\r
\r
## Game Concept\r
\r
This is a map-creating game designed to be played ideally in a group. The game will still work for solo play, but the experience and end result will be different.\r
\r
The primary goal of the game is to end up with a dynamically-built world with rich history and lore that can be used to run TTRPGs, write novels, or inspire creators in any other way. The game guides players in turn-based drawing of a hex-based biome map grid along with annotating the significant features, locations, people, artifacts, magic systems, and beliefs that populate the world.\r
\r
The rules exist only to provide stimulating constraints on creativity, and as such can be adapted or modified to fit whatever type of world you are hoping to generate. For example, horror-based worlds would likely want to modify the list of available biomes and encounters to match their theme.\r
\r
## Required tools\r
\r
- At least one six-side die\r
- Deck of 52 playing cards, plus jokers (optional)\r
- Something to draw on, digital or physical\r
- Something to take notes on, digital or physical\r
\r
## Story Premise\r
\r
You play as an expedition that is leaving their isolated home community and embarking on a journey in pursuit of a powerful goal that can only be met by venturing out into the wide, unknown, world. Be it one single person or a caravan of hundreds, your expedition is united by your shared passion to achieve the goal and make whatever sacrifices might be required on the way. Your journey may end quickly in ruin, or in unexpected success. Or you may walk the land until the nomadic life becomes all that your people can remember.\r
\r
However it ends, you expedition will leave a mark in the world. The geography you map will guild future travellers. The tales you collect will be shared around campfires and inns around the land. You will spawn mythology, chronicle epochs, and forge the culture of the world. That ruined castle you passed will someday be explored by a fledling wizard looking for ancient knowledge. The ambitious kingdom you encountered may give rise to an evil world power that needs to be stopped by a brave party of adventures. The cursed goblin scepter you heard rumors of will be sought out by a dwarven rune-smith looking to smelt a new powerful artifact.\r
\r
## Set the stage\r
\r
Pick your world's theme. What do you want the major biomes to be? What do you want the major races to be? What historical period do you want it set in?\r
\r
There are 6 built-in biomes you can use, or you can customize if other biomes better fit your needs. These are meant to be rough guides as to what the land looks like in each hex.\r
\r
1. Plains / prairie / meadow / fields\r
2. Mountain / peaks/ crags/ cliffs\r
3. Hills / foothills / slopes\r
4. Desert / barren / wasteland / dunes / tundra\r
5. Jungle / rainforest / forest / grove\r
6. Bogs / marsh / wetlands / swamp\r
\r
These don't include ocean tiles, which are handled via the cards you draw.\r
\r
There are 6 built in "races" you can use, or you can customize if other race categories better fit your needs. These are meant to be rough guides about the type of race related to the points of interest in your world.\r
\r
1. Human / Agricultural\r
2. Dwarven / Industrial\r
3. Elves / Natural\r
4. Bestial / Nomadic / Hordes / Tribal\r
5. Smaller-than-human / Insectoid / Miniature\r
6. Larger-than-human / giant / Colossal / hulking\r
\r
## Beginning your Story\r
\r
You start play by deciding on your expedition's demographics and goal. What race are you? How many people are joining the group? Where are you setting out from? Will your group be looking to colonize a new land? Will they be searching for a long-lost heirloom? Will they be travelling the land to find the answer to a philosphical question? Are they looking to flee danger and find a new home? Are they merchants looking for valuable trade goods? Are they hunting a rare beast? Are they seeking revenge for their kings murder? Whatever their goal, it needs to be flexible enough to allow for creating many stories along the way.\r
\r
**Plan your Journey**\r
\r
What does final success for your group look like? Before embarking you need to decide what will happen if the fates smile upon you and you progress far enough to achieve your goal? This can adapt over time as you build the story, but you should have at least a general idea. On success, you will get to identify or terraform one hex tile to represent the result or the aftermath of your party's success.\r
\r
What does final failure look like? This should be anything that could happen that would destroy or disband your group. "Death of all members" is an obvious go-to, but there may be other creative options. Begin thinking about this and make some notes about the options. If your party ends in failure, you will still get to terraform a final hex to represent that outcome.\r
\r
You may also want to think about what incremental successes and failures will look like for your goal. You will have encounters along the way that will bring unexpected fortune or bitter setbacks. Having some idea of how your goal could be broken down into smaller achievements will help with having a narratively satisfying goal.\r
\r
**Terraform your starting hex**\r
\r
Pick a hex on the blank map to be your starting point. Pick the biome, and mark any significant city, point of interest, or any other details that relate to your group or your quest in that starter hex. As part of this you will also need to decide the dimensions of your whole map. How many tiles wide and tall will the boundaries of your world be?\r
\r
If you have extra six-sided die, get two of them and place the in front of you. One is your progress die, and the second is your milestone die. Set the progress die to 3, and the milestone die to 1. Progress or setbacks will increase or decrease the counter on the intermediate die, while Major failures or successes can increase or decrease the milestone die. If the progress die ticks above 6, increase the milestone die by 1 and reset the progress die back down to 1 and keep counting up from there. The progress die cannot decrease below 1, and thus setbacks cannot directly decrease the milestone die. If your milestone die increases above 6, Congratulations your expedition encounters final success. If somehow your milestone die drops below 1, your expedition ends in final failure. You'll get to resolve your ending either way, and can start a new expedition if there's still more map to reveal.\r
\r
If you don't have die, you can track this with pen/paper as well.\r
\r
## Turns\r
\r
Deal 3 face-up cards and 1 face-down card to each player. Each face-up card represents part of your encounter for that phase of your journey. Use the lookup chart to determine what you find. Each card could be a separate thing, or you can weave them all together into the aspects of a single thing. The face-down card represents either success or failure, and can impact progress towards your expedition's goal. You won't reveal this card until after resolving the other three cards. Instead of mapping this 4th card like the first 3, it will indicate how successful the other three cards were. In general, that 4th card will have these meanings, although not all scenarios use all these options\r
\r
Red (Diamond) - critical success\r
Red (Heart) - Success\r
Black (Clubs) - Failure\r
Black (Space) - Critical Failure\r
\r
Regardless of what other card you draw, a success in your 4th card will add a +1 to your progress die. This will add on top of other progress you make, or could lessen a progress loss.\r
\r
Your expedition can explore by default 6 hexes from its starting hex. Each explored hex has to share a side with the previouly explored hex (no jumping around, etc). The only exception is if there are no available unexplored hexes that you can reach. In that case you can jump over any length of previously-explored hexes to find more blank hexes to explore.\r
\r
Each hex is as wide as a person could walk in one day over flat terrain.\r
\r
With each hex you explore, pick one of the 6 biomes and draw it there (or roll the six-sided die if you want it to be random). Unless the cards you drew say otherwise, you get free reign over what biomes you put.\r
\r
After drawing all the biomes and adding any features that the cards tell you to, flip over the success/failure card.\r
\r
You can add as much story and exposition as you want. The goal is to create story and meaning behind what you find. Think about why, how, what, when, etc for each significant feature you get to draw. Record this for your world-building dictionary at the end. Some starter questions are included but you should flesh out your details as much as you want or answer other questions about it entirely. Your group can be a good source for questions to answer about your place.\r
\r
**Terraform your Ending Hex**\r
\r
Wherever your expedition ends, in success or failure, you'll get to terraform that hex as well, making it whatetever makes sense for your story. Note this can be an already-explored hex. If you still have more map to draw you can start another expedition.\r
\r
`,AU=`### **Clubs** - Rumors and Tales\r
\r
**A - Ask the Inn Keeper.** You talk with a local innkeeper and swap tales over drinks. Draw an extra card. Resolve that card in any tile(s) on the entire map. Draw enough extra tiles to resolve the card (like if it has you do a diverse biome).\r
\r
**2 - Survivor's Warning.** You run into someone how tells you about how they barely survived an encounter. Are they a sole survivor? How did they survive? What is the danger they faced? Mark the place anywhere on the map where the danger lies. If your 4th card is a critical failure, end a world project and relate it to the survivor's tale.\r
\r
**3 - Travelling Bard.** You hear a bard performing a ballad about a notable figure in the world, either alive or dead. 4th card success means a hero. Failure mans a villain. Mark anywhere in the world where that villain lives. Who are they? Why are they famour or notorious? What kind of person are they? What is their home like?\r
\r
**4 - Lost Manuscript.** You find a lost or ancient manuscript, or read an interesting book. It tells you about an interesting flora or fauna, as well as where to find it. OR, it details a historical event. Or it's a map to hidden trasure. On success, the story is a real history, or you find the item. On failure, the story is fiction or fable, and you aren't able to find the item. Did someone get to it before you?\r
\r
**5 - Campfire Philosophy.** A stranger or friend who shares your fire for a night talks with you through the night about a religion, philosophy, or belief that exists in the world. What is it? How to others feel about it? How prevelant is it?\r
\r
**6 - Famous Artifact.** you hear about a signficant item in the world. Is it the sword of a leader? The crown of a lich? A stone that grants wishes? On success you are able to see / touch / interact with some item or otherwise satisfy yourself that it is real. On Failure, you just hear tales and you aren't sure if they are just tall tales.\r
\r
**7 - Military Patrol.** You are stopped and questioned by a military patrol. What are they patrolling for? Are tensions high between nearby civilzations? Adjust up to three nearby aggression results tied to signs of civilzation to reflect greater or decreased hostility, or shifting alliances.\r
\r
**8 - Wizard Display.** A travelling wizard, warlock, sorcerer, witch, etc is seen doing some magic. How does the magic work? What kind of system controls its use. On success this is benign or good-seeming magic. On failure, it has an evil tint to it. Critical successes or failures mean powerful magic, while regular success or failures mean lower-level magic.\r
\r
**9 - Local Guide.** You have a local guide show you around the area. Plus 2 tiles. Name one thing anywhere on the map that isn't already named.\r
\r
**10 - Traders.** You do an exchange with some traders, and learn about the current state of world commerce. On success, name a material or substance that has a surplus in the world. on failure, name a scarcity. Crits increase the surplus or scarcity level.\r
\r
**J - End a World Project.** You hear about a world project that ended. Pick from any of the current world projects, or create your own if there aren't any. Use your 4th die to determine how the project ended, and describe how it happened and what the result was.\r
\r
**Q - Begin a world project.** You hear about a large project being started. Is someone going to war? Is a population migrating? Is a college of wizards trying to create a new spell?\r
\r
**K - Prophecy.** You encounter a prophet, sage, preacher, or scholar that tells you from firsthand knowledge about an impending event that will affect the whole world. Use your 4th card to determine the magnitude and perception of the event. This prophecy counts as a world project where the outcome is already determined before it ends. However, the effects of that outcome can still be determined as good/bad once it get's resolved.`,PU=`### **Hearts** - Map the Geography\r
\r
**A - .** **Giant Biome.** You encounter a large swathe of land that is all of the same biome. You explore 2 extra tiles this turn, but all your explored tiles must be the same biome.\r
\r
*Is there a reason for this large area? Is there a story? How does this section of land affect the world around it?*\r
\r
**2 - Diverse Biomes.** You encounter an unusually diverse series of biomes. Each tile you explore must be a different biome (so six different biomes).\r
\r
*Why is this area so high in biodiversity? How does it increase interactions between species or civilizations?*\r
\r
**3 - Mountain Pass.** You encounter a mountain pass of 1d6 length. Whatever you roll, that many of your explored tiles have to have mountains on at least 4 sides of them. If there are unexplored tiles you can draw mountains in them in order to satisfy this. If your 4th card is red, you find a hidden valley. Add an additional tile (your 7th) that is surrounded on all 6 sides by mountain.\r
\r
*Who uses this pass? Does it connect two regions or lands? Is it dangerous? Is it beautiful? Is it a major defensive area or secret vulnerability?*\r
\r
**4 - Ocean Crossing.** You attempt an ocean crossing of 1d6 x 3 length. If your 4th card is red you find land at the other end. At some point before your final 6th tile you switch to ocean tiles (which don't count against your 6-tile-total). If your 4th card is black, you don't find land at the end. This means your ocean tiles have to come only after your 6th tile is placed.\r
\r
*What is the crossing like? Is it beautiful beaches or jagged rocks? Are there storms? Is it peaceful? Can you see the other land from your side?*\r
\r
**5 - Follow the Beach.** You find a beach and follow along it. Draw 3 extra tiles, but 6 tiles total must be next to ocean. You can draw the ocean tiles to satisfy this if needed.\r
\r
*Is it sandy, cold, hot, rocky? Is it a place for tourists? For Traders? Is a natural beauty or a inhospitable obstacle?*\r
\r
**6 - Strange flora or fauna.** 4th card success means friendly or beneficial, 4th card failure means hostile or dangerous. Draw an extra tile where this is discovered.\r
\r
*What is the creature or plant? How was it found? What does it do? How do the locals treat it?*\r
\r
**7 - Surrounded biome.** You can draw an extra tile this turn: You encounter a tile that is surrounded on all sides by a single other type type. You can include ocean in this, meaning could essentially create an island or a huge lake.\r
\r
*What is the significance of the surrounded land. It is avoided, or sought after? Is it valuable or worthless? Is it feared or reverenced?*\r
\r
**8 - Valuable Natural Resource.** You can draw an extra tile this turn that is the location of a valuable Natural Resource.\r
\r
*What is the resource? Was it easy or hard to find? Is it something that people will flock to and want to form new settlemnts there for easy access? Will natives be protective against exploitation?*\r
\r
**9 - Lake or Pool.** You can draw an extra tile. It has to have a lake or pool in it (but not the whole tile).\r
\r
*What is the significance of this body of water. Is it a murky swamp water or a sparkling majestic pool?*\r
\r
**10 - Cavern Entrace or Caves.** You find the entrace to a cave, cavern, or network of caves. Draw an additional tile where this is found.\r
\r
*How large is the cave area? Is it fully explored by you? Are there any mysteries about it? Does it seem stable or fragile?*\r
\r
**J - High-viz Landmark.** You draw an extra tile that is nearby or touching the path of your travel. This hex contains a highly-visible landmark that you can see from far away. If the landmark is nearby by NOT touching your path, you can mark the landmark but not the biome type.\r
\r
*Is it a tall mountain? A giant tree? A volcano? A floating island? A strange glow? Whatever it is, you have to be able to see it from far away.*\r
\r
**Q - Magical Site.** You find a place where the magic of the world naturally flows or collectds. Add an additional tile with the site.\r
\r
*Is it a magic pool, a fairy field? Is it a large mystical rock in a barren circle that seethes with darkness?*\r
\r
**K - Float the River.** You find a river and decide to travel along it for 1d6x2 length. These are in addition to your 6 regular tiles, which can be put alongside the river at any point (representing excursions off the river). The river should exit and enter hexes at the mid point of a side, and flow roughly through the center of the hex. You get to decide the biome of each hex the river passes through.\r
\r
*What size is the river? Is it coming down from a mountain or swirling through the flatlands? How fast is it moving? Are there any rapids? How does it start or end?*`,DU=`**Red Joker**\r
\r
If drawn as one of your three face-up cards, use it to double or mimic one of the other cards you drew\r
\r
If drawn as your face down card, this means your party achieves final success on this turn. Treat this as a critical success as well.\r
\r
**Black Joker**\r
\r
If draw as one of your three face-up cards, use it to add a sinister or evil flair to some one else's card this turn. If playing solo, apply it to a card you draw next turn.\r
\r
IF drawn as your face down card, this means your party achieves final failure on this turn. Treat this turn as a critical failure as well.`,RU=`### **Diamonds** - Signs of Civilization\r
\r
For turn in which you have a diamond card, roll 2d6. The first die represents the race that created or lives in the location, and the second die represents relative alliance or aggression towards nearby civilizations (closer numbers are friendlier, while more distant numbers are increasingly hostile). For example rolling a "2" and "4" for a civilization roll would mean a dwarven/industrial race, that is super friendly with nearby "4"s, perhaps even allied. A nearby "1" would likely be very aggressive to it, perhaps at war even. A nearby "6" might have a tentative truce and maybe some basic trade going on with it.\r
\r
**A - Scar Upon the Land.** You encounter a hex that has a sentient-being-caused blight, malady, or devestation. Is it a a burned down forest? A goblin mud pit? A stip-mined mountain? A battlefield?\r
\r
**2 - In-progress World Project.** You enounter signs of a large-scale project being undertaken by the people of the world. Is it a large building? A new canal? A War? It has to be something that could take time to resolve or achieve.\r
\r
**3 - Ruins.** You find some abandoned or inhabited ruins. Is it a large castle? An underground labyrinth? A crashed void ship? What secrets might it hold? Who might be living there now? Is it dangerous or boring? If you want your ruins inhabited, you can roll a second civ to determine it if you want.\r
\r
**4 - Kingdom Border.** You cross through or travel along the border between two kingdoms. Indicate the border on the map by making bold one or more hex edges. What are the two kingdoms? Do two civ rolls this turn, unless you already have a narratively better answer.\r
\r
**5 - Resource Mine.** You come across a hex that has some large-scale resource mining or harvesting going on. Is it an iron mine or just a lot of farms? Are they hunting the local dragon herds or deforesting the rainforest?\r
\r
**6 - Religious Site.** You find a place with huge religious significance. Whats the site? What's the religion? What are the followers like who visit the place? Is it a shrine? A temple? A Totem Pole? A Statue? A Grove?\r
\r
**7 - Historical Site.** You find a site that has huge historical significance. Is it the site where a great leader died? Is it where a sword was pulled from a stone and a great leader was created? Is it the first house ever built in the land? Is it the castle of a dearly-departed ruler? Is it a memorial site? Is there a stone carving? Is it a cliff where a famous explorer died?\r
\r
**8 - Outpost or Waystation.** You visit a small outpost or waystation. Only a few people live here. Does it have military significance, or is it for research? Does it guard a valuable resource? Is it to warn away travellers from a dangerous site? is it to store supplies before a long journey?\r
\r
**9 - Fort or Defence.** You enounter a defensive area, castle, fort, stronghold, etc. What is it guarding? Who might want to attack it? Is it a crumbling bastion or a shiny new keep? Is it a giant wall? Is it an underground bunker?\r
\r
**10 - Road.** You find a major road and travel along it. +6 tiles that must have the road going through it. The road must exit/enter hexes at the mid-point of an edge, and must go roughly near the center of the hex. Who built the road? Who travels it? What points does it connect? Is it well maintained or in disrepair?\r
\r
**J - Minor Settlement or Town.** You pass through a small settlement, town, village, or otherwise small populated area. Is it some farmers trying to make it by? Is it some shepherds guarding their flocks? Is it a mountain complex for an order of monks? +1 tile that has a road on it that connects to the town.\r
\r
**Q - Trade Hub.** You pass through a major trade hub, This should be a medium-sized city. +3 tiles with roads, all of them coming out of the city in a different direction OR make them an ocean tile that borders the city.\r
\r
**K - Metropolis.** You find a nation capital, a bustling city, or a large populated area in a tile. +6 tiles that all have to have roads or ports in them. They don't all have to come directly out of the city, but have to connec to it in some way.`,MU=`### **Spades** - Challenges\r
\r
**A - Risky Shortcut.** You learn about a possible shortcut for your journey. IS it a portal, an underground passage, a hidden mountain trail. Will it turn out to be true, or will it end in a dead end or having to backtrack? Or will someone die attempting it?\r
- Critical Success = add 4 tiles to what you can draw this turn, and you can move your party to anywhere on the map. Increase milestone by 1\r
- Success = add 2 tiles. Increase progress die by 2\r
- Failure = No extra tiles, decrease progress die by 1\r
- Critical failure = decrease milestone by 1\r
\r
**2 - Lost.** You can draw 2 extra tiles, but all your explored tiles this turn have to be as close as possible to your starting point.\r
- Success = +2 progres die\r
- Failure = -2 progress die\r
\r
**3 - Severe Storm.** The weather you encounter in this region is unusually stormy. Describe the storms and the region. What causes them? Is it seasonal? How do the locals react to it? How is the wildlife affected?\r
- Success - +1 progress die. You learn something valuable while sheltering with locals\r
- Failure - -1 progress die. You are hampered by the storm and have to find your own shelters\r
\r
**4 - Impassable Terrain.** You encounter at least 1 tile that is impassable (+1 drawn tile). You wll have to go around to the other side of it this turn if you can. Why is it impassable? What kind of terrain is it? Is it physically impossible or just too hostile?\r
- success = +1 progress. you are able to harvest or mine a bit of terrain, or somehow use it for your advantage\r
- failure = -1 progress. Add two more impassible tiles of that terrain that get in your way\r
\r
**5 - Ancient Artifact.** Your party gains possession of an ancient artifact. What is it? What is its history? What powers does it hold?\r
- critical success = very powerful and useful artifact, +1 milestone\r
- success = useful artifact, +2 progress\r
- failure = dangerous artifact, -2 progress\r
- critical failure = very powerful cursed artifact. -1 milestone. You can't get rid of it.\r
\r
**6 - Bandits.** You are confronted by bandits. Why are they in this region? What caused them to turn to banditry? Do they have a name? Are they working for someone?\r
- critical success = they join you instead of robbing you, +2 progress\r
- success = they let you by because you somehow persuade them\r
- failure = they rob you, -1 progress\r
- critical failure = they rob you and imprison you in their camp until you are resuced or escape, -2 progress. Unless you have a cursed artifact, in which they tried to steal that, and the curse passed to them. You gain back whatever you lost from the curse, and you continue on your way.\r
\r
**7 - Magician Offers Aid.** You encounter a magical being or person that offers you aid? What kind of magic are they offering? Do you trust them? Decide if you will accept their help or not.\r
- critical success = they join you and they happen to have a powerful magic artifact as well. +3 progress, or they will take away a curse for you (but you get no other benefit from them)\r
- success = they are useful +1 progress\r
- failure = they are reckless, -1 progress\r
- critical failure = they are malicious, -3 progress. They manage to trick you into taking on a cursed item.\r
\r
**8 - Refugees.** You meet a host of refugees. What are they fleeing? Do they join you? Are they helpful or distracting?\r
\r
- Critical Success = +1 progress, start a world project\r
- success = +1 progress\r
- failure = -1 progress\r
- critical failure = -1 progress, end a world project\r
\r
**9 - River Crossing.** You decide to cross a river.\r
\r
- success = name the river, +2 progress\r
- failure = get floated down the river, -2 progress, but plus 2 tiles that the river goes through downstream\r
\r
**10 - Lost at Sea.** You get lost at sea and have to sail around to figure out where to go and what you're doing. Plus 20 ocean tiles.\r
- success = +1 progress, you can create islands\r
- failure = -1 progress, no islands, you have to end up back at a connected land mass\r
\r
**J - Powerful Patron.** You meet a powerful figure that wants to help your group, for a price. Are they benefactors or exploiters? Where did they get their power? How do they want to help?\r
\r
- critical success = +2 progress, they become even more powerful and may help you or others in the future. They rise to become a hero. Give them a heroid stronghold or residing place.\r
- success = +1 progress\r
- failure = -1 progress\r
- critical failure = -2 progress, they become even more powerful because they exploited you. They rise to villany. Give them a lair.\r
\r
**Q - Traveller Escort.** Someone asks you for an escort to a nearby place. Draw a card and resolve it nearby as you bring the traveller there.\r
\r
success - nothing nefarious, and they give you something for your trouble, +1 progress\r
failure - alterior motives, somehow they tricked you, -1 progress OR remove a curse. They tried to trick the wrong person and ended up transfering the curse to them.\r
\r
**K - Rift in the Group.** Something becomes a major source of contention within your group, and it threatens to tear your group apart. What are you arguing about? Why do people feel so strongly one way or another?\r
- critical success = +2 progress. Your party splits, but your half ends up being right. Draw an extra card next turn\r
- success = +1 progress. You resolve your differences via compromise, and are better for it.\r
- failure = -1 progress. Everyone is bitter, but no one does anything too drastic\r
- critical failure = -2 progress. The party splits, and your half is wrong. On your next turn, draw cards like normal but end your expedition in a glorious failure (death or disbanding) and treat the 4th card like a critical failure. For the other half that chose correctly, just have them explore 6 tiles in another direction.`;function ux(){let{subset:e}=fI(),t=IU;return e=="hearts"?t=PU:e=="diamonds"?t=RU:e=="clubs"?t=AU:e=="spades"?t=MU:e=="jokers"&&(t=DU),H(Pe,{children:[H("div",{className:"map_gen_rules_nav",children:[x(lm,{to:"/map_gen",relative:"path",children:x("button",{children:"Back to Map"})},"map_gen_rules")," ",x(tn,{to:"/map_gen/rules",relative:"path",end:!0,children:x("button",{children:"Overview"})},"overview"),x(tn,{to:"/map_gen/rules/hearts",relative:"path",children:x("button",{children:"Hearts"})},"hearts"),x(tn,{to:"/map_gen/rules/diamonds",relative:"path",children:x("button",{children:"Diamonds"})},"diamonds"),x(tn,{to:"/map_gen/rules/clubs",relative:"path",children:x("button",{children:"Clubs"})},"clubs"),x(tn,{to:"/map_gen/rules/spades",relative:"path",children:x("button",{children:"Spades"})},"spades"),x(tn,{to:"/map_gen/rules/jokers",relative:"path",children:x("button",{children:"Jokers"})},"jokers")]}),x(RS,{children:t})]})}const OU=AI([{path:"/",element:x(vw,{}),errorElement:x(vw,{is_error:!0}),children:[{path:"/",element:x(Ai,{page_title:"Generator",children:x(UN,{})})},{path:"characters",element:x(Ai,{page_title:"Characters",children:x(Bl,{children:x(MN,{})})}),children:[{path:"",element:x(qN,{is_show:!0})}]},{path:"items",element:x(Ai,{page_title:"Items",children:x(Bl,{children:x(nF,{})})})},{path:"abilities",element:x(Ai,{page_title:"Abilities",children:x(Bl,{children:x(sF,{})})})},{path:"map_gen",element:x(Ai,{page_title:"Map Generator",children:x(vF,{})})},{path:"map_gen/rules",element:x(Ai,{page_title:"Map Generator Rules",children:x(ux,{})}),children:[{path:":subset",element:x(ux,{})}]},{path:"data_manager",element:x(Ai,{page_title:"Data Manager",children:x(Bl,{children:x(rF,{})})})},{path:"account_info",element:x(Ai,{page_title:"Account Info",children:x(ON,{})})}]}]);function LU(){return x(_I,{router:OU})}Cf.createRoot(document.getElementById("root")).render(x(li.StrictMode,{children:x(LU,{})}));
